LavaPack.loadBundle([[2235,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){var n,f=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,r=Math.ceil,s=Math.floor,a="[BigNumber Error] ",i=a+"Number primitive has more than 15 significant digits: ",o=1e14,c=14,l=9007199254740991,u=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,h=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function b(e){for(var t,n,f=1,r=e.length,s=e[0]+"";f<r;){for(t=e[f++]+"",n=c-t.length;n--;t="0"+t);s+=t}for(r=s.length;48===s.charCodeAt(--r););return s.slice(0,r+1||1)}function m(e,t){var n,f,r=e.c,s=t.c,a=e.s,i=t.s,o=e.e,c=t.e;if(!a||!i)return null;if(n=r&&!r[0],f=s&&!s[0],n||f)return n?f?0:-i:a;if(a!=i)return a;if(n=a<0,f=o==c,!r||!s)return f?0:!r^n?1:-1;if(!f)return o>c^n?1:-1;for(i=(o=r.length)<(c=s.length)?o:c,a=0;a<i;a++)if(r[a]!=s[a])return r[a]>s[a]^n?1:-1;return o==c?0:o>c^n?1:-1}function g(e,t,n,f){if(e<t||e>n||e!==s(e))throw Error(a+(f||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return p(e.e/c)==t&&e.c[t]%2!=0}function v(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var f,r;if(t<0){for(r=n+".";++t;r+=n);e=r+e}else if(++t>(f=e.length)){for(r=n,t-=f;--t;r+=n);e+=r}else t<f&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,k,S,E,T,_,C,P,I,O,A=q.prototype={constructor:q,toString:null,valueOf:null},j=new q(1),x=20,N=4,M=-7,R=21,D=-1e7,L=1e7,B=!1,U=1,F=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},$="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function q(e,t){var n,r,a,o,u,d,h,p,b=this;if(!(b instanceof q))return new q(e,t);if(null==t){if(e&&!0===e._isBigNumber)return b.s=e.s,void(!e.c||e.e>L?b.c=b.e=null:e.e<D?b.c=[b.e=0]:(b.e=e.e,b.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(b.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,u=e;u>=10;u/=10,o++);return void(o>L?b.c=b.e=null:(b.e=o,b.c=[e]))}p=String(e)}else{if(!f.test(p=String(e)))return S(b,p,d);b.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(o=p.indexOf("."))>-1&&(p=p.replace(".","")),(u=p.search(/e/i))>0?(o<0&&(o=u),o+=+p.slice(u+1),p=p.substring(0,u)):o<0&&(o=p.length)}else{if(g(t,2,$.length,"Base"),10==t&&G)return Y(b=new q(e),x+b.e+1,N);if(p=String(e),d="number"==typeof e){if(0*e!=0)return S(b,p,d,t);if(b.s=1/e<0?(p=p.slice(1),-1):1,q.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(i+e)}else b.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=$.slice(0,t),o=u=0,h=p.length;u<h;u++)if(n.indexOf(r=p.charAt(u))<0){if("."==r){if(u>o){o=h;continue}}else if(!a&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){a=!0,u=-1,o=0;continue}return S(b,String(e),d,t)}d=!1,(o=(p=k(p,t,10,b.s)).indexOf("."))>-1?p=p.replace(".",""):o=p.length}for(u=0;48===p.charCodeAt(u);u++);for(h=p.length;48===p.charCodeAt(--h););if(p=p.slice(u,++h)){if(h-=u,d&&q.DEBUG&&h>15&&(e>l||e!==s(e)))throw Error(i+b.s*e);if((o=o-u-1)>L)b.c=b.e=null;else if(o<D)b.c=[b.e=0];else{if(b.e=o,b.c=[],u=(o+1)%c,o<0&&(u+=c),u<h){for(u&&b.c.push(+p.slice(0,u)),h-=c;u<h;)b.c.push(+p.slice(u,u+=c));u=c-(p=p.slice(u)).length}else u-=h;for(;u--;p+="0");b.c.push(+p)}}else b.c=[b.e=0]}function V(e,t,n,f){var r,s,a,i,o;if(null==n?n=N:g(n,0,8),!e.c)return e.toString();if(r=e.c[0],a=e.e,null==t)o=b(e.c),o=1==f||2==f&&(a<=M||a>=R)?v(o,a):w(o,a,"0");else if(s=(e=Y(new q(e),t,n)).e,i=(o=b(e.c)).length,1==f||2==f&&(t<=s||s<=M)){for(;i<t;o+="0",i++);o=v(o,s)}else if(t-=a,o=w(o,s,"0"),s+1>i){if(--t>0)for(o+=".";t--;o+="0");}else if((t+=s-i)>0)for(s+1==i&&(o+=".");t--;o+="0");return e.s<0&&r?"-"+o:o}function z(e,t){for(var n,f,r=1,s=new q(e[0]);r<e.length;r++)(!(f=new q(e[r])).s||(n=m(s,f))===t||0===n&&s.s===t)&&(s=f);return s}function W(e,t,n){for(var f=1,r=t.length;!t[--r];t.pop());for(r=t[0];r>=10;r/=10,f++);return(n=f+n*c-1)>L?e.c=e.e=null:n<D?e.c=[e.e=0]:(e.e=n,e.c=t),e}function Y(e,t,n,f){var a,i,l,d,h,p,b,m=e.c,g=u;if(m){e:{for(a=1,d=m[0];d>=10;d/=10,a++);if((i=t-a)<0)i+=c,l=t,h=m[p=0],b=s(h/g[a-l-1]%10);else if((p=r((i+1)/c))>=m.length){if(!f)break e;for(;m.length<=p;m.push(0));h=b=0,a=1,l=(i%=c)-c+1}else{for(h=d=m[p],a=1;d>=10;d/=10,a++);b=(l=(i%=c)-c+a)<0?0:s(h/g[a-l-1]%10)}if(f=f||t<0||null!=m[p+1]||(l<0?h:h%g[a-l-1]),f=n<4?(b||f)&&(0==n||n==(e.s<0?3:2)):b>5||5==b&&(4==n||f||6==n&&(i>0?l>0?h/g[a-l]:0:m[p-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,f?(t-=e.e+1,m[0]=g[(c-t%c)%c],e.e=-t||0):m[0]=e.e=0,e;if(0==i?(m.length=p,d=1,p--):(m.length=p+1,d=g[c-i],m[p]=l>0?s(h/g[a-l]%g[l])*d:0),f)for(;;){if(0==p){for(i=1,l=m[0];l>=10;l/=10,i++);for(l=m[0]+=d,d=1;l>=10;l/=10,d++);i!=d&&(e.e++,m[0]==o&&(m[0]=1));break}if(m[p]+=d,m[p]!=o)break;m[p--]=0,d=1}for(i=m.length;0===m[--i];m.pop());}e.e>L?e.c=e.e=null:e.e<D&&(e.c=[e.e=0])}return e}function K(e){var t,n=e.e;return null===n?e.toString():(t=b(e.c),t=n<=M||n>=R?v(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(g(n=e[t],0,h,t),x=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(g(n=e[t],0,8,t),N=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(g(n[0],-h,0,t),g(n[1],0,h,t),M=n[0],R=n[1]):(g(n,-h,h,t),M=-(R=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)g(n[0],-h,-1,t),g(n[1],1,h,t),D=n[0],L=n[1];else{if(g(n,-h,h,t),!n)throw Error(a+t+" cannot be zero: "+n);D=-(L=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!n,Error(a+"crypto unavailable");B=n}else B=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(g(n=e[t],0,9,t),U=n),e.hasOwnProperty(t="POW_PRECISION")&&(g(n=e[t],0,h,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);H=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);G="0123456789"==n.slice(0,10),$=n}}return{DECIMAL_PLACES:x,ROUNDING_MODE:N,EXPONENTIAL_AT:[M,R],RANGE:[D,L],CRYPTO:B,MODULO_MODE:U,POW_PRECISION:F,FORMAT:H,ALPHABET:$}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,n,f=e.c,r=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(f)){if((1===i||-1===i)&&r>=-h&&r<=h&&r===s(r)){if(0===f[0]){if(0===r&&1===f.length)return!0;break e}if((t=(r+1)%c)<1&&(t+=c),String(f[0]).length==t){for(t=0;t<f.length;t++)if((n=f[t])<0||n>=o||n!==s(n))break e;if(0!==n)return!0}}}else if(null===f&&null===r&&(null===i||1===i||-1===i))return!0;throw Error(a+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return z(arguments,-1)},q.minimum=q.min=function(){return z(arguments,1)},q.random=(E=9007199254740992,T=Math.random()*E&2097151?function(){return s(Math.random()*E)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,f,i,o,l=0,d=[],p=new q(j);if(null==e?e=x:g(e,0,h),i=r(e/c),B)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));l<i;)(o=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(d.push(o%1e14),l+=2);l=i/2}else{if(!crypto.randomBytes)throw B=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(i*=7);l<i;)(o=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(d.push(o%1e14),l+=7);l=i/7}if(!B)for(;l<i;)(o=T())<9e15&&(d[l++]=o%1e14);for(i=d[--l],e%=c,i&&e&&(o=u[c-e],d[l]=s(i/o)*o);0===d[l];d.pop(),l--);if(l<0)d=[f=0];else{for(f=-1;0===d[0];d.splice(0,1),f-=c);for(l=1,o=d[0];o>=10;o/=10,l++);l<c&&(f-=c-l)}return p.e=f,p.c=d,p}),q.sum=function(){for(var e=1,t=arguments,n=new q(t[0]);e<t.length;)n=n.plus(t[e++]);return n},k=function(){var e="0123456789";function t(e,t,n,f){for(var r,s,a=[0],i=0,o=e.length;i<o;){for(s=a.length;s--;a[s]*=t);for(a[0]+=f.indexOf(e.charAt(i++)),r=0;r<a.length;r++)a[r]>n-1&&(null==a[r+1]&&(a[r+1]=0),a[r+1]+=a[r]/n|0,a[r]%=n)}return a.reverse()}return function(f,r,s,a,i){var o,c,l,u,d,h,p,m,g=f.indexOf("."),y=x,v=N;for(g>=0&&(u=F,F=0,f=f.replace(".",""),h=(m=new q(r)).pow(f.length-g),F=u,m.c=t(w(b(h.c),h.e,"0"),10,s,e),m.e=m.c.length),l=u=(p=t(f,r,s,i?(o=$,e):(o=e,$))).length;0==p[--u];p.pop());if(!p[0])return o.charAt(0);if(g<0?--l:(h.c=p,h.e=l,h.s=a,p=(h=n(h,m,y,v,s)).c,d=h.r,l=h.e),g=p[c=l+y+1],u=s/2,d=d||c<0||null!=p[c+1],d=v<4?(null!=g||d)&&(0==v||v==(h.s<0?3:2)):g>u||g==u&&(4==v||d||6==v&&1&p[c-1]||v==(h.s<0?8:7)),c<1||!p[0])f=d?w(o.charAt(1),-y,o.charAt(0)):o.charAt(0);else{if(p.length=c,d)for(--s;++p[--c]>s;)p[c]=0,c||(++l,p=[1].concat(p));for(u=p.length;!p[--u];);for(g=0,f="";g<=u;f+=o.charAt(p[g++]));f=w(f,l,o.charAt(0))}return f}}(),n=function(){function e(e,t,n){var f,r,s,a,i=0,o=e.length,c=t%d,l=t/d|0;for(e=e.slice();o--;)i=((r=c*(s=e[o]%d)+(f=l*s+(a=e[o]/d|0)*c)%d*d+i)/n|0)+(f/d|0)+l*a,e[o]=r%n;return i&&(e=[i].concat(e)),e}function t(e,t,n,f){var r,s;if(n!=f)s=n>f?1:-1;else for(r=s=0;r<n;r++)if(e[r]!=t[r]){s=e[r]>t[r]?1:-1;break}return s}function n(e,t,n,f){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*f+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(f,r,a,i,l){var u,d,h,b,m,g,y,v,w,k,S,E,T,_,C,P,I,O=f.s==r.s?1:-1,A=f.c,j=r.c;if(!(A&&A[0]&&j&&j[0]))return new q(f.s&&r.s&&(A?!j||A[0]!=j[0]:j)?A&&0==A[0]||!j?0*O:O/0:NaN);for(w=(v=new q(O)).c=[],O=a+(d=f.e-r.e)+1,l||(l=o,d=p(f.e/c)-p(r.e/c),O=O/c|0),h=0;j[h]==(A[h]||0);h++);if(j[h]>(A[h]||0)&&d--,O<0)w.push(1),b=!0;else{for(_=A.length,P=j.length,h=0,O+=2,(m=s(l/(j[0]+1)))>1&&(j=e(j,m,l),A=e(A,m,l),P=j.length,_=A.length),T=P,S=(k=A.slice(0,P)).length;S<P;k[S++]=0);I=j.slice(),I=[0].concat(I),C=j[0],j[1]>=l/2&&C++;do{if(m=0,(u=t(j,k,P,S))<0){if(E=k[0],P!=S&&(E=E*l+(k[1]||0)),(m=s(E/C))>1)for(m>=l&&(m=l-1),y=(g=e(j,m,l)).length,S=k.length;1==t(g,k,y,S);)m--,n(g,P<y?I:j,y,l),y=g.length,u=1;else 0==m&&(u=m=1),y=(g=j.slice()).length;if(y<S&&(g=[0].concat(g)),n(k,g,S,l),S=k.length,-1==u)for(;t(j,k,P,S)<1;)m++,n(k,P<S?I:j,S,l),S=k.length}else 0===u&&(m++,k=[0]);w[h++]=m,k[0]?k[S++]=A[T]||0:(k=[A[T]],S=1)}while((T++<_||null!=k[0])&&O--);b=null!=k[0],w[0]||w.splice(0,1)}if(l==o){for(h=1,O=w[0];O>=10;O/=10,h++);Y(v,a+(v.e=h+d*c-1)+1,i,b)}else v.e=d,v.r=+b;return v}}(),_=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,P=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,n,f){var r,s=n?t:t.replace(O,"");if(I.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(_,(function(e,t,n){return r="x"==(n=n.toLowerCase())?16:"b"==n?2:8,f&&f!=r?e:t})),f&&(r=f,s=s.replace(C,"$1").replace(P,"0.$1")),t!=s))return new q(s,r);if(q.DEBUG)throw Error(a+"Not a"+(f?" base "+f:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return m(this,new q(e,t))},A.decimalPlaces=A.dp=function(e,t){var n,f,r,s=this;if(null!=e)return g(e,0,h),null==t?t=N:g(t,0,8),Y(new q(s),e+s.e+1,t);if(!(n=s.c))return null;if(f=((r=n.length-1)-p(this.e/c))*c,r=n[r])for(;r%10==0;r/=10,f--);return f<0&&(f=0),f},A.dividedBy=A.div=function(e,t){return n(this,new q(e,t),x,N)},A.dividedToIntegerBy=A.idiv=function(e,t){return n(this,new q(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var n,f,i,o,l,u,d,h,p=this;if((e=new q(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+K(e));if(null!=t&&(t=new q(t)),l=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new q(Math.pow(+K(p),l?e.s*(2-y(e)):+K(e))),t?h.mod(t):h;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new q(NaN);(f=!u&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return o=p.s<0&&y(e)?-0:0,p.e>-1&&(o=1/o),new q(u?1/o:o);F&&(o=r(F/c+2))}for(l?(n=new q(.5),u&&(e.s=1),d=y(e)):d=(i=Math.abs(+K(e)))%2,h=new q(j);;){if(d){if(!(h=h.times(p)).c)break;o?h.c.length>o&&(h.c.length=o):f&&(h=h.mod(t))}if(i){if(0===(i=s(i/2)))break;d=i%2}else if(Y(e=e.times(n),e.e+1,1),e.e>14)d=y(e);else{if(0===(i=+K(e)))break;d=i%2}p=p.times(p),o?p.c&&p.c.length>o&&(p.c.length=o):f&&(p=p.mod(t))}return f?h:(u&&(h=j.div(h)),t?h.mod(t):o?Y(h,F,N,undefined):h)},A.integerValue=function(e){var t=new q(this);return null==e?e=N:g(e,0,8),Y(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===m(this,new q(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return m(this,new q(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=m(this,new q(e,t)))||0===t},A.isInteger=function(){return!!this.c&&p(this.e/c)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return m(this,new q(e,t))<0},A.isLessThanOrEqualTo=A.lte=function(e,t){return-1===(t=m(this,new q(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var n,f,r,s,a=this,i=a.s;if(t=(e=new q(e,t)).s,!i||!t)return new q(NaN);if(i!=t)return e.s=-t,a.plus(e);var l=a.e/c,u=e.e/c,d=a.c,h=e.c;if(!l||!u){if(!d||!h)return d?(e.s=-t,e):new q(h?a:NaN);if(!d[0]||!h[0])return h[0]?(e.s=-t,e):new q(d[0]?a:3==N?-0:0)}if(l=p(l),u=p(u),d=d.slice(),i=l-u){for((s=i<0)?(i=-i,r=d):(u=l,r=h),r.reverse(),t=i;t--;r.push(0));r.reverse()}else for(f=(s=(i=d.length)<(t=h.length))?i:t,i=t=0;t<f;t++)if(d[t]!=h[t]){s=d[t]<h[t];break}if(s&&(r=d,d=h,h=r,e.s=-e.s),(t=(f=h.length)-(n=d.length))>0)for(;t--;d[n++]=0);for(t=o-1;f>i;){if(d[--f]<h[f]){for(n=f;n&&!d[--n];d[n]=t);--d[n],d[f]+=o}d[f]-=h[f]}for(;0==d[0];d.splice(0,1),--u);return d[0]?W(e,d,u):(e.s=3==N?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var f,r,s=this;return e=new q(e,t),!s.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||s.c&&!s.c[0]?new q(s):(9==U?(r=e.s,e.s=1,f=n(s,e,0,3),e.s=r,f.s*=r):f=n(s,e,0,U),(e=s.minus(f.times(e))).c[0]||1!=U||(e.s=s.s),e)},A.multipliedBy=A.times=function(e,t){var n,f,r,s,a,i,l,u,h,b,m,g,y,v,w,k=this,S=k.c,E=(e=new q(e,t)).c;if(!(S&&E&&S[0]&&E[0]))return!k.s||!e.s||S&&!S[0]&&!E||E&&!E[0]&&!S?e.c=e.e=e.s=null:(e.s*=k.s,S&&E?(e.c=[0],e.e=0):e.c=e.e=null),e;for(f=p(k.e/c)+p(e.e/c),e.s*=k.s,(l=S.length)<(b=E.length)&&(y=S,S=E,E=y,r=l,l=b,b=r),r=l+b,y=[];r--;y.push(0));for(v=o,w=d,r=b;--r>=0;){for(n=0,m=E[r]%w,g=E[r]/w|0,s=r+(a=l);s>r;)n=((u=m*(u=S[--a]%w)+(i=g*u+(h=S[a]/w|0)*m)%w*w+y[s]+n)/v|0)+(i/w|0)+g*h,y[s--]=u%v;y[s]=n}return n?++f:y.splice(0,1),W(e,y,f)},A.negated=function(){var e=new q(this);return e.s=-e.s||null,e},A.plus=function(e,t){var n,f=this,r=f.s;if(t=(e=new q(e,t)).s,!r||!t)return new q(NaN);if(r!=t)return e.s=-t,f.minus(e);var s=f.e/c,a=e.e/c,i=f.c,l=e.c;if(!s||!a){if(!i||!l)return new q(r/0);if(!i[0]||!l[0])return l[0]?e:new q(i[0]?f:0*r)}if(s=p(s),a=p(a),i=i.slice(),r=s-a){for(r>0?(a=s,n=l):(r=-r,n=i),n.reverse();r--;n.push(0));n.reverse()}for((r=i.length)-(t=l.length)<0&&(n=l,l=i,i=n,t=r),r=0;t;)r=(i[--t]=i[t]+l[t]+r)/o|0,i[t]=o===i[t]?0:i[t]%o;return r&&(i=[r].concat(i),++a),W(e,i,a)},A.precision=A.sd=function(e,t){var n,f,r,s=this;if(null!=e&&e!==!!e)return g(e,1,h),null==t?t=N:g(t,0,8),Y(new q(s),e,t);if(!(n=s.c))return null;if(f=(r=n.length-1)*c+1,r=n[r]){for(;r%10==0;r/=10,f--);for(r=n[0];r>=10;r/=10,f++);}return e&&s.e+1>f&&(f=s.e+1),f},A.shiftedBy=function(e){return g(e,-9007199254740991,l),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,f,r,s,a=this,i=a.c,o=a.s,c=a.e,l=x+4,u=new q("0.5");if(1!==o||!i||!i[0])return new q(!o||o<0&&(!i||i[0])?NaN:i?a:1/0);if(0==(o=Math.sqrt(+K(a)))||o==1/0?(((t=b(i)).length+c)%2==0&&(t+="0"),o=Math.sqrt(+t),c=p((c+1)/2)-(c<0||c%2),f=new q(t=o==1/0?"5e"+c:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+c)):f=new q(o+""),f.c[0])for((o=(c=f.e)+l)<3&&(o=0);;)if(s=f,f=u.times(s.plus(n(a,s,l,1))),b(s.c).slice(0,o)===(t=b(f.c)).slice(0,o)){if(f.e<c&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(Y(f,f.e+x+2,1),e=!f.times(f).eq(a));break}if(!r&&(Y(s,s.e+x+2,0),s.times(s).eq(a))){f=s;break}l+=4,o+=4,r=1}return Y(f,f.e+x+1,N,e)},A.toExponential=function(e,t){return null!=e&&(g(e,0,h),e++),V(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(g(e,0,h),e=e+this.e+1),V(this,e,t)},A.toFormat=function(e,t,n){var f,r=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=H;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(f=r.toFixed(e,t),r.c){var s,i=f.split("."),o=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",u=i[0],d=i[1],h=r.s<0,p=h?u.slice(1):u,b=p.length;if(c&&(s=o,o=c,c=s,b-=s),o>0&&b>0){for(s=b%o||o,u=p.substr(0,s);s<b;s+=o)u+=l+p.substr(s,o);c>0&&(u+=l+p.slice(s)),h&&(u="-"+u)}f=d?u+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):u}return(n.prefix||"")+f+(n.suffix||"")},A.toFraction=function(e){var t,f,r,s,i,o,l,d,h,p,m,g,y=this,v=y.c;if(null!=e&&(!(l=new q(e)).isInteger()&&(l.c||1!==l.s)||l.lt(j)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+K(l));if(!v)return new q(y);for(t=new q(j),h=f=new q(j),r=d=new q(j),g=b(v),i=t.e=g.length-y.e-1,t.c[0]=u[(o=i%c)<0?c+o:o],e=!e||l.comparedTo(t)>0?i>0?t:h:l,o=L,L=1/0,l=new q(g),d.c[0]=0;p=n(l,t,0,1),1!=(s=f.plus(p.times(r))).comparedTo(e);)f=r,r=s,h=d.plus(p.times(s=h)),d=s,t=l.minus(p.times(s=t)),l=s;return s=n(e.minus(f),r,0,1),d=d.plus(s.times(h)),f=f.plus(s.times(r)),d.s=h.s=y.s,m=n(h,r,i*=2,N).minus(y).abs().comparedTo(n(d,f,i,N).minus(y).abs())<1?[h,r]:[d,f],L=o,m},A.toNumber=function(){return+K(this)},A.toPrecision=function(e,t){return null!=e&&g(e,1,h),V(this,e,t,2)},A.toString=function(e){var t,n=this,f=n.s,r=n.e;return null===r?f?(t="Infinity",f<0&&(t="-"+t)):t="NaN":(null==e?t=r<=M||r>=R?v(b(n.c),r):w(b(n.c),r,"0"):10===e&&G?t=w(b((n=Y(new q(n),x+r+1,N)).c),n.e,"0"):(g(e,2,$.length,"Base"),t=k(w(b(n.c),r,"0"),10,e,f,!0)),f<0&&n.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return K(this)},A._isBigNumber=!0,null!=t&&q.set(t),q}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"@metamask/smart-transactions-controller>bignumber.js",file:"node_modules/@metamask/smart-transactions-controller/node_modules/bignumber.js/bignumber.js"}],[2236,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={name:"@metamask/smart-transactions-controller",version:"15.0.0",description:"Improves success rates for swaps by trialing transactions privately and finding minimum fees",repository:{type:"git",url:"https://github.com/MetaMask/smart-transactions-controller.git"},license:"SEE LICENSE IN LICENSE",main:"dist/index.js",types:"dist/index.d.ts",files:["dist/"],scripts:{build:"tsc --project tsconfig.build.json","build:clean":"rm -rf dist && yarn build","build:link":"yarn build && cd dist && yarn link && rm -rf node_modules && cd ..",lint:"yarn lint:eslint && yarn lint:misc --check","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' '**/*.yml' '!.yarnrc.yml' --ignore-path .gitignore",prepack:"./scripts/prepack.sh",test:"jest","test:watch":"jest --watchAll"},dependencies:{"@babel/runtime":"^7.24.1","@ethereumjs/tx":"^5.2.1","@ethereumjs/util":"^9.0.2","@ethersproject/bytes":"^5.7.0","@metamask/base-controller":"^7.0.1","@metamask/controller-utils":"^11.0.0","@metamask/eth-json-rpc-provider":"^4.1.6","@metamask/eth-query":"^4.0.0","@metamask/polling-controller":"^12.0.0","bignumber.js":"^9.0.1",events:"^3.3.0","fast-json-patch":"^3.1.0",lodash:"^4.17.21"},devDependencies:{"@lavamoat/allow-scripts":"^3.2.1","@lavamoat/preinstall-always-fail":"^2.1.0","@metamask/auto-changelog":"^3.1.0","@metamask/eslint-config":"^12.2.0","@metamask/eslint-config-jest":"^12.1.0","@metamask/eslint-config-nodejs":"^12.1.0","@metamask/eslint-config-typescript":"^12.1.0","@metamask/gas-fee-controller":"^22.0.0","@metamask/json-rpc-engine":"^10.0.1","@metamask/network-controller":"^22.0.0","@metamask/transaction-controller":"^38.0.0","@types/jest":"^26.0.24","@types/lodash":"^4.14.194","@types/node":"^18.19.17","@types/sinon":"^9.0.10","@typescript-eslint/eslint-plugin":"^5.33.0","@typescript-eslint/parser":"^5.33.0",eslint:"^8.48.0","eslint-config-prettier":"^8.8.0","eslint-plugin-import":"~2.26.0","eslint-plugin-jest":"^27.1.5","eslint-plugin-jsdoc":"^39.2.9","eslint-plugin-n":"^15.7.0","eslint-plugin-prettier":"^4.2.1","eslint-plugin-promise":"^6.1.1","isomorphic-fetch":"^3.0.0",jest:"^29.7.0",nock:"^14.0.0-beta.7",prettier:"^2.8.8","prettier-plugin-packagejson":"^2.4.3",sinon:"^9.2.4","ts-jest":"^29.1.4",typescript:"~4.8.4"},peerDependencies:{"@metamask/network-controller":"^22.0.0","@metamask/transaction-controller":"^38.0.0"},peerDependenciesMeta:{"@metamask/accounts-controller":{optional:!0},"@metamask/approval-controller":{optional:!0}},packageManager:"yarn@3.2.1",engines:{node:"^18.18 || >=20"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"@lavamoat/preinstall-always-fail":!1,"@metamask/controller-utils>ethereumjs-util>ethereum-cryptography>keccak":!1,"@metamask/controller-utils>ethereumjs-util>ethereum-cryptography>secp256k1":!1,"@metamask/controller-utils>babel-runtime>core-js":!1,"@metamask/transaction-controller>@metamask/accounts-controller>@metamask/keyring-controller>ethereumjs-wallet>ethereum-cryptography>keccak":!1,"@metamask/transaction-controller>@metamask/accounts-controller>@metamask/keyring-controller>ethereumjs-wallet>ethereum-cryptography>secp256k1":!1}}}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/package.json"}],[2237,{"../index.cjs":2240,"../snaps/Timer.cjs":2260,"@metamask/base-controller":1349,"@metamask/snaps-rpc-methods":2303,"@metamask/snaps-utils":2471,"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s,a,i=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CronjobController=n.DAILY_TIMEOUT=void 0;const c=e("@metamask/base-controller"),l=e("@metamask/snaps-rpc-methods"),u=e("@metamask/snaps-utils"),d=e("@metamask/utils"),h=e("../index.cjs"),p=e("../snaps/Timer.cjs");n.DAILY_TIMEOUT=(0,d.inMilliseconds)(24,d.Duration.Hour);class b extends c.BaseController{constructor({messenger:e,state:t}){super({messenger:e,metadata:{jobs:{persist:!0,anonymous:!1}},name:"CronjobController",state:{jobs:{},...t}}),f.set(this,void 0),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),i(this,s,new Map,"f"),i(this,a,new Map,"f"),i(this,f,e,"f"),this._handleSnapRegisterEvent=this._handleSnapRegisterEvent.bind(this),this._handleSnapUnregisterEvent=this._handleSnapUnregisterEvent.bind(this),this._handleEventSnapUpdated=this._handleEventSnapUpdated.bind(this),this.messagingSystem.subscribe("SnapController:snapInstalled",this._handleSnapRegisterEvent),this.messagingSystem.subscribe("SnapController:snapUninstalled",this._handleSnapUnregisterEvent),this.messagingSystem.subscribe("SnapController:snapEnabled",this._handleSnapRegisterEvent),this.messagingSystem.subscribe("SnapController:snapDisabled",this._handleSnapUnregisterEvent),this.messagingSystem.subscribe("SnapController:snapUpdated",this._handleEventSnapUpdated),this.dailyCheckIn().catch((e=>{(0,u.logError)(e)}))}getAllJobs(){const e=this.messagingSystem.call("SnapController:getAll");return(0,h.getRunnableSnaps)(e).map((e=>this.getSnapJobs(e.id))).flat().filter((e=>e!==undefined))}getSnapJobs(e){const t=o(this,f,"f").call("PermissionController:getPermissions",e),n=t?.[l.SnapEndowments.Cronjob],r=(0,l.getCronjobCaveatJobs)(n);return r?.map(((t,n)=>({...t,id:`${e}-${n}`,snapId:e})))}register(e){const t=this.getSnapJobs(e);t?.forEach((e=>this.schedule(e)))}schedule(e){if(o(this,s,"f").has(e.id))return;const t=(0,u.parseCronExpression)(e.expression).next(),f=new Date,r=t.getTime()-f.getTime();if(r>n.DAILY_TIMEOUT)return;const i=new p.Timer(r);i.start((()=>{this.executeCronjob(e).catch((e=>{(0,u.logError)(e)})),o(this,s,"f").delete(e.id),this.schedule(e)})),this.state.jobs[e.id]?.lastRun||this.updateJobLastRunState(e.id,0),o(this,s,"f").set(e.id,i),o(this,a,"f").set(e.id,e.snapId)}async executeCronjob(e){this.updateJobLastRunState(e.id,Date.now()),await o(this,f,"f").call("SnapController:handleRequest",{snapId:e.snapId,origin:"",handler:u.HandlerType.OnCronjob,request:e.request})}unregister(e){const t=[...o(this,a,"f").entries()].filter((([t,n])=>n===e));t.length&&t.forEach((([e])=>{const t=o(this,s,"f").get(e);t&&(t.cancel(),o(this,s,"f").delete(e),o(this,a,"f").delete(e))}))}updateJobLastRunState(e,t){this.update((n=>{n.jobs[e]={lastRun:t}}))}async dailyCheckIn(){const e=this.getAllJobs();for(const t of e){const e=(0,u.parseCronExpression)(t.expression),n=this.state.jobs[t.id]?.lastRun;n!==undefined&&e.hasPrev()&&e.prev().getTime()>n&&await this.executeCronjob(t),this.schedule(t)}i(this,r,new p.Timer(n.DAILY_TIMEOUT),"f"),o(this,r,"f").start((()=>{this.dailyCheckIn().catch((e=>{(0,u.logError)(e)}))}))}destroy(){super.destroy(),this.messagingSystem.unsubscribe("SnapController:snapInstalled",this._handleSnapRegisterEvent),this.messagingSystem.unsubscribe("SnapController:snapUninstalled",this._handleSnapUnregisterEvent),this.messagingSystem.unsubscribe("SnapController:snapEnabled",this._handleSnapRegisterEvent),this.messagingSystem.unsubscribe("SnapController:snapDisabled",this._handleSnapUnregisterEvent),this.messagingSystem.unsubscribe("SnapController:snapUpdated",this._handleEventSnapUpdated),o(this,a,"f").forEach((e=>{this.unregister(e)}))}_handleSnapRegisterEvent(e){this.register(e.id)}_handleSnapUnregisterEvent(e){this.unregister(e.id)}_handleEventSnapUpdated(e){this.unregister(e.id),this.register(e.id)}}n.CronjobController=b,f=new WeakMap,r=new WeakMap,s=new WeakMap,a=new WeakMap}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/cronjob/CronjobController.cjs"}],[2238,{"./CronjobController.cjs":2237},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./CronjobController.cjs"),n)}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/cronjob/index.cjs"}],[2239,{"@metamask/utils":2620,"@xstate/fsm":3051},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.forceStrict=n.validateMachine=void 0;const f=e("@metamask/utils"),r=e("@xstate/fsm");n.validateMachine=function(e){(0,f.assert)("_options"in e,"The machine is not an @xstate/fsm machine");const t=e,n=new Set,r=e=>{return(t=e,Array.isArray(t)?t:t===undefined||null===t?[]:[t]).flatMap((e=>"string"==typeof e?[e]:((0,f.assert)("function"==typeof e),[]))).forEach(n.add.bind(n));var t};for(const e of Object.values(t.config.states)){r(e.entry),r(e.exit);for(const t of Object.values(e.on??{}))r(t.actions)}n.forEach((e=>(0,f.assert)(t._options.actions!==undefined&&e in t._options.actions,`Action "${e}" doesn't have an implementation`)))},n.forceStrict=function(e){let t=!1;e.subscribe((e=>{(0,f.assert)(!t||e.changed,"Invalid state transition"),t=!0}));const n=e.send.bind(e);e.send=(...t)=>((0,f.assert)(e.status===r.InterpreterStatus.Running,"Interpreter is stopped"),n(...t))}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/fsm.cjs"}],[224,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,t.data=function(e){if((0,f.hasProperty)(e,"NetworkController")&&(0,f.isObject)(e.NetworkController)&&(0,f.hasProperty)(e.NetworkController,"provider")){const t=e.NetworkController;return t.providerConfig=t.provider,delete t.provider,{...e,NetworkController:t}}var t,n;if((0,f.isObject)(e.NetworkController)){if(!(0,f.hasProperty)(e.NetworkController,"provider")){var r,s;if(e.NetworkController.providerConfig===undefined)null===(r=global.sentry)||void 0===r||null===(s=r.captureException)||void 0===s||s.call(r,new Error("typeof state.NetworkController.provider is "+typeof e.NetworkController.provider))}}else null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=86}}},{package:"$root$",file:"app/scripts/migrations/086.ts"}],[2240,{"./cronjob/index.cjs":2238,"./insights/index.cjs":2242,"./interface/index.cjs":2244,"./services/index.cjs":2252,"./snaps/index.cjs":2262,"./utils.cjs":2272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./services/index.cjs"),n),r(e("./snaps/index.cjs"),n),r(e("./utils.cjs"),n),r(e("./cronjob/index.cjs"),n),r(e("./interface/index.cjs"),n),r(e("./insights/index.cjs"),n)}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/index.cjs"}],[2241,{"../snaps/index.cjs":2262,"@metamask/base-controller":1349,"@metamask/snaps-rpc-methods":2303,"@metamask/snaps-utils":2471,"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s,a,i,o,c,l,u,d,h=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SnapInsightsController=void 0;const p=e("@metamask/base-controller"),b=e("@metamask/snaps-rpc-methods"),m=e("@metamask/snaps-utils"),g=e("@metamask/utils"),y=e("../snaps/index.cjs");class v extends p.BaseController{constructor({messenger:e,state:t}){super({messenger:e,metadata:{insights:{persist:!1,anonymous:!1}},name:"SnapInsightsController",state:{insights:{},...t}}),f.add(this),this.messagingSystem.subscribe("TransactionController:unapprovedTransactionAdded",h(this,f,"m",a).bind(this)),this.messagingSystem.subscribe("TransactionController:transactionStatusUpdated",h(this,f,"m",c).bind(this)),this.messagingSystem.subscribe("SignatureController:stateChange",h(this,f,"m",i).bind(this))}}n.SnapInsightsController=v,f=new WeakSet,r=function(e){return(0,g.hasProperty)(this.state.insights,e)},s=function(e){const t=this.messagingSystem.call("SnapController:getAll");return(0,y.getRunnableSnaps)(t).reduce(((t,n)=>{const f=this.messagingSystem.call("PermissionController:getPermissions",n.id);return f&&(0,g.hasProperty)(f,e)&&t.push({snapId:n.id,permission:f[e]}),t}),[])},a=function(e){const{id:t,txParams:n,chainId:r,origin:a}=e,i=`eip155:${parseInt(r,16)}`;h(this,f,"m",s).call(this,b.SnapEndowments.TransactionInsight).forEach((({snapId:e,permission:r})=>{const s=(0,b.getTransactionOriginCaveat)(r)&&a?a:null;this.update((n=>{var f;(f=n.insights)[t]??(f[t]={}),n.insights[t][e]={snapId:e,loading:!0}})),h(this,f,"m",u).call(this,{snapId:e,handler:m.HandlerType.OnTransaction,params:{transaction:n,chainId:i,transactionOrigin:s}}).then((n=>h(this,f,"m",d).call(this,{id:t,snapId:e,response:n}))).catch((n=>h(this,f,"m",d).call(this,{id:t,snapId:e,error:n})))}))},i=function(e){for(const t of Object.keys(this.state.insights))(0,g.hasProperty)(e.unapprovedTypedMessages,t)||(0,g.hasProperty)(e.unapprovedPersonalMsgs,t)||h(this,f,"m",l).call(this,t);if(e.unapprovedPersonalMsgCount>0||e.unapprovedTypedMessagesCount>0){const t=h(this,f,"m",s).call(this,b.SnapEndowments.SignatureInsight);for(const n of Object.values(e.unapprovedPersonalMsgs))h(this,f,"m",o).call(this,t,n);for(const n of Object.values(e.unapprovedTypedMessages))h(this,f,"m",o).call(this,t,n)}},o=function(e,t){const{id:n,msgParams:s}=t;if(h(this,f,"m",r).call(this,n))return;const{from:a,data:i,signatureMethod:o,origin:c}=s,l={from:a,data:"eth_signTypedData_v3"===o||"eth_signTypedData_v4"===o?JSON.parse(i):i,signatureMethod:o};e.forEach((({snapId:e,permission:t})=>{const r=(0,b.getSignatureOriginCaveat)(t),s=c&&r?c:null;this.update((t=>{var f;(f=t.insights)[n]??(f[n]={}),t.insights[n][e]={snapId:e,loading:!0}})),h(this,f,"m",u).call(this,{snapId:e,handler:m.HandlerType.OnSignature,params:{signature:l,signatureOrigin:s}}).then((t=>h(this,f,"m",d).call(this,{id:n,snapId:e,response:t}))).catch((t=>h(this,f,"m",d).call(this,{id:n,snapId:e,error:t})))}))},c=function({transactionMeta:e}){"unapproved"!==e.status&&h(this,f,"m",l).call(this,e.id)},l=function(e){h(this,f,"m",r).call(this,e)&&(Object.values(this.state.insights[e]).filter((e=>e.interfaceId)).forEach((e=>{this.messagingSystem.call("SnapInterfaceController:deleteInterface",e.interfaceId)})),this.update((t=>{delete t.insights[e]})))},u=async function({snapId:e,handler:t,params:n}){return this.messagingSystem.call("SnapController:handleRequest",{snapId:e,origin:"",handler:t,request:{method:"",params:n}})},d=function({id:e,snapId:t,response:n,error:s}){h(this,f,"m",r).call(this,e)&&this.update((f=>{f.insights[e][t].loading=!1,f.insights[e][t].interfaceId=n?.id,f.insights[e][t].severity=n?.severity,f.insights[e][t].error=s?.message}))}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/insights/SnapInsightsController.cjs"}],[2242,{"./SnapInsightsController.cjs":2241},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./SnapInsightsController.cjs"),n)}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/insights/index.cjs"}],[2243,{"./utils.cjs":2245,"@metamask/base-controller":1349,"@metamask/snaps-sdk":2342,"@metamask/snaps-utils":2471,"@metamask/utils":2620,immer:3926,nanoid:2274},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s,a,i,o,c,l,u,d,h=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SnapInterfaceController=void 0;const p=e("@metamask/base-controller"),b=e("@metamask/snaps-sdk"),m=e("@metamask/snaps-utils"),g=e("@metamask/utils"),y=e("immer"),v=e("nanoid"),w=e("./utils.cjs"),k=1e7,S="SnapInterfaceController";class E extends p.BaseController{constructor({messenger:e,state:t}){super({messenger:e,metadata:{interfaces:{persist:e=>Object.entries(e).reduce(((e,[t,n])=>n.contentType===b.ContentType.Notification?(e[t]=n,e):e),{}),anonymous:!1}},name:S,state:{interfaces:{},...t}}),f.add(this),this.messagingSystem.subscribe("NotificationServicesController:notificationsListUpdated",h(this,f,"m",d).bind(this)),h(this,f,"m",r).call(this)}async createInterface(e,t,n,r){const s=(0,w.getJsxInterface)(t);await h(this,f,"m",u).call(this,s),(0,w.validateInterfaceContext)(n);const a=(0,v.nanoid)(),i=(0,w.constructState)({},s);return this.update((t=>{t.interfaces[a]={snapId:e,content:(0,y.castDraft)(s),state:i,context:n??null,contentType:r??null}})),a}getInterface(e,t){return h(this,f,"m",s).call(this,e,t),this.state.interfaces[t]}async updateInterface(e,t,n,r){h(this,f,"m",s).call(this,e,t);const a=(0,w.getJsxInterface)(n);await h(this,f,"m",u).call(this,a),(0,w.validateInterfaceContext)(r);const i=this.state.interfaces[t].state,o=(0,w.constructState)(i,a);this.update((e=>{e.interfaces[t].state=o,e.interfaces[t].content=(0,y.castDraft)(a),r&&(e.interfaces[t].context=r)}))}deleteInterface(e){this.update((t=>{delete t.interfaces[e]}))}updateInterfaceState(e,t){this.update((n=>{n.interfaces[e].state=t}))}async resolveInterface(e,t,n){h(this,f,"m",s).call(this,e,t),h(this,f,"m",a).call(this,t),await h(this,f,"m",l).call(this,t,n),this.deleteInterface(t)}}n.SnapInterfaceController=E,f=new WeakSet,r=function(){this.messagingSystem.registerActionHandler(`${S}:createInterface`,this.createInterface.bind(this)),this.messagingSystem.registerActionHandler(`${S}:getInterface`,this.getInterface.bind(this)),this.messagingSystem.registerActionHandler(`${S}:updateInterface`,this.updateInterface.bind(this)),this.messagingSystem.registerActionHandler(`${S}:deleteInterface`,this.deleteInterface.bind(this)),this.messagingSystem.registerActionHandler(`${S}:updateInterfaceState`,this.updateInterfaceState.bind(this)),this.messagingSystem.registerActionHandler(`${S}:resolveInterface`,this.resolveInterface.bind(this))},s=function(e,t){const n=this.state.interfaces[t];(0,g.assert)(n!==undefined,`Interface with id '${t}' not found.`),(0,g.assert)(n.snapId===e,`Interface not created by ${e}.`)},a=function(e){(0,g.assert)(h(this,f,"m",c).call(this,e),`Approval request with id '${e}' not found.`)},i=async function(){await this.messagingSystem.call("PhishingController:maybeUpdateState")},o=function(e){return this.messagingSystem.call("PhishingController:testOrigin",e).result},c=function(e){return this.messagingSystem.call("ApprovalController:hasRequest",{id:e})},l=async function(e,t){await this.messagingSystem.call("ApprovalController:acceptRequest",e,t)},u=async function(e){const t=(0,m.getJsonSizeUnsafe)(e);(0,g.assert)(t<=k,"A Snap UI may not be larger than 10 MB."),await h(this,f,"m",i).call(this),(0,m.validateJsxLinks)(e,h(this,f,"m",o).bind(this),(e=>this.messagingSystem.call("SnapController:get",e)))},d=function(e){const t=e.filter((e=>"snap"===e.type&&(0,g.hasProperty)(e.data,"detailedView"))),n=new Set(t.map((e=>e.data.detailedView.interfaceId)));this.update((e=>{Object.entries(e.interfaces).forEach((([t,f])=>{f.contentType!==b.ContentType.Notification||n.has(t)||delete e.interfaces[t]}))}))}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/interface/SnapInterfaceController.cjs"}],[2244,{"./SnapInterfaceController.cjs":2243},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./SnapInterfaceController.cjs"),n)}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/interface/index.cjs"}],[2245,{"@metamask/snaps-sdk":2342,"@metamask/snaps-sdk/jsx":2451,"@metamask/snaps-utils":2471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateInterfaceContext=n.constructState=n.assertNameIsUnique=n.getJsxInterface=void 0;const f=e("@metamask/snaps-sdk"),r=e("@metamask/snaps-sdk/jsx"),s=e("@metamask/snaps-utils");function a(e,t){(0,f.assert)(e[t]===undefined,`Duplicate component names are not allowed, found multiple instances of: "${t}".`)}function i(e,t,n){const f=n?e[n]:e,r=f?.[t.props.name];return"FileInput"===t.type?r??null:function(e){return"Checkbox"===e.type?e.props.checked:e.props.value}(t)??r??function(e){switch(e.type){case"Dropdown":{const t=(0,s.getJsxChildren)(e);return t[0]?.props.value}case"RadioGroup":{const t=(0,s.getJsxChildren)(e);return t[0]?.props.value}case"Selector":{const t=(0,s.getJsxChildren)(e);return t[0]?.props.value}case"Checkbox":return!1;default:return null}}(t)??null}n.getJsxInterface=function(e){return(0,r.isJSXElementUnsafe)(e)?e:(0,s.getJsxElementFromComponent)(e)},n.assertNameIsUnique=a,n.constructState=function(e,t){const n={},f=[];return(0,s.walkJsx)(t,((t,r)=>{let s=f[f.length-1];if(s&&r<=s.depth&&(f.pop(),s=f[f.length-1]),"Form"===t.type)return a(n,t.props.name),f.push({name:t.props.name,depth:r}),void(n[t.props.name]={});if(s&&("Input"===t.type||"Dropdown"===t.type||"RadioGroup"===t.type||"FileInput"===t.type||"Checkbox"===t.type||"Selector"===t.type)){const f=n[s.name];return a(f,t.props.name),void(f[t.props.name]=i(e,t,s.name))}"Input"!==t.type&&"Dropdown"!==t.type&&"RadioGroup"!==t.type&&"FileInput"!==t.type&&"Checkbox"!==t.type&&"Selector"!==t.type||(a(n,t.props.name),n[t.props.name]=i(e,t))})),n};const o=1e6;n.validateInterfaceContext=function(e){if(!e)return;const t=(0,s.getJsonSizeUnsafe)(e);(0,f.assert)(t<=o,"A Snap interface context may not be larger than 1 MB.")}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/interface/utils.cjs"}],[2246,{"@metamask/snaps-utils":2471,"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.log=void 0;const f=e("@metamask/snaps-utils"),r=e("@metamask/utils");n.log=(0,r.createModuleLogger)(f.snapsLogger,"snaps-controllers")}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/logging.cjs"}],[2247,{"../logging.cjs":2246,"../snaps/Timer.cjs":2260,"../utils.cjs":2272,"@metamask/json-rpc-engine":1700,"@metamask/json-rpc-middleware-stream":1704,"@metamask/object-multiplex":1951,"@metamask/rpc-errors":2141,"@metamask/snaps-utils":2471,"@metamask/utils":2620,nanoid:2274,"readable-stream":4520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s,a,i,o,c,l,u,d,h,p,b,m=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},g=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.setupMultiplex=n.AbstractExecutionService=void 0;const v=e("@metamask/json-rpc-engine"),w=e("@metamask/json-rpc-middleware-stream"),k=y(e("@metamask/object-multiplex")),S=e("@metamask/rpc-errors"),E=e("@metamask/snaps-utils"),T=e("@metamask/utils"),_=e("nanoid"),C=e("readable-stream"),P=e("../logging.cjs"),I=e("../snaps/Timer.cjs"),O=e("../utils.cjs"),A="ExecutionService";function j(e,t){const n=new k.default;return(0,C.pipeline)(e,n,e,(e=>{e&&(t?(0,E.logError)(`"${t}" stream failure.`,e):(0,E.logError)(e))})),n}n.AbstractExecutionService=class{constructor({setupSnapProvider:e,messenger:t,initTimeout:n=(0,T.inMilliseconds)(60,T.Duration.Second),pingTimeout:d=(0,T.inMilliseconds)(2,T.Duration.Second),terminationTimeout:h=(0,T.inMilliseconds)(1,T.Duration.Second),usePing:p=!0}){f.add(this),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),c.set(this,void 0),l.set(this,void 0),u.set(this,void 0),m(this,r,new Map,"f"),this.jobs=new Map,this.setupSnapProvider=e,m(this,s,new Map,"f"),m(this,a,new Map,"f"),m(this,i,t,"f"),m(this,o,n,"f"),m(this,c,d,"f"),m(this,l,h,"f"),m(this,u,p,"f"),this.registerMessageHandlers()}registerMessageHandlers(){g(this,i,"f").registerActionHandler(`${A}:handleRpcRequest`,(async(e,t)=>this.handleRpcRequest(e,t))),g(this,i,"f").registerActionHandler(`${A}:executeSnap`,(async e=>this.executeSnap(e))),g(this,i,"f").registerActionHandler(`${A}:terminateSnap`,(async e=>this.terminateSnap(e))),g(this,i,"f").registerActionHandler(`${A}:terminateAllSnaps`,(async()=>this.terminateAllSnaps()))}async terminate(e){const t=this.jobs.get(e);if(!t)throw new Error(`Job with id "${e}" not found.`);try{const t=await(0,O.withTimeout)(this.command(e,{jsonrpc:"2.0",method:"terminate",params:[],id:(0,_.nanoid)()}),g(this,l,"f"));t!==O.hasTimedOut&&"OK"===t||(0,E.logError)(`Job "${e}" failed to terminate gracefully.`,t)}catch{}Object.values(t.streams).forEach((e=>{try{!e.destroyed&&e.destroy(),e.removeAllListeners()}catch(e){(0,E.logError)("Error while destroying stream",e)}})),this.terminateJob(t),this.jobs.delete(e),g(this,f,"m",b).call(this,e),(0,P.log)(`Job "${e}" terminated.`)}async initJob(e,t){const{streams:n,worker:f}=await this.initStreams(e,t),r=new v.JsonRpcEngine,s=(0,w.createStreamMiddleware)();(0,C.pipeline)(s.stream,n.command,s.stream,(e=>{e&&(0,E.logError)("Command stream failure.",e)})),r.push(s.middleware);const a={id:e,streams:n,rpcEngine:r,worker:f};return this.jobs.set(e,a),a}async initStreams(e,t){const n=await(0,O.withTimeout)(this.initEnvStream(e),t);if(n===O.hasTimedOut)throw this.terminateJob({id:e}),new Error("The Snaps execution environment failed to start.");const{worker:f,stream:r}=n,s=j(r,`Job: "${e}"`),o=s.createStream(E.SNAP_STREAM_NAMES.COMMAND),c=t=>{if(!(0,T.isJsonRpcNotification)(t))return;const n=g(this,a,"f").get(e);"OutboundRequest"===t.method?g(this,i,"f").publish("ExecutionService:outboundRequest",n):"OutboundResponse"===t.method?g(this,i,"f").publish("ExecutionService:outboundResponse",n):"UnhandledError"===t.method?(0,T.isObject)(t.params)&&t.params.error?(g(this,i,"f").publish("ExecutionService:unhandledError",n,t.params.error),o.removeListener("data",c)):(0,E.logError)(new Error(`Received malformed "${t.method}" command stream notification.`)):(0,E.logError)(new Error(`Received unexpected command stream notification "${t.method}".`))};o.on("data",c);const l=s.createStream(E.SNAP_STREAM_NAMES.JSON_RPC);return{streams:{command:o,rpc:l,_connection:r},worker:f}}async terminateSnap(e){const t=g(this,s,"f").get(e);t&&await this.terminate(t)}async terminateAllSnaps(){await Promise.all([...this.jobs.keys()].map((async e=>this.terminate(e)))),g(this,r,"f").clear()}getRpcRequestHandler(e){return g(this,r,"f").get(e)}async executeSnap({snapId:e,sourceCode:t,endowments:n}){if(g(this,s,"f").has(e))throw new Error(`Snap "${e}" is already being executed.`);const r=(0,_.nanoid)(),a=new I.Timer(g(this,o,"f")),i=await this.initJob(r,a);if(g(this,f,"m",p).call(this,e,i.id),g(this,u,"f")){if(await(0,O.withTimeout)(this.command(i.id,{jsonrpc:"2.0",method:"ping",id:(0,_.nanoid)()}),g(this,c,"f"))===O.hasTimedOut)throw new Error("The Snaps execution environment failed to start.")}const l=i.streams.rpc;this.setupSnapProvider(e,l);const d=a.remaining,b={jsonrpc:"2.0",method:"executeSnap",params:{snapId:e,sourceCode:t,endowments:n},id:(0,_.nanoid)()};(0,T.assertIsJsonRpcRequest)(b);const m=await(0,O.withTimeout)(this.command(i.id,b),d);if(m===O.hasTimedOut)throw new Error(`${e} failed to start.`);return g(this,f,"m",h).call(this,e,i.id),m}async command(e,t){const n=this.jobs.get(e);if(!n)throw new Error(`Job with id "${e}" not found.`);(0,P.log)("Parent: Sending Command",t);const f=await n.rpcEngine.handle(t);if((0,T.isJsonRpcFailure)(f))throw new S.JsonRpcError(f.error.code,f.error.message,f.error.data);return f.result}async handleRpcRequest(e,t){const n=this.getRpcRequestHandler(e);if(!n)throw new Error(`Snap execution service returned no RPC handler for running snap "${e}".`);return n(t)}},r=new WeakMap,s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakSet,d=function(e){g(this,r,"f").delete(e)},h=function(e,t){g(this,r,"f").set(e,(async({origin:n,handler:f,request:r})=>await this.command(t,{id:(0,_.nanoid)(),jsonrpc:"2.0",method:"snapRpc",params:{origin:n,handler:f,request:r,target:e}})))},p=function(e,t){g(this,s,"f").set(e,t),g(this,a,"f").set(t,e)},b=function(e){const t=g(this,a,"f").get(e);if(!t)throw new Error(`job: "${e}" has no mapped snap.`);g(this,a,"f").delete(e),g(this,s,"f").delete(t),g(this,f,"m",d).call(this,t)},n.setupMultiplex=j}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/services/AbstractExecutionService.cjs"}],[2248,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/services/ExecutionService.cjs"}],[2249,{"@metamask/post-message-stream":2008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s,a,i=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.ProxyPostMessageStream=void 0;const c=e("@metamask/post-message-stream");class l extends c.BasePostMessageStream{constructor({stream:e,jobId:t}){super(),f.add(this),r.set(this,void 0),s.set(this,void 0),i(this,r,e,"f"),i(this,s,t,"f"),o(this,r,"f").on("data",o(this,f,"m",a).bind(this))}_postMessage(e){o(this,r,"f").write({jobId:o(this,s,"f"),data:e})}}n.ProxyPostMessageStream=l,r=new WeakMap,s=new WeakMap,f=new WeakSet,a=function(e){e.jobId===o(this,s,"f")&&this.push(e.data)}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/services/ProxyPostMessageStream.cjs"}],[225,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,t.data=function(e){if(!(0,f.isObject)(e.TokensController)){var t,n;return null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("typeof state.TokensController is "+typeof e.TokensController)),e}return delete e.TokensController.suggestedAssets,e}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=87}}},{package:"$root$",file:"app/scripts/migrations/087.ts"}],[2250,{"../AbstractExecutionService.cjs":2247,"@metamask/post-message-stream":2008,"@metamask/snaps-utils":2471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IframeExecutionService=void 0;const f=e("@metamask/post-message-stream"),r=e("@metamask/snaps-utils"),s=e("../AbstractExecutionService.cjs");class a extends s.AbstractExecutionService{constructor({iframeUrl:e,messenger:t,setupSnapProvider:n}){super({messenger:t,setupSnapProvider:n}),this.iframeUrl=e}terminateJob(e){document.getElementById(e.id)?.remove()}async initEnvStream(e){const t=await(0,r.createWindow)({uri:this.iframeUrl.toString(),id:e});return{worker:t,stream:new f.WindowPostMessageStream({name:"parent",target:"child",targetWindow:t,targetOrigin:"*"})}}}n.IframeExecutionService=a}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/services/iframe/IframeExecutionService.cjs"}],[2251,{"./IframeExecutionService.cjs":2250},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./IframeExecutionService.cjs"),n)}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/services/iframe/index.cjs"}],[2252,{"./AbstractExecutionService.cjs":2247,"./ExecutionService.cjs":2248,"./ProxyPostMessageStream.cjs":2249,"./iframe/index.cjs":2251,"./offscreen/index.cjs":2254,"./webworker/index.cjs":2257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.WebWorkerExecutionService=void 0,r(e("./AbstractExecutionService.cjs"),n),r(e("./ExecutionService.cjs"),n),r(e("./ProxyPostMessageStream.cjs"),n),r(e("./iframe/index.cjs"),n),r(e("./offscreen/index.cjs"),n);var s=e("./webworker/index.cjs");Object.defineProperty(n,"WebWorkerExecutionService",{enumerable:!0,get:function(){return s.WebWorkerExecutionService}})}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/services/index.cjs"}],[2253,{"../proxy/ProxyExecutionService.cjs":2255,"@metamask/post-message-stream":2008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.OffscreenExecutionService=void 0;const a=e("@metamask/post-message-stream"),i=e("../proxy/ProxyExecutionService.cjs");class o extends i.ProxyExecutionService{constructor({messenger:e,setupSnapProvider:t,offscreenPromise:n}){super({messenger:e,setupSnapProvider:t,stream:new a.BrowserRuntimePostMessageStream({name:"parent",target:"child"})}),f.set(this,void 0),r(this,f,n,"f")}async initEnvStream(e){return await s(this,f,"f"),await super.initEnvStream(e)}}n.OffscreenExecutionService=o,f=new WeakMap}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/services/offscreen/OffscreenExecutionService.cjs"}],[2254,{"./OffscreenExecutionService.cjs":2253},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./OffscreenExecutionService.cjs"),n)}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/services/offscreen/index.cjs"}],[2255,{"../AbstractExecutionService.cjs":2247,"../ProxyPostMessageStream.cjs":2249,nanoid:2274},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.ProxyExecutionService=void 0;const a=e("nanoid"),i=e("../AbstractExecutionService.cjs"),o=e("../ProxyPostMessageStream.cjs");class c extends i.AbstractExecutionService{constructor({stream:e,messenger:t,setupSnapProvider:n}){super({messenger:t,setupSnapProvider:n,usePing:!1}),f.set(this,void 0),r(this,f,e,"f")}async terminateJob(e){s(this,f,"f").write({jobId:e.id,data:{jsonrpc:"2.0",method:"terminateJob",id:(0,a.nanoid)()}})}async initEnvStream(e){const t=new o.ProxyPostMessageStream({stream:s(this,f,"f"),jobId:e});return await new Promise((e=>{t.once("data",e),t.write({name:"command",data:{jsonrpc:"2.0",method:"ping",id:(0,a.nanoid)()}})})),{worker:e,stream:t}}}n.ProxyExecutionService=c,f=new WeakMap}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/services/proxy/ProxyExecutionService.cjs"}],[2256,{"../AbstractExecutionService.cjs":2247,"../ProxyPostMessageStream.cjs":2249,"@metamask/post-message-stream":2008,"@metamask/snaps-utils":2471,"@metamask/utils":2620,nanoid:2274},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.WebWorkerExecutionService=n.WORKER_POOL_ID=void 0;const i=e("@metamask/post-message-stream"),o=e("@metamask/snaps-utils"),c=e("@metamask/utils"),l=e("nanoid"),u=e("../AbstractExecutionService.cjs"),d=e("../ProxyPostMessageStream.cjs");n.WORKER_POOL_ID="snaps-worker-pool";class h extends u.AbstractExecutionService{constructor({documentUrl:e,messenger:t,setupSnapProvider:n}){super({messenger:t,setupSnapProvider:n}),f.set(this,void 0),r.set(this,void 0),s(this,f,e,"f")}async terminateJob(e){(0,c.assert)(a(this,r,"f"),"Runtime stream not initialized."),a(this,r,"f").write({jobId:e.id,data:{jsonrpc:"2.0",method:"terminateJob",id:(0,l.nanoid)()}})}async initEnvStream(e){await this.createDocument(),(0,c.assert)(a(this,r,"f"),"Runtime stream not initialized.");return{worker:e,stream:new d.ProxyPostMessageStream({stream:a(this,r,"f"),jobId:e})}}async createDocument(){if(document.getElementById(n.WORKER_POOL_ID))return;const e=await(0,o.createWindow)({uri:a(this,f,"f").href,id:n.WORKER_POOL_ID,sandbox:!1});s(this,r,new i.WindowPostMessageStream({name:"parent",target:"child",targetWindow:e,targetOrigin:"*"}),"f")}}n.WebWorkerExecutionService=h,f=new WeakMap,r=new WeakMap}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/services/webworker/WebWorkerExecutionService.cjs"}],[2257,{"./WebWorkerExecutionService.cjs":2256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./WebWorkerExecutionService.cjs"),n)}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/services/webworker/index.cjs"}],[2258,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RequestQueue=void 0;n.RequestQueue=class{constructor(e){this.maxQueueSize=e,this.queueSizes=new Map}increment(e){const t=this.queueSizes.get(e)??0;if(t>=this.maxQueueSize)throw new Error("Maximum number of requests reached. Try again later.");this.queueSizes.set(e,t+1)}decrement(e){const t=this.queueSizes.get(e)??0;if(0===t)throw new Error(`Cannot decrement, ${e} does not have any outstanding requests.`);this.queueSizes.set(e,t-1)}get(e){return this.queueSizes.get(e)??0}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/RequestQueue.cjs"}],[2259,{"../fsm.cjs":2239,"../logging.cjs":2246,"../utils.cjs":2272,"./RequestQueue.cjs":2258,"./Timer.cjs":2260,"./constants.cjs":2261,"./location/index.cjs":2264,"./registry/index.cjs":2268,"@metamask/base-controller":1349,"@metamask/permission-controller":1963,"@metamask/rpc-errors":2141,"@metamask/snaps-rpc-methods":2303,"@metamask/snaps-sdk":2342,"@metamask/snaps-utils":2471,"@metamask/utils":2620,"@xstate/fsm":3051,nanoid:2274,semver:4793},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s,a,i,o,c,l,u,d,h,p,b,m,g,y,v,w,k,S,E,T,_,C,P,I,O,A,j,x,N,M,R,D,L,B,U,F,H,$,G,q,V,z,W,Y,K,J,Z,X,Q,ee,te,ne,fe,re,se,ae,ie,oe,ce,le,ue,de,he,pe,be,me,ge,ye=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},ve=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)},we=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SnapController=n.SNAP_APPROVAL_RESULT=n.SNAP_APPROVAL_UPDATE=n.SNAP_APPROVAL_INSTALL=n.controllerName=void 0;const ke=e("@metamask/base-controller"),Se=e("@metamask/permission-controller"),Ee=e("@metamask/rpc-errors"),Te=e("@metamask/snaps-rpc-methods"),_e=e("@metamask/snaps-sdk"),Ce=e("@metamask/snaps-utils"),Pe=e("@metamask/utils"),Ie=e("@xstate/fsm"),Oe=e("nanoid"),Ae=we(e("semver")),je=e("../fsm.cjs"),xe=e("../logging.cjs"),Ne=e("../utils.cjs"),Me=e("./constants.cjs"),Re=e("./location/index.cjs"),De=e("./registry/index.cjs"),Le=e("./RequestQueue.cjs"),Be=e("./Timer.cjs");n.controllerName="SnapController",n.SNAP_APPROVAL_INSTALL="wallet_installSnap",n.SNAP_APPROVAL_UPDATE="wallet_updateSnap",n.SNAP_APPROVAL_RESULT="wallet_installSnapResult";const Ue=new Set(["initialPermissions","id","version","enabled","blocked"]),Fe={snaps:{},snapStates:{},unencryptedSnapStates:{}};function He(e){return Object.keys(e).reduce(((t,n)=>(Ue.has(n)&&(t[n]=e[n]),t)),{})}class $e extends ke.BaseController{constructor({closeAllConnections:e,messenger:t,state:n,dynamicPermissions:C=["eth_accounts"],environmentEndowmentPermissions:P=[],excludedPermissions:I={},idleTimeCheckInterval:O=(0,Pe.inMilliseconds)(5,Pe.Duration.Second),maxIdleTime:A=(0,Pe.inMilliseconds)(30,Pe.Duration.Second),maxRequestTime:j=(0,Pe.inMilliseconds)(60,Pe.Duration.Second),fetchFunction:x=globalThis.fetch.bind(undefined),featureFlags:N={},detectSnapLocation:M=Re.detectSnapLocation,preinstalledSnaps:R=null,encryptor:D,getMnemonic:L,getFeatureFlags:B=(()=>({})),clientCryptography:U}){super({messenger:t,metadata:{snapStates:{persist:!0,anonymous:!1},unencryptedSnapStates:{persist:!0,anonymous:!1},snaps:{persist:e=>Object.values(e).filter((e=>e.status!==Ce.SnapStatus.Installing)).map((e=>({...e,status:Ce.SnapStatus.Stopped}))).reduce(((e,t)=>(e[t.id]=t,e)),{}),anonymous:!1}},name:"SnapController",state:{...Fe,...n}}),f.add(this),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),c.set(this,void 0),l.set(this,void 0),u.set(this,void 0),d.set(this,void 0),h.set(this,void 0),p.set(this,void 0),b.set(this,void 0),m.set(this,void 0),g.set(this,void 0),y.set(this,void 0),v.set(this,void 0),w.set(this,void 0),k.set(this,void 0),ye(this,r,e,"f"),ye(this,s,C,"f"),ye(this,a,P,"f"),ye(this,i,I,"f"),ye(this,o,N,"f"),ye(this,c,x,"f"),ye(this,l,O,"f"),ye(this,u,A,"f"),this.maxRequestTime=j,ye(this,m,M,"f"),ye(this,d,D,"f"),ye(this,h,L,"f"),ye(this,p,B,"f"),ye(this,b,U,"f"),ye(this,k,R,"f"),this._onUnhandledSnapError=this._onUnhandledSnapError.bind(this),this._onOutboundRequest=this._onOutboundRequest.bind(this),this._onOutboundResponse=this._onOutboundResponse.bind(this),ye(this,y,new Map,"f"),ye(this,g,new Map,"f"),ve(this,f,"m",_).call(this),this.messagingSystem.subscribe("ExecutionService:unhandledError",this._onUnhandledSnapError),this.messagingSystem.subscribe("ExecutionService:outboundRequest",this._onOutboundRequest),this.messagingSystem.subscribe("ExecutionService:outboundResponse",this._onOutboundResponse),this.messagingSystem.subscribe("SnapController:snapInstalled",(({id:e},t)=>{ve(this,f,"m",ge).call(this,t,e,Ce.HandlerType.OnInstall).catch((t=>{(0,Ce.logError)(`Error when calling \`onInstall\` lifecycle hook for snap "${e}": ${(0,_e.getErrorMessage)(t)}`)}))})),this.messagingSystem.subscribe("SnapController:snapUpdated",(({id:e},t,n)=>{ve(this,f,"m",ge).call(this,n,e,Ce.HandlerType.OnUpdate).catch((t=>{(0,Ce.logError)(`Error when calling \`onUpdate\` lifecycle hook for snap "${e}": ${(0,_e.getErrorMessage)(t)}`)}))})),ve(this,f,"m",S).call(this),ve(this,f,"m",E).call(this),ve(this,k,"f")&&ve(this,f,"m",T).call(this,ve(this,k,"f")),Object.values(this.state?.snaps??{}).forEach((e=>ve(this,f,"m",ue).call(this,e.id)))}async updateBlockedSnaps(){ve(this,f,"m",A).call(this),await this.messagingSystem.call("SnapsRegistry:update");const e=await this.messagingSystem.call("SnapsRegistry:get",Object.values(this.state.snaps).reduce(((e,t)=>(e[t.id]={version:t.version,checksum:t.manifest.source.shasum},e)),{}));await Promise.all(Object.entries(e).map((async([e,{status:t,reason:n}])=>t===De.SnapsRegistryStatus.Blocked?ve(this,f,"m",C).call(this,e,n):ve(this,f,"m",P).call(this,e))))}_onUnhandledSnapError(e,t){this.stopSnap(e,Ce.SnapStatusEvents.Crash).catch((e=>{(0,Ce.logError)(e)}))}_onOutboundRequest(e){const t=ve(this,f,"m",le).call(this,e);t.pendingInboundRequests.filter((e=>"running"===e.timer.status)).forEach((e=>e.timer.pause())),t.pendingOutboundRequests+=1}_onOutboundResponse(e){const t=ve(this,f,"m",le).call(this,e);t.pendingOutboundRequests-=1,0===t.pendingOutboundRequests&&t.pendingInboundRequests.filter((e=>"paused"===e.timer.status)).forEach((e=>e.timer.resume()))}async startSnap(e){ve(this,f,"m",A).call(this);const t=this.state.snaps[e];if(!1===t.enabled)throw new Error(`Snap "${e}" is disabled.`);await ve(this,f,"m",z).call(this,{snapId:e,sourceCode:t.sourceCode})}enableSnap(e){if(this.getExpect(e),this.state.snaps[e].blocked)throw new Error(`Snap "${e}" is blocked and cannot be enabled.`);this.update((t=>{t.snaps[e].enabled=!0})),this.messagingSystem.publish("SnapController:snapEnabled",this.getTruncatedExpect(e))}async disableSnap(e){if(!this.has(e))throw new Error(`Snap "${e}" not found.`);this.update((t=>{t.snaps[e].enabled=!1})),this.isRunning(e)&&await this.stopSnap(e,Ce.SnapStatusEvents.Stop),this.messagingSystem.publish("SnapController:snapDisabled",this.getTruncatedExpect(e))}async stopSnap(e,t=Ce.SnapStatusEvents.Stop){const n=ve(this,f,"m",ce).call(this,e);if(!n)throw new Error(`The snap "${e}" is not running.`);if(!n.stopping){n.stopping=!0;try{this.isRunning(e)&&(ve(this,r,"f")?.call(this,e),await ve(this,f,"m",N).call(this,e))}finally{n.lastRequest=null,n.pendingInboundRequests=[],n.pendingOutboundRequests=0,n.stopping=!1,this.isRunning(e)&&ve(this,f,"m",x).call(this,e,t)}}}async stopAllSnaps(e=Ce.SnapStatusEvents.Stop){const t=Object.values(this.state.snaps).filter((e=>this.isRunning(e.id))).map((async t=>this.stopSnap(t.id,e)));await Promise.allSettled(t)}isRunning(e){return"running"===this.getExpect(e).status}has(e){return Boolean(this.get(e))}get(e){return this.state.snaps[e]}getExpect(e){const t=this.get(e);return(0,Pe.assert)(t!==undefined,new Error(`Snap "${e}" not found.`)),t}getTruncated(e){const t=this.get(e);return t?He(t):null}getTruncatedExpect(e){return He(this.getExpect(e))}async updateSnapState(e,t,n){if(n){const n=await ve(this,f,"m",L).call(this,e,t);this.update((t=>{t.snapStates[e]=n}))}else this.update((n=>{n.unencryptedSnapStates[e]=JSON.stringify(t)}))}clearSnapState(e,t){this.update((n=>{t?n.snapStates[e]=null:n.unencryptedSnapStates[e]=null}))}async getSnapState(e,t){const n=t?this.state.snapStates[e]:this.state.unencryptedSnapStates[e];if(null===n||n===undefined)return null;if(!t)return JSON.parse(n);return await ve(this,f,"m",D).call(this,e,n)}async getSnapFile(e,t,n=_e.AuxiliaryFileEncoding.Base64){const f=this.getExpect(e),r=(0,Ce.normalizeRelative)(t),s=f.auxiliaryFiles?.find((e=>e.path===r))?.value;if(!s)return null;const a=await(0,Ce.encodeAuxiliaryFile)(s,n);return(0,Pe.assert)(a.length<Ce.MAX_FILE_SIZE,`Failed to encode static file to "${n}": Static files must be less than 64 MB when encoded.`),a}async clearState(){const e=Object.keys(this.state.snaps);ve(this,r,"f")&&e.forEach((e=>{ve(this,r,"f")?.call(this,e)})),await this.messagingSystem.call("ExecutionService:terminateAllSnaps"),e.forEach((e=>ve(this,f,"m",H).call(this,e))),this.update((e=>{e.snaps={},e.snapStates={}})),ve(this,g,"f").clear(),ve(this,k,"f")&&(ve(this,f,"m",T).call(this,ve(this,k,"f")),Object.values(this.state?.snaps).forEach((e=>ve(this,f,"m",ue).call(this,e.id))))}async removeSnap(e){return this.removeSnaps([e])}async removeSnaps(e){if(!Array.isArray(e))throw new Error("Expected array of snap ids.");e.forEach((e=>{const t=this.getExpect(e);(0,Pe.assert)(!1!==t.removable,`${e} is not removable.`)})),await Promise.all(e.map((async e=>{const t=this.getExpect(e),n=this.getTruncatedExpect(e);await this.disableSnap(e),ve(this,f,"m",H).call(this,e),ve(this,f,"m",F).call(this,e),ve(this,g,"f").delete(e),this.update((t=>{delete t.snaps[e],delete t.snapStates[e],delete t.unencryptedSnapStates[e]})),t.status!==Ce.SnapStatus.Installing&&this.messagingSystem.publish("SnapController:snapUninstalled",n)})))}removeSnapFromSubject(e,t){const n=this.messagingSystem.call("PermissionController:getPermissions",e),f=n?.[Te.WALLET_SNAP_PERMISSION_KEY]?.caveats?.find((e=>e.type===Ce.SnapCaveatType.SnapIds));if(!f)return;if(Boolean(f.value?.[t])){const n={...f.value};delete n[t],Object.keys(n).length>0?this.messagingSystem.call("PermissionController:updateCaveat",e,Te.WALLET_SNAP_PERMISSION_KEY,Ce.SnapCaveatType.SnapIds,n):this.messagingSystem.call("PermissionController:revokePermissions",{[e]:[Te.WALLET_SNAP_PERMISSION_KEY]})}}revokeDynamicSnapPermissions(e,t){(0,Pe.assert)(t.every((e=>ve(this,s,"f").includes(e))),"Non-dynamic permissions cannot be revoked"),this.messagingSystem.call("PermissionController:revokePermissions",{[e]:t})}incrementActiveReferences(e){ve(this,f,"m",le).call(this,e).activeReferences+=1}decrementActiveReferences(e){const t=ve(this,f,"m",le).call(this,e);(0,Pe.assert)(t.activeReferences>0,"SnapController reference management is in an invalid state."),t.activeReferences-=1}getAllSnaps(){return Object.values(this.state.snaps).map(He)}getPermittedSnaps(e){const t=this.messagingSystem.call("PermissionController:getPermissions",e)??{},n=t[Te.WALLET_SNAP_PERMISSION_KEY]?.caveats?.find((e=>e.type===Ce.SnapCaveatType.SnapIds))?.value??{};return Object.keys(n).reduce(((e,t)=>{const n=this.get(t),f=this.getTruncated(t);return f&&n?.status!==Ce.SnapStatus.Installing&&(e[t]=f),e}),{})}async installSnaps(e,t){ve(this,f,"m",A).call(this);const n={},r=Object.keys(t),s=[],a=[];try{for(const[r,{version:i}]of Object.entries(t)){(0,Ce.assertIsValidSnapId)(r);const[t,l]=(0,Ce.resolveVersionRange)(i);if(t)throw Ee.rpcErrors.invalidParams(`The "version" field must be a valid SemVer version range if specified. Received: "${i}".`);const u=ve(this,m,"f").call(this,r,{versionRange:l,fetch:ve(this,c,"f"),allowLocal:ve(this,o,"f").allowLocalSnaps,resolveVersion:async e=>ve(this,o,"f").requireAllowlist?await ve(this,f,"m",q).call(this,r,e):e}),d=this.has(r)&&!u.shouldAlwaysReload;if(d&&ve(this,f,"m",me).call(this,r,l)){const e=this.getExpect(r);s.push({snapId:r,oldVersion:e.version});let t=ve(this,f,"m",se).call(this,r);if(t!==undefined)throw new Error("This snap is already being updated.");t=ve(this,f,"m",ae).call(this,r),t.newVersion=l}else d||a.push(r);n[r]=await this.processRequestedSnap(e,r,u,l)}a.forEach((t=>this.messagingSystem.publish("SnapController:snapInstalled",this.getTruncatedExpect(t),e,!1))),s.forEach((({snapId:t,oldVersion:n})=>this.messagingSystem.publish("SnapController:snapUpdated",this.getTruncatedExpect(t),n,e,!1))),r.forEach((e=>ve(this,y,"f").delete(e)))}catch(e){const t=a.filter((e=>this.has(e)));await this.removeSnaps(t);const n=[...ve(this,y,"f").keys()],r=s.map((({snapId:e})=>e)).filter((e=>n.includes(e)));throw await ve(this,f,"m",oe).call(this,r),e}return n}async processRequestedSnap(e,t,r,s){const a=this.getTruncated(t);if(a&&!r.shouldAlwaysReload)return(0,Pe.satisfiesVersionRange)(a.version,s)?a:await this.updateSnap(e,t,r,s,!1);ve(this,f,"m",O).call(this);let i=ve(this,f,"m",$).call(this,{origin:e,snapId:t,type:n.SNAP_APPROVAL_INSTALL});this.messagingSystem.publish("SnapController:snapInstallStarted",t,e,!1),a&&this.isRunning(t)&&await this.stopSnap(t,Ce.SnapStatusEvents.Stop),a&&r.shouldAlwaysReload&&ve(this,f,"m",H).call(this,t);try{const{sourceCode:a}=await ve(this,f,"m",V).call(this,{origin:e,id:t,location:r,versionRange:s});await this.authorize(t,i),i=ve(this,f,"m",$).call(this,{origin:e,snapId:t,type:n.SNAP_APPROVAL_RESULT}),await ve(this,f,"m",z).call(this,{snapId:t,sourceCode:a});const o=this.getTruncatedExpect(t);return ve(this,f,"m",G).call(this,i.id,{loading:!1,type:n.SNAP_APPROVAL_INSTALL}),o}catch(r){(0,Ce.logError)(`Error when adding ${t}.`,r);const s=r instanceof Error?r.message:r.toString();throw ve(this,f,"m",G).call(this,i.id,{loading:!1,type:n.SNAP_APPROVAL_INSTALL,error:s}),this.messagingSystem.publish("SnapController:snapInstallFailed",t,e,!1,s),r}}async updateSnap(e,t,r,s=Ce.DEFAULT_REQUESTED_SNAP_VERSION,a=!0){ve(this,f,"m",O).call(this),ve(this,f,"m",A).call(this);const i=this.getExpect(t);if(i.preinstalled)throw new Error("Preinstalled Snaps cannot be manually updated.");if(!(0,Pe.isValidSemVerRange)(s))throw new Error(`Received invalid snap version range: "${s}".`);let o=ve(this,f,"m",$).call(this,{origin:e,snapId:t,type:n.SNAP_APPROVAL_UPDATE});try{this.messagingSystem.publish("SnapController:snapInstallStarted",t,e,!0);const c=i.manifest,l=await(0,Ne.fetchSnap)(t,r),{sourceCode:u,manifest:d}=l,h=d.result,p=h.version;if(!(0,Pe.gtVersion)(p,i.version))throw Ee.rpcErrors.invalidParams(`Snap "${t}@${i.version}" is already installed. Couldn't update to a version inside requested "${s}" range.`);if(!(0,Pe.satisfiesVersionRange)(p,s))throw new Error(`Version mismatch. Manifest for "${t}" specifies version "${p}" which doesn't satisfy requested version range "${s}".`);await ve(this,f,"m",I).call(this,t,{version:p,checksum:h.source.shasum,permissions:h.initialPermissions,platformVersion:h.platformVersion});const b=(0,Te.processSnapPermissions)(h.initialPermissions);ve(this,f,"m",K).call(this,b);const{newPermissions:m,unusedPermissions:g,approvedPermissions:y}=ve(this,f,"m",de).call(this,t,b),{newConnections:v,unusedConnections:w,approvedConnections:k}=ve(this,f,"m",pe).call(this,t,c.initialConnections??{},h.initialConnections??{});ve(this,f,"m",G).call(this,o.id,{permissions:m,newVersion:h.version,newPermissions:m,approvedPermissions:y,unusedPermissions:g,newConnections:v,unusedConnections:w,approvedConnections:k,loading:!1});const{permissions:S,...E}=await o.promise;o=ve(this,f,"m",$).call(this,{origin:e,snapId:t,type:n.SNAP_APPROVAL_RESULT}),this.isRunning(t)&&await this.stopSnap(t,Ce.SnapStatusEvents.Stop),ve(this,f,"m",x).call(this,t,Ce.SnapStatusEvents.Update),ve(this,f,"m",Y).call(this,{origin:e,id:t,files:l,isUpdate:!0}),ve(this,f,"m",be).call(this,{snapId:t,unusedPermissions:g,newPermissions:S,requestData:E}),h.initialConnections&&ve(this,f,"m",B).call(this,t,c.initialConnections??null,h.initialConnections);const T=ve(this,f,"m",se).call(this,t);T!==undefined&&(T.permissions.revoked=g,T.permissions.granted=S,T.permissions.requestData=E);const _=u.toString();(0,Pe.assert)("string"==typeof _&&_.length>0,`Invalid source code for snap "${t}".`);try{await ve(this,f,"m",z).call(this,{snapId:t,sourceCode:_})}catch{throw new Error(`Snap ${t} crashed with updated source code.`)}const C=this.getTruncatedExpect(t);return a&&this.messagingSystem.publish("SnapController:snapUpdated",C,i.version,e,!1),ve(this,f,"m",G).call(this,o.id,{loading:!1,type:n.SNAP_APPROVAL_UPDATE}),C}catch(r){(0,Ce.logError)(`Error when updating ${t},`,r);const s=r instanceof Error?r.message:r.toString();throw ve(this,f,"m",G).call(this,o.id,{loading:!1,error:s,type:n.SNAP_APPROVAL_UPDATE}),this.messagingSystem.publish("SnapController:snapInstallFailed",t,e,!0,s),r}}async getRegistryMetadata(e){return ve(this,f,"m",A).call(this),await this.messagingSystem.call("SnapsRegistry:getMetadata",e)}async authorize(e,t){(0,xe.log)(`Authorizing snap: ${e}`);const n=this.state.snaps[e],{initialPermissions:r,initialConnections:s}=n;try{const a=(0,Te.processSnapPermissions)(r);ve(this,f,"m",K).call(this,a),ve(this,f,"m",G).call(this,t.id,{loading:!1,connections:s??{},permissions:a});const{permissions:i,...o}=await t.promise;ve(this,f,"m",be).call(this,{snapId:e,newPermissions:i,requestData:o}),n.manifest.initialConnections&&ve(this,f,"m",B).call(this,e,null,n.manifest.initialConnections)}finally{ve(this,f,"m",le).call(this,e).installPromise=null}}destroy(){super.destroy(),ve(this,v,"f")&&clearTimeout(ve(this,v,"f")),this.messagingSystem.unsubscribe("ExecutionService:unhandledError",this._onUnhandledSnapError),this.messagingSystem.unsubscribe("ExecutionService:outboundRequest",this._onOutboundRequest),this.messagingSystem.unsubscribe("ExecutionService:outboundResponse",this._onOutboundResponse),this.messagingSystem.clearEventSubscriptions("SnapController:snapInstalled"),this.messagingSystem.clearEventSubscriptions("SnapController:snapUpdated")}async handleRequest({snapId:e,origin:t,handler:n,request:r}){ve(this,f,"m",A).call(this);const s={jsonrpc:"2.0",id:(0,Oe.nanoid)(),...r};(0,Pe.assertIsJsonRpcRequest)(s);const a=Te.handlerEndowments[n];(0,Pe.assert)("string"==typeof a||null===a,"'permissionName' must be either a string or null.");const i=this.messagingSystem.call("PermissionController:getPermissions",e);if(!(null===a||i&&(0,Pe.hasProperty)(i,a)))throw new Error(`Snap "${e}" is not permitted to use "${a}".`);const o=a?i[a]:undefined;if(a===Te.SnapEndowments.Rpc||a===Te.SnapEndowments.Keyring){(0,Pe.assert)(o);const n=this.messagingSystem.call("SubjectMetadataController:getSubjectMetadata",t),f=a===Te.SnapEndowments.Rpc?(0,Te.getRpcCaveatOrigins)(o):(0,Te.getKeyringCaveatOrigins)(o);if((0,Pe.assert)(f),!(0,Ce.isOriginAllowed)(f,n?.subjectType??Se.SubjectType.Website,t))throw new Error(`Snap "${e}" is not permitted to handle requests from "${t}".`)}const c=ve(this,f,"m",X).call(this,e);if(!c)throw new Error(`Snap RPC message handler not found for snap "${e}".`);return c({origin:t,handler:n,request:s,timeout:ve(this,f,"m",Z).call(this,o)})}}n.SnapController=$e,r=new WeakMap,s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,b=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,v=new WeakMap,w=new WeakMap,k=new WeakMap,f=new WeakSet,S=function(){const e=({snapId:e})=>this.getExpect(e).enabled,t={initial:Ce.SnapStatus.Installing,states:{[Ce.SnapStatus.Installing]:{on:{[Ce.SnapStatusEvents.Start]:{target:Ce.SnapStatus.Running,cond:e}}},[Ce.SnapStatus.Updating]:{on:{[Ce.SnapStatusEvents.Start]:{target:Ce.SnapStatus.Running,cond:e},[Ce.SnapStatusEvents.Stop]:Ce.SnapStatus.Stopped}},[Ce.SnapStatus.Running]:{on:{[Ce.SnapStatusEvents.Stop]:Ce.SnapStatus.Stopped,[Ce.SnapStatusEvents.Crash]:Ce.SnapStatus.Crashed}},[Ce.SnapStatus.Stopped]:{on:{[Ce.SnapStatusEvents.Start]:{target:Ce.SnapStatus.Running,cond:e},[Ce.SnapStatusEvents.Update]:Ce.SnapStatus.Updating}},[Ce.SnapStatus.Crashed]:{on:{[Ce.SnapStatusEvents.Start]:{target:Ce.SnapStatus.Running,cond:e},[Ce.SnapStatusEvents.Update]:Ce.SnapStatus.Updating}}}};ye(this,w,(0,Ie.createMachine)(t),"f"),(0,je.validateMachine)(ve(this,w,"f"))},E=function(){this.messagingSystem.registerActionHandler(`${n.controllerName}:clearSnapState`,((...e)=>this.clearSnapState(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:get`,((...e)=>this.get(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:getSnapState`,(async(...e)=>this.getSnapState(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:handleRequest`,(async(...e)=>this.handleRequest(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:has`,((...e)=>this.has(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:updateBlockedSnaps`,(async()=>this.updateBlockedSnaps())),this.messagingSystem.registerActionHandler(`${n.controllerName}:updateSnapState`,(async(...e)=>this.updateSnapState(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:enable`,((...e)=>this.enableSnap(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:disable`,(async(...e)=>this.disableSnap(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:remove`,(async(...e)=>this.removeSnap(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:getPermitted`,((...e)=>this.getPermittedSnaps(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:install`,(async(...e)=>this.installSnaps(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:getAll`,((...e)=>this.getAllSnaps(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:incrementActiveReferences`,((...e)=>this.incrementActiveReferences(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:decrementActiveReferences`,((...e)=>this.decrementActiveReferences(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:getRegistryMetadata`,(async(...e)=>this.getRegistryMetadata(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:disconnectOrigin`,((...e)=>this.removeSnapFromSubject(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:revokeDynamicPermissions`,((...e)=>this.revokeDynamicSnapPermissions(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:getFile`,(async(...e)=>this.getSnapFile(...e))),this.messagingSystem.registerActionHandler(`${n.controllerName}:stopAllSnaps`,(async(...e)=>this.stopAllSnaps(...e)))},T=function(e){for(const{snapId:t,manifest:n,files:r,removable:s,hidden:a,hideSnapBranding:i}of e){const e=this.get(t),o=e!==undefined,c=o&&(0,Pe.gtVersion)(n.version,e.version);if(o&&(!c||!0!==e.preinstalled))continue;const l=new Ce.VirtualFile({path:Ce.NpmSnapFileNames.Manifest,value:JSON.stringify(n),result:n}),u=r.map((({path:e,value:t})=>new Ce.VirtualFile({value:t,path:e}))),{filePath:d,iconPath:h}=n.source.location.npm,p=u.find((e=>e.path===d)),b=h?u.find((e=>e.path===h)):undefined;(0,Pe.assert)(p,"Source code not provided for preinstalled snap."),(0,Pe.assert)(!h||h&&b,"Icon not provided for preinstalled snap."),(0,Pe.assert)(n.source.files===undefined,"Auxiliary files are not currently supported for preinstalled snaps.");const m=n.source.locales?.map((e=>u.find((t=>t.path===e))))??[],g=(0,Ce.getValidatedLocalizationFiles)(m.filter(Boolean));(0,Pe.assert)(m.length===g.length,"Missing localization files for preinstalled snap.");const y={manifest:l,sourceCode:p,svgIcon:b,auxiliaryFiles:[],localizationFiles:g};ve(this,f,"m",Y).call(this,{id:t,origin:"metamask",files:y,removable:s,hidden:a,hideSnapBranding:i,preinstalled:!0});const v=(0,Te.processSnapPermissions)(n.initialPermissions);ve(this,f,"m",K).call(this,v);const{newPermissions:w,unusedPermissions:k}=ve(this,f,"m",de).call(this,t,v);ve(this,f,"m",be).call(this,{snapId:t,newPermissions:w,unusedPermissions:k}),n.initialConnections&&ve(this,f,"m",B).call(this,t,e?.initialConnections??null,n.initialConnections),this.update((e=>{e.snaps[t].status=Ce.SnapStatus.Stopped})),c?this.messagingSystem.publish("SnapController:snapUpdated",this.getTruncatedExpect(t),e.version,"metamask",!0):this.messagingSystem.publish("SnapController:snapInstalled",this.getTruncatedExpect(t),"metamask",!0)}},_=function e(){ye(this,v,setTimeout((()=>{ve(this,f,"m",j).call(this).catch((e=>{(0,Ce.logError)(e)})),ve(this,f,"m",e).call(this)}),ve(this,l,"f")),"f")},C=async function(e,t){if(this.has(e)){try{this.update((n=>{n.snaps[e].blocked=!0,n.snaps[e].blockInformation=t})),await this.disableSnap(e)}catch(t){(0,Ce.logError)(`Encountered error when stopping blocked snap "${e}".`,t)}this.messagingSystem.publish(`${n.controllerName}:snapBlocked`,e,t)}},P=function(e){this.has(e)&&this.state.snaps[e].blocked&&(this.update((t=>{t.snaps[e].blocked=!1,delete t.snaps[e].blockInformation})),this.messagingSystem.publish(`${n.controllerName}:snapUnblocked`,e))},I=async function(e,{platformVersion:t,...n}){const r=(await this.messagingSystem.call("SnapsRegistry:get",{[e]:n}))[e];if(r.status===De.SnapsRegistryStatus.Blocked)throw new Error(`Cannot install version "${n.version}" of snap "${e}": The version is blocked. ${r.reason?.explanation??""}`);const s=Object.keys(n.permissions).some((e=>!Me.ALLOWED_PERMISSIONS.includes(e)));if(ve(this,o,"f").requireAllowlist&&s&&r.status!==De.SnapsRegistryStatus.Verified)throw new Error(`Cannot install version "${n.version}" of snap "${e}": ${r.status===De.SnapsRegistryStatus.Unavailable?"The registry is temporarily unavailable.":"The snap is not on the allowlist."}`);ve(this,f,"m",J).call(this,e,t)},O=function(){(0,Pe.assert)(!0!==ve(this,o,"f").disableSnapInstallation,"Installing Snaps is currently disabled in this version of MetaMask.")},A=function(){const e=ve(this,p,"f").call(this);(0,Pe.assert)(!0!==e.disableSnaps,"The Snaps platform requires basic functionality to be used. Enable basic functionality in the settings to use the Snaps platform.")},j=async function(){const e=[...ve(this,g,"f").entries()];return Promise.all(e.filter((([e,t])=>0===t.activeReferences&&0===t.pendingInboundRequests.length&&t.lastRequest&&ve(this,u,"f")&&(0,Pe.timeSince)(t.lastRequest)>ve(this,u,"f"))).map((async([e])=>this.stopSnap(e,Ce.SnapStatusEvents.Stop))))},x=function(e,t){const{interpreter:n}=ve(this,f,"m",le).call(this,e);n.send(t),this.update((t=>{t.snaps[e].status=n.state.value}))},N=async function(e){await this.messagingSystem.call("ExecutionService:terminateSnap",e),await new Promise((e=>setTimeout(e,1)));ve(this,f,"m",le).call(this,e).pendingInboundRequests.filter((e=>"finished"!==e.timer.status)).forEach((e=>e.timer.finish())),await new Promise((e=>setTimeout(e,1))),this.messagingSystem.publish("SnapController:snapTerminated",this.getTruncatedExpect(e))},M=async function({snapId:e,salt:t,useCache:n,keyMetadata:r}){const s=ve(this,f,"m",le).call(this,e);if(s.encryptionKey&&s.encryptionSalt&&n)return{key:await ve(this,d,"f").importKey(s.encryptionKey),salt:s.encryptionSalt};const a=t??ve(this,d,"f").generateSalt(),i=await ve(this,h,"f").call(this),o=await(0,Te.getEncryptionEntropy)({snapId:e,mnemonicPhrase:i,cryptographicFunctions:ve(this,b,"f")}),c=await ve(this,d,"f").keyFromPassword(o,a,!0,r),l=await ve(this,d,"f").exportKey(c);return n&&(s.encryptionKey=l,s.encryptionSalt=a),{key:c,salt:a}},R=function(e){const t=ve(this,f,"m",le).call(this,e);return null!==t.encryptionKey&&null!==t.encryptionSalt},D=async function(e,t){try{const n=JSON.parse(t),{salt:r,keyMetadata:s}=n,a=ve(this,f,"m",R).call(this,e)||ve(this,d,"f").isVaultUpdated(t),{key:i}=await ve(this,f,"m",M).call(this,{snapId:e,salt:r,useCache:a,keyMetadata:s??Me.LEGACY_ENCRYPTION_KEY_DERIVATION_OPTIONS});return await ve(this,d,"f").decryptWithKey(i,n)}catch{throw Ee.rpcErrors.internal({message:"Failed to decrypt snap state, the state must be corrupted."})}},L=async function(e,t){const{key:n,salt:r}=await ve(this,f,"m",M).call(this,{snapId:e,useCache:!0}),s=await ve(this,d,"f").encryptWithKey(n,t);return s.salt=r,JSON.stringify(s)},B=function(e,t,n){if(t){const f=(0,Ne.setDiff)(t,n);for(const t of Object.keys(f))this.removeSnapFromSubject(t,e)}for(const t of Object.keys(n))ve(this,f,"m",U).call(this,t,e)},U=function(e,t){const n=this.messagingSystem.call("PermissionController:getPermissions",e),f=n?.[Te.WALLET_SNAP_PERMISSION_KEY]?.caveats?.find((e=>e.type===Ce.SnapCaveatType.SnapIds));if(Boolean(f?.value?.[t]))return;if(f)return void this.messagingSystem.call("PermissionController:updateCaveat",e,Te.WALLET_SNAP_PERMISSION_KEY,Ce.SnapCaveatType.SnapIds,{...f.value,[t]:{}});const r={[Te.WALLET_SNAP_PERMISSION_KEY]:{caveats:[{type:Ce.SnapCaveatType.SnapIds,value:{[t]:{}}}]}};this.messagingSystem.call("PermissionController:grantPermissions",{approvedPermissions:r,subject:{origin:e}})},F=function(e){const t=this.messagingSystem.call("PermissionController:getSubjectNames");for(const n of t)this.removeSnapFromSubject(n,e)},H=function(e){this.messagingSystem.call("PermissionController:hasPermissions",e)&&this.messagingSystem.call("PermissionController:revokeAllPermissions",e)},$=function({origin:e,snapId:t,type:n}){const f=(0,Oe.nanoid)();return{id:f,promise:this.messagingSystem.call("ApprovalController:addRequest",{origin:e,id:f,type:n,requestData:{metadata:{id:f,origin:t,dappOrigin:e},snapId:t},requestState:{loading:!0}},!0)}},G=function(e,t){try{this.messagingSystem.call("ApprovalController:updateRequestState",{id:e,requestState:t})}catch{}},q=async function(e,t){return await this.messagingSystem.call("SnapsRegistry:resolveVersion",e,t)},V=async function(e){const{id:t,location:n,versionRange:r}=e;ve(this,f,"m",ue).call(this,t);const s=ve(this,f,"m",le).call(this,t);s.installPromise||((0,xe.log)(`Adding snap: ${t}`),s.installPromise=(async()=>{const s=await(0,Ne.fetchSnap)(t,n),a=s.manifest.result;if(!(0,Pe.satisfiesVersionRange)(a.version,r))throw new Error(`Version mismatch. Manifest for "${t}" specifies version "${a.version}" which doesn't satisfy requested version range "${r}".`);return await ve(this,f,"m",I).call(this,t,{version:a.version,checksum:a.source.shasum,permissions:a.initialPermissions,platformVersion:a.platformVersion}),ve(this,f,"m",Y).call(this,{...e,files:s,id:t})})());try{return await s.installPromise}catch(e){throw s.installPromise=null,e}},z=async function(e){const{snapId:t}=e;if(this.isRunning(t))throw new Error(`Snap "${t}" is already started.`);try{const n=ve(this,f,"m",le).call(this,t),r=await this.messagingSystem.call("ExecutionService:executeSnap",{...e,endowments:await ve(this,f,"m",W).call(this,t)});return ve(this,f,"m",x).call(this,t,Ce.SnapStatusEvents.Start),n.lastRequest=Date.now(),r}catch(e){throw await ve(this,f,"m",N).call(this,t),e}},W=async function(e){let t=[];for(const n of ve(this,a,"f"))if(this.messagingSystem.call("PermissionController:hasPermission",e,n)){const f=await this.messagingSystem.call("PermissionController:getEndowments",e,n);if(f){if(!Array.isArray(f)||f.some((e=>"string"!=typeof e)))throw new Error("Expected an array of string endowment names.");t=t.concat(f)}}const n=[...new Set([...Ce.DEFAULT_ENDOWMENTS,...t])];return n.length<Ce.DEFAULT_ENDOWMENTS.length+t.length&&(0,Ce.logError)(`Duplicate endowments found for ${e}. Default endowments should not be requested.`,t),n},Y=function(e){const{id:t,origin:n,files:r,isUpdate:s=!1,removable:a,preinstalled:i,hidden:o,hideSnapBranding:c}=e,{manifest:l,sourceCode:u,svgIcon:d,auxiliaryFiles:h,localizationFiles:p}=r;(0,Ce.assertIsSnapManifest)(l.result);const{version:b}=l.result,m=u.toString();(0,Pe.assert)("string"==typeof m&&m.length>0,`Invalid source code for snap "${t}".`);const g=h.map((e=>((0,Pe.assert)("string"==typeof e.data.base64),{path:e.path,value:e.data.base64}))),y=this.state.snaps[t],v=[...y?.versionHistory??[],{version:b,date:Date.now(),origin:n}],k=p.map((e=>e.result)),S={...y,blocked:!1,enabled:!0,removable:a,preinstalled:i,hidden:o,hideSnapBranding:c,id:t,initialConnections:l.result.initialConnections,initialPermissions:l.result.initialPermissions,manifest:l.result,status:ve(this,w,"f").config.initial,sourceCode:m,version:b,versionHistory:v,auxiliaryFiles:g,localizationFiles:k};delete S.blockInformation;const{inversePatches:E}=this.update((e=>{e.snaps[t]=S}));if(s){const e=ve(this,f,"m",se).call(this,t);e!==undefined&&(e.statePatches=E)}const{proposedName:T}=(0,Ce.getLocalizedSnapManifest)(l.result,"en",k);return this.messagingSystem.call("SubjectMetadataController:addSubjectMetadata",{subjectType:Se.SubjectType.Snap,name:T,origin:S.id,version:b,svgIcon:d?.toString()??null}),{...S,sourceCode:m}},K=function(e){const t=Object.keys(e),n=Array.from(new Set(Object.values(Te.handlerEndowments)));(0,Pe.assert)(t.some((e=>n.includes(e))),`A snap must request at least one of the following permissions: ${n.filter((e=>null!==e)).join(", ")}.`);const f=t.reduce(((e,t)=>((0,Pe.hasProperty)(ve(this,i,"f"),t)&&e.push(ve(this,i,"f")[t]),e)),[]);(0,Pe.assert)(0===f.length,`One or more permissions are not allowed:\n${f.join("\n")}`)},J=function(e,t){if(t!==undefined&&Ae.default.gt(t,(0,Ce.getPlatformVersion)())){const n=`The Snap "${e}" requires platform version "${t}" which is greater than the current platform version "${(0,Ce.getPlatformVersion)()}".`;if(ve(this,o,"f").rejectInvalidPlatformVersion)throw new Error(n);(0,Ce.logWarning)(n)}},Z=function(e){return(0,Te.getMaxRequestTimeCaveat)(e)??this.maxRequestTime},X=function(e){const t=ve(this,f,"m",le).call(this,e),n=t.rpcHandler;if(n)return n;const r=new Le.RequestQueue(5),s=new Map,a=async({origin:t,handler:n,request:a,timeout:i})=>{if(!1===this.state.snaps[e].enabled)throw new Error(`Snap "${e}" is disabled.`);if(this.state.snaps[e].status===Ce.SnapStatus.Installing)throw new Error(`Snap "${e}" is currently being installed. Please try again later.`);if(!this.isRunning(e)){let n=s.get(e);if(n){if(r.get(t)>=r.maxQueueSize)throw new Error("Exceeds maximum number of requests waiting to be resolved, please try again.")}else n=this.startSnap(e),s.set(e,n);r.increment(t);try{await n}finally{r.decrement(t),s.get(e)===n&&s.delete(e)}}const o=new Be.Timer(i);ve(this,f,"m",fe).call(this,e,a.id,o);const c=this.messagingSystem.call("ExecutionService:handleRpcRequest",e,{origin:t,handler:n,request:a});try{const t=await(0,Ne.withTimeout)(c,o);if(t===Ne.hasTimedOut)throw new Error(`${e} failed to respond to the request in time.`);await ve(this,f,"m",ne).call(this,e,n,t);const r=await ve(this,f,"m",te).call(this,e,n,t);return ve(this,f,"m",re).call(this,e,a.id),r}catch(t){ve(this,f,"m",re).call(this,e,a.id);const[n,r]=(0,Ce.unwrapError)(t);throw r||await this.stopSnap(e,Ce.SnapStatusEvents.Crash),n}};return t.rpcHandler=a,a},Q=async function(e,t,n){return this.messagingSystem.call("SnapInterfaceController:createInterface",e,t,undefined,n)},ee=function(e,t){(0,Pe.assert)(this.messagingSystem.call("SnapInterfaceController:getInterface",e,t))},te=async function(e,t,n){switch(t){case Ce.HandlerType.OnTransaction:case Ce.HandlerType.OnSignature:case Ce.HandlerType.OnHomePage:{const t=n;if(t&&(0,Pe.hasProperty)(t,"content")){const{content:n,...r}=t;return{...r,id:await ve(this,f,"m",Q).call(this,e,n)}}return n}default:return n}},ne=async function(e,t,n){switch(t){case Ce.HandlerType.OnTransaction:(0,Pe.assertStruct)(n,Ce.OnTransactionResponseStruct),n&&(0,Pe.hasProperty)(n,"id")&&ve(this,f,"m",ee).call(this,e,n.id);break;case Ce.HandlerType.OnSignature:(0,Pe.assertStruct)(n,Ce.OnSignatureResponseStruct),n&&(0,Pe.hasProperty)(n,"id")&&ve(this,f,"m",ee).call(this,e,n.id);break;case Ce.HandlerType.OnHomePage:(0,Pe.assertStruct)(n,Ce.OnHomePageResponseStruct),n&&(0,Pe.hasProperty)(n,"id")&&ve(this,f,"m",ee).call(this,e,n.id);break;case Ce.HandlerType.OnNameLookup:(0,Pe.assertStruct)(n,Ce.OnNameLookupResponseStruct)}},fe=function(e,t,n){const r=ve(this,f,"m",le).call(this,e);r.pendingInboundRequests.push({requestId:t,timer:n}),r.lastRequest=null},re=function(e,t){const n=ve(this,f,"m",le).call(this,e);n.pendingInboundRequests=n.pendingInboundRequests.filter((e=>e.requestId!==t)),0===n.pendingInboundRequests.length&&(n.lastRequest=Date.now())},se=function(e){return ve(this,y,"f").get(e)},ae=function(e){(0,Pe.assert)(ve(this,y,"f").get(e)===undefined,new Error(`Snap "${e}" rollback snapshot already exists.`)),ve(this,y,"f").set(e,{statePatches:[],permissions:{},newVersion:""});const t=ve(this,y,"f").get(e);return(0,Pe.assert)(t!==undefined,new Error(`Snapshot creation failed for ${e}.`)),t},ie=async function(e){const t=ve(this,f,"m",se).call(this,e);if(!t)throw new Error("A snapshot does not exist for this snap.");await this.stopSnap(e,Ce.SnapStatusEvents.Stop),this.get(e)?.status!==Ce.SnapStatus.Stopped&&ve(this,f,"m",x).call(this,e,Ce.SnapStatusEvents.Stop);const{statePatches:n,permissions:r}=t;n?.length&&this.applyPatches(n),this.get(e)?.status!==Ce.SnapStatus.Stopped&&this.update((t=>{t.snaps[e].status=Ce.SnapStatus.Stopped})),ve(this,f,"m",be).call(this,{snapId:e,unusedPermissions:r.granted,newPermissions:r.revoked,requestData:r.requestData});const s=this.getTruncatedExpect(e);this.messagingSystem.publish("SnapController:snapRolledback",s,t.newVersion),ve(this,y,"f").delete(e)},oe=async function(e){for(const t of e)await ve(this,f,"m",ie).call(this,t)},ce=function(e){return ve(this,g,"f").get(e)},le=function(e){const t=ve(this,f,"m",ce).call(this,e);return(0,Pe.assert)(t!==undefined,new Error(`Snap "${e}" runtime data not found`)),t},ue=function(e){if(ve(this,g,"f").has(e))return;const t=this.get(e),n=(0,Ie.interpret)(ve(this,w,"f"));n.start({context:{snapId:e},value:t?.status??ve(this,w,"f").config.initial}),(0,je.forceStrict)(n),ve(this,g,"f").set(e,{lastRequest:null,rpcHandler:null,installPromise:null,encryptionKey:null,encryptionSalt:null,activeReferences:0,pendingInboundRequests:[],pendingOutboundRequests:0,interpreter:n,stopping:!1})},de=function(e,t){const n=this.messagingSystem.call("PermissionController:getPermissions",e)??{},f=(0,Ne.permissionsDiff)(t,n),r=(0,Ne.permissionsDiff)(n,t);return{newPermissions:f,unusedPermissions:r,approvedPermissions:(0,Ne.permissionsDiff)(n,r)}},he=function(e,t){const n=this.messagingSystem.call("PermissionController:getPermissions",t),f=n?.[Te.WALLET_SNAP_PERMISSION_KEY]?.caveats?.find((e=>e.type===Ce.SnapCaveatType.SnapIds));return Boolean(f?.value?.[e])},pe=function(e,t,n){const r=Object.keys(t).filter((t=>ve(this,f,"m",he).call(this,e,t))).reduce(((e,n)=>(e[n]=t[n],e)),{}),s=(0,Ne.setDiff)(n,r),a=(0,Ne.setDiff)(r,n);return{newConnections:s,unusedConnections:a,approvedConnections:(0,Ne.setDiff)(r,a)}},be=function({snapId:e,unusedPermissions:t={},newPermissions:n={},requestData:f}){const r=Object.keys(t);(0,Pe.isNonEmptyArray)(r)&&this.messagingSystem.call("PermissionController:revokePermissions",{[e]:r}),(0,Pe.isNonEmptyArray)(Object.keys(n))&&this.messagingSystem.call("PermissionController:grantPermissions",{approvedPermissions:n,subject:{origin:e},requestData:f})},me=function(e,t){const n=this.getExpect(e);return!(0,Pe.satisfiesVersionRange)(n.version,t)&&!(0,Pe.gtRange)(n.version,t)},ge=async function(e,t,n){const f=Te.handlerEndowments[n];(0,Pe.assert)(f,"Lifecycle hook must have an endowment.");this.messagingSystem.call("PermissionController:hasPermission",t,f)&&await this.handleRequest({snapId:t,handler:n,origin:e,request:{jsonrpc:"2.0",method:n}})}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/SnapController.cjs"}],[226,{"@metamask/utils":2620,"bn.js":3344,lodash:4111,loglevel:4117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=o,function(e){if((0,f.hasProperty)(e,"NftController")&&(0,f.isObject)(e.NftController)){const o=e.NftController;if((0,f.hasProperty)(o,"allNftContracts")&&(0,f.isObject)(o.allNftContracts)){const{allNftContracts:e}=o;Object.keys(e).every((t=>(0,f.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const n=e[t];if((0,f.isObject)(n)){for(const e of Object.keys(n))"undefined"!==e&&e!==undefined&&"null"!==e||delete n[e];e[t]=(0,s.mapKeys)(n,((e,t)=>c(t)))}}))}else if((0,f.hasProperty)(o,"allNftContracts")){var t,n;null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("typeof state.NftController.allNftContracts is "+typeof o.allNftContracts))}else a.default.warn("typeof state.NftController.allNftContracts is "+typeof o.allNftContracts);if((0,f.hasProperty)(o,"allNfts")&&(0,f.isObject)(o.allNfts)){const{allNfts:e}=o;Object.keys(e).every((t=>(0,f.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const n=e[t];if((0,f.isObject)(n)){for(const e of Object.keys(n))"undefined"!==e&&e!==undefined&&"null"!==e||delete n[e];e[t]=(0,s.mapKeys)(n,((e,t)=>c(t)))}}))}else if((0,f.hasProperty)(o,"allNfts")){var r,i;null===(r=global.sentry)||void 0===r||null===(i=r.captureException)||void 0===i||i.call(r,new Error("typeof state.NftController.allNfts is "+typeof o.allNfts))}else a.default.warn("typeof state.NftController.allNfts is "+typeof o.allNfts);e.NftController=o}else if((0,f.hasProperty)(e,"NftController")){var o,l;null===(o=global.sentry)||void 0===o||null===(l=o.captureException)||void 0===l||l.call(o,new Error("typeof state.NftController is "+typeof e.NftController))}else a.default.warn("typeof state.NftController is undefined");if((0,f.hasProperty)(e,"TokenListController")&&(0,f.isObject)(e.TokenListController)){const t=e.TokenListController;if((0,f.hasProperty)(t,"tokensChainsCache")&&(0,f.isObject)(t.tokensChainsCache)){for(const e of Object.keys(t.tokensChainsCache))"undefined"!==e&&e!==undefined&&"null"!==e||delete t.tokensChainsCache[e];t.tokensChainsCache=(0,s.mapKeys)(t.tokensChainsCache,((e,t)=>c(t)))}else if((0,f.hasProperty)(t,"tokensChainsCache")){var u,d;null===(u=global.sentry)||void 0===u||null===(d=u.captureException)||void 0===d||d.call(u,new Error("typeof state.TokenListController.tokensChainsCache is "+typeof e.TokenListController.tokensChainsCache))}else a.default.warn("typeof state.TokenListController.tokensChainsCache is undefined")}else a.default.warn("typeof state.TokenListController is "+typeof e.TokenListController);if((0,f.hasProperty)(e,"TokensController")&&(0,f.isObject)(e.TokensController)){const t=e.TokensController;if((0,f.hasProperty)(t,"allTokens")&&(0,f.isObject)(t.allTokens)){const{allTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined&&"null"!==t||delete e[t];t.allTokens=(0,s.mapKeys)(e,((e,t)=>c(t)))}else if((0,f.hasProperty)(t,"allTokens")){var h,p;null===(h=global.sentry)||void 0===h||null===(p=h.captureException)||void 0===p||p.call(h,new Error("typeof state.TokensController.allTokens is "+typeof t.allTokens))}else a.default.warn("typeof state.TokensController.allTokens is "+typeof t.allTokens);if((0,f.hasProperty)(t,"allIgnoredTokens")&&(0,f.isObject)(t.allIgnoredTokens)){const{allIgnoredTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined&&"null"!==t||delete e[t];t.allIgnoredTokens=(0,s.mapKeys)(e,((e,t)=>c(t)))}else if((0,f.hasProperty)(t,"allIgnoredTokens")){var b,m;null===(b=global.sentry)||void 0===b||null===(m=b.captureException)||void 0===m||m.call(b,new Error("typeof state.TokensController.allIgnoredTokens is "+typeof t.allIgnoredTokens))}else a.default.warn("typeof state.TokensController.allIgnoredTokens is "+typeof t.allIgnoredTokens);if((0,f.hasProperty)(t,"allDetectedTokens")&&(0,f.isObject)(t.allDetectedTokens)){const{allDetectedTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined&&"null"!==t||delete e[t];t.allDetectedTokens=(0,s.mapKeys)(e,((e,t)=>c(t)))}else if((0,f.hasProperty)(t,"allDetectedTokens")){var g,y;null===(g=global.sentry)||void 0===g||null===(y=g.captureException)||void 0===y||y.call(g,new Error("typeof state.TokensController.allDetectedTokens is "+typeof t.allDetectedTokens))}else a.default.warn("typeof state.TokensController.allDetectedTokens is "+typeof t.allDetectedTokens);e.TokensController=t}else{var v,w;null===(v=global.sentry)||void 0===v||null===(w=v.captureException)||void 0===w||w.call(v,new Error("typeof state.TokensController is "+typeof e.TokensController))}}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=i(e("bn.js")),s=e("lodash"),a=i(e("loglevel"));function i(e){return e&&e.__esModule?e:{default:e}}const o=n.version=88;function c(e){if("string"==typeof e&&(0,f.isStrictHexString)(e))return e;return`0x${r.default.isBN(e)?e.toString(16):new r.default(e.toString(10),10).toString(16)}`}}}},{package:"$root$",file:"app/scripts/migrations/088.ts"}],[2260,{"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Timer=void 0;const f=e("@metamask/utils");n.Timer=class{constructor(e){(0,f.assert)(!Number.isNaN(e),new TypeError("Can't start a timer with NaN time")),(0,f.assert)(e>=0,new TypeError("Can't start a timer with negative time")),this.state={value:"stopped",remaining:e}}get status(){return this.state.value}get remaining(){return this.state.remaining}cancel(){(0,f.assert)("paused"===this.status||"running"===this.status,new Error("Tried to cancel a not running Timer")),this.onFinish(!1)}finish(){(0,f.assert)("finished"!==this.status,new Error("Tried to finish a finished Timer.")),this.onFinish(!0)}pause(){(0,f.assert)("running"===this.state.value,new Error("Tried to pause a not running Timer"));const{callback:e,start:t,timeout:n,remaining:r}=this.state;n!==undefined&&clearTimeout(n),this.state={value:"paused",callback:e,remaining:r-(Date.now()-t)}}start(e){(0,f.assert)("stopped"===this.state.value,new Error("Tried to start an already running Timer"));const{remaining:t}=this.state;this.state={value:"paused",remaining:t,callback:e},this.resume()}resume(){(0,f.assert)("paused"===this.state.value,new Error("Tried to resume not paused Timer"));const{remaining:e,callback:t}=this.state,n=Date.now();let r;e!==Number.POSITIVE_INFINITY&&(r=setTimeout((()=>this.onFinish(!0)),e)),this.state={value:"running",callback:t,remaining:e,start:n,timeout:r}}onFinish(e){(0,f.assert)("running"===this.state.value||"paused"===this.state.value),"running"===this.state.value&&this.state.timeout!==undefined&&clearTimeout(this.state.timeout);const{callback:t,remaining:n}=this.state;this.state={value:"finished",remaining:"running"===this.state.value?n-(Date.now()-this.state.start):n},e&&t()}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/Timer.cjs"}],[2261,{"@metamask/snaps-rpc-methods":2303},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LEGACY_ENCRYPTION_KEY_DERIVATION_OPTIONS=n.ALLOWED_PERMISSIONS=void 0;const f=e("@metamask/snaps-rpc-methods");n.ALLOWED_PERMISSIONS=Object.freeze(["snap_dialog","snap_manageState","snap_notify","snap_getLocale",f.SnapEndowments.Cronjob,f.SnapEndowments.HomePage,f.SnapEndowments.LifecycleHooks,f.SnapEndowments.EthereumProvider,f.SnapEndowments.TransactionInsight,f.SnapEndowments.SignatureInsight]),n.LEGACY_ENCRYPTION_KEY_DERIVATION_OPTIONS={algorithm:"PBKDF2",params:{iterations:1e4}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/constants.cjs"}],[2262,{"./SnapController.cjs":2259,"./location/index.cjs":2264,"./registry/index.cjs":2268,"./selectors.cjs":2271},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./location/index.cjs"),n),r(e("./SnapController.cjs"),n),r(e("./selectors.cjs"),n),r(e("./registry/index.cjs"),n)}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/index.cjs"}],[2263,{"@metamask/snaps-utils":2471,"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HttpLocation=void 0;const f=e("@metamask/snaps-utils"),r=e("@metamask/utils");n.HttpLocation=class{constructor(e,t={}){this.cache=new Map,(0,r.assertStruct)(e.toString(),f.HttpSnapIdStruct,"Invalid Snap Id: "),this.fetchFn=t.fetch??globalThis.fetch.bind(undefined),this.fetchOptions=t.fetchOptions,this.url=e}async manifest(){if(this.validatedManifest)return this.validatedManifest.clone();const e=new URL(f.NpmSnapFileNames.Manifest,this.url).toString(),t=await this.fetchFn(e,this.fetchOptions);if(!t.ok)throw new Error(`Failed to fetch "${e}". Status code: ${t.status}.`);const n=await t.text(),r=(0,f.parseJson)(n),s=new f.VirtualFile({value:n,result:(0,f.createSnapManifest)(r),path:f.NpmSnapFileNames.Manifest,data:{canonicalPath:e}});return this.validatedManifest=s,this.manifest()}async fetch(e){const t=(0,f.normalizeRelative)(e),n=this.cache.get(t);if(n!==undefined)return n.clone();const s=this.toCanonical(t).toString(),a=await this.fetchFn(s,this.fetchOptions);if(!a.ok)throw new Error(`Failed to fetch "${s}". Status code: ${a.status}.`);const i=await a.arrayBuffer(),o=new f.VirtualFile({value:new Uint8Array(i),path:t,data:{canonicalPath:s}});return(0,r.assert)(!this.cache.has(t),"Corrupted cache, multiple files with same path."),this.cache.set(t,o),this.fetch(t)}get root(){return new URL(this.url)}toCanonical(e){return(0,r.assert)(!e.startsWith("/"),"Tried to parse absolute path."),new URL(e,this.url)}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/location/http.cjs"}],[2264,{"./http.cjs":2263,"./local.cjs":2265,"./location.cjs":2266,"./npm.cjs":2267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./location.cjs"),n),r(e("./npm.cjs"),n),r(e("./local.cjs"),n),r(e("./http.cjs"),n)}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/location/index.cjs"}],[2265,{"./http.cjs":2263,"@metamask/snaps-utils":2471,"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.LocalLocation=void 0;const a=e("@metamask/snaps-utils"),i=e("@metamask/utils"),o=e("./http.cjs");function c(e){return(0,i.assert)(e.data.canonicalPath!==undefined),e.data.canonicalPath=`local:${e.data.canonicalPath}`,e}n.LocalLocation=class{constructor(e,t={}){f.set(this,void 0),(0,i.assertStruct)(e.toString(),a.LocalSnapIdStruct,"Invalid Snap Id"),(0,i.assert)(t.fetchOptions===undefined,"Currently adding fetch options to local: is unsupported."),r(this,f,new o.HttpLocation(new URL(e.toString().slice(a.SnapIdPrefixes.local.length)),{...t,fetchOptions:{cache:"no-cache"}}),"f")}async manifest(){return c(await s(this,f,"f").manifest())}async fetch(e){return c(await s(this,f,"f").fetch(e))}get shouldAlwaysReload(){return!0}},f=new WeakMap}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/location/local.cjs"}],[2266,{"./http.cjs":2263,"./local.cjs":2265,"./npm.cjs":2267,"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.detectSnapLocation=void 0;const f=e("@metamask/utils"),r=e("./http.cjs"),s=e("./local.cjs"),a=e("./npm.cjs");n.detectSnapLocation=function(e,t){const n=t?.allowHttp??!1,i=t?.allowLocal??!1,o=new URL(e);switch(o.protocol){case"npm:":return new a.NpmLocation(o,t);case"local:":return(0,f.assert)(i,new TypeError("Fetching local snaps is disabled.")),new s.LocalLocation(o,t);case"http:":case"https:":return(0,f.assert)(n,new TypeError("Fetching snaps through http/https is disabled.")),new r.HttpLocation(o,t);default:throw new TypeError(`Unrecognized "${o.protocol}" snap location protocol.`)}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/location/location.cjs"}],[2267,{"@metamask/snaps-utils":2471,"@metamask/utils":2620,"browserify-zlib":3386,"concat-stream":2273,"get-npm-tarball-url":3760,"readable-stream":4520,"readable-web-to-node-stream":4521,"tar-stream":2279},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s,a,i=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getNpmCanonicalBasePath=n.fetchNpmMetadata=n.NpmLocation=n.TARBALL_SIZE_SAFETY_LIMIT=n.BaseNpmLocation=n.DEFAULT_NPM_REGISTRY=void 0;const l=e("@metamask/snaps-utils"),u=e("@metamask/utils"),d=e("browserify-zlib"),h=c(e("concat-stream")),p=c(e("get-npm-tarball-url")),b=e("readable-stream"),m=e("readable-web-to-node-stream"),g=e("tar-stream");n.DEFAULT_NPM_REGISTRY=new URL("https://registry.npmjs.org");class y{constructor(e,t={}){f.add(this),r.set(this,void 0),s.set(this,void 0);const a=t.allowCustomRegistries??!1,i=t.fetch??globalThis.fetch.bind(undefined),o=t.versionRange??l.DEFAULT_REQUESTED_SNAP_VERSION,c=t.resolveVersion??(async e=>e);let d;(0,u.assertStruct)(e.toString(),l.NpmSnapIdStruct,"Invalid Snap Id: "),""===e.host&&""===e.port&&""===e.username&&""===e.password?d=n.DEFAULT_NPM_REGISTRY:(d="https://",e.username&&(d+=e.username,e.password&&(d+=`:${e.password}`),d+="@"),d+=e.host,d=new URL(d),(0,u.assert)(a,new TypeError(`Custom NPM registries are disabled, tried to use "${d.toString()}".`))),(0,u.assert)("/"===d.pathname&&""===d.search&&""===d.hash),(0,u.assert)(""!==e.pathname&&"/"!==e.pathname,new TypeError("The package name in NPM location is empty."));let h=e.pathname;h.startsWith("/")&&(h=h.slice(1)),this.meta={requestedRange:o,registry:d,packageName:h,fetch:i,resolveVersion:c}}async manifest(){if(i(this,r,"f"))return i(this,r,"f").clone();const e=await this.fetch("snap.manifest.json"),t=(0,l.parseJson)(e.toString());return e.result=(0,l.createSnapManifest)(t),o(this,r,e,"f"),this.manifest()}async fetch(e){const t=(0,l.normalizeRelative)(e);i(this,s,"f")||(await i(this,f,"m",a).call(this),(0,u.assert)(i(this,s,"f")!==undefined));const n=i(this,s,"f").get(t);return(0,u.assert)(n!==undefined,new TypeError(`File "${e}" not found in package.`)),n.clone()}get packageName(){return this.meta.packageName}get version(){return(0,u.assert)(this.meta.version!==undefined,"Tried to access version without first fetching NPM package."),this.meta.version}get registry(){return this.meta.registry}get versionRange(){return this.meta.requestedRange}}n.BaseNpmLocation=y,r=new WeakMap,s=new WeakMap,f=new WeakSet,a=async function(){(0,u.assert)(i(this,s,"f")===undefined);const e=await this.meta.resolveVersion(this.meta.requestedRange),{tarballURL:t,targetVersion:n}=await async function(e,t,n,f){if(k(n)&&(0,u.isValidSemVerVersion)(t))return{tarballURL:(0,p.default)(e,t),targetVersion:t};const r=await v(e,n,f),s=Object.keys(r?.versions??{}).map((e=>((0,u.assertIsSemVerVersion)(e),e))),a=(0,l.getTargetVersion)(s,t);if(null===a)throw new Error(`Failed to find a matching version in npm metadata for package "${e}" and requested semver range "${t}".`);const i=r?.versions?.[a]?.dist?.tarball;return{tarballURL:i,targetVersion:a}}(this.meta.packageName,e,this.meta.registry,this.meta.fetch);if(!(0,l.isValidUrl)(t)||!t.toString().endsWith(".tgz"))throw new Error(`Failed to find valid tarball URL in NPM metadata for package "${this.meta.packageName}".`);const f=new URL(t);f.hostname=this.meta.registry.hostname,f.protocol=this.meta.registry.protocol;const r=await this.fetchNpmTarball(f);o(this,s,r,"f"),this.meta.version=n},n.TARBALL_SIZE_SAFETY_LIMIT=262144e3;async function v(e,t,n){const f=await n(new URL(e,t).toString(),{headers:{accept:k(t)?"application/vnd.npm.install-v1+json; q=1.0, application/json; q=0.8, */*":"application/json"}});if(!f.ok)throw new Error(`Failed to fetch NPM registry entry. Status code: ${f.status}.`);const r=await f.json();if(!(0,u.isObject)(r))throw new Error(`Failed to fetch package "${e}" metadata from npm.`);return r}function w(e,t){let n="npm://";return""!==e.username&&(n+=e.username,""!==e.password&&(n+=`:${e.password}`),n+="@"),`${n}${e.host}/${t}/`}function k(e){return e.toString()===n.DEFAULT_NPM_REGISTRY.toString()}n.NpmLocation=class extends y{async fetchNpmTarball(e){const t=await this.meta.fetch(e.toString());if(!t.ok||!t.body)throw new Error(`Failed to fetch tarball for package "${this.meta.packageName}".`);const f=t.headers.get("content-length");(0,u.assert)(f,"Snap tarball has invalid content-length");const r=parseInt(f,10);return(0,u.assert)(r<=n.TARBALL_SIZE_SAFETY_LIMIT,"Snap tarball exceeds size limit"),new Promise(((e,f)=>{const r=new Map,s=function(e,t){(0,u.assert)(e.endsWith("/"),"Base needs to end with '/' for relative paths to be added as children instead of siblings."),(0,u.assert)(e.startsWith("npm:"),'Protocol mismatch, expected "npm:".');const f=(0,g.extract)();let r=0;return f.on("entry",((s,a,i)=>{const{name:o,type:c}=s;if("file"===c){const s=o.replace(S,"");return a.pipe((0,h.default)({encoding:"uint8array"},(a=>{try{r+=a.byteLength,(0,u.assert)(r<n.TARBALL_SIZE_SAFETY_LIMIT,`Snap tarball exceeds limit of ${n.TARBALL_SIZE_SAFETY_LIMIT} bytes.`);const f=new l.VirtualFile({value:a,path:s,data:{canonicalPath:new URL(s,e).toString()}});return(0,u.assert)(!t.has(s),"Malformed tarball, multiple files with the same path."),t.set(s,f),i()}catch(e){return f.destroy(e)}})))}return a.on("end",(()=>i())),a.resume()})),f}(w(this.meta.registry,this.meta.packageName),r),a=t.body;if("pipeThrough"in a&&"DecompressionStream"in globalThis){const t=new DecompressionStream("gzip"),n=a.pipeThrough(t);(0,b.pipeline)(E(n),s,(t=>{t?f(t):e(r)}))}else(0,b.pipeline)(E(a),(0,d.createGunzip)(),s,(t=>{t?f(t):e(r)}))}))}},n.fetchNpmMetadata=v,n.getNpmCanonicalBasePath=w;const S=/^package\//u;function E(e){return"function"!=typeof e.getReader?e:new m.ReadableWebToNodeStream(e)}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/location/npm.cjs"}],[2268,{"./json.cjs":2269,"./registry.cjs":2270},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./registry.cjs"),n),r(e("./json.cjs"),n)}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/registry/index.cjs"}],[2269,{"./registry.cjs":2270,"@metamask/base-controller":1349,"@metamask/snaps-registry":2285,"@metamask/snaps-utils":2471,"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s,a,i,o,c,l,u,d,h,p,b,m,g,y,v,w=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},k=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.JsonSnapsRegistry=void 0;const S=e("@metamask/base-controller"),E=e("@metamask/snaps-registry"),T=e("@metamask/snaps-utils"),_=e("@metamask/utils"),C=e("./registry.cjs"),P={database:null,lastUpdated:null,databaseUnavailable:!1};class I extends S.BaseController{constructor({messenger:e,state:t,url:n={registry:"https://acl.execution.metamask.io/latest/registry.json",signature:"https://acl.execution.metamask.io/latest/signature.json"},publicKey:l="0x025b65308f0f0fb8bc7f7ff87bfc296e0330eee5d3c1d1ee4a048b2fd6a86fa0a6",fetchFunction:d=globalThis.fetch.bind(undefined),recentFetchThreshold:h=(0,_.inMilliseconds)(5,_.Duration.Minute),refetchOnAllowlistMiss:p=!0}){super({messenger:e,metadata:{database:{persist:!0,anonymous:!1},lastUpdated:{persist:!0,anonymous:!1},databaseUnavailable:{persist:!0,anonymous:!1}},name:"SnapsRegistry",state:{...P,...t}}),f.add(this),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),c.set(this,void 0),w(this,r,n,"f"),w(this,s,l,"f"),w(this,a,d,"f"),w(this,i,h,"f"),w(this,o,p,"f"),w(this,c,null,"f"),this.messagingSystem.registerActionHandler("SnapsRegistry:get",(async(...e)=>k(this,f,"m",b).call(this,...e))),this.messagingSystem.registerActionHandler("SnapsRegistry:getMetadata",(async(...e)=>k(this,f,"m",g).call(this,...e))),this.messagingSystem.registerActionHandler("SnapsRegistry:resolveVersion",(async(...e)=>k(this,f,"m",m).call(this,...e))),this.messagingSystem.registerActionHandler("SnapsRegistry:update",(async()=>k(this,f,"m",u).call(this)))}}n.JsonSnapsRegistry=I,r=new WeakMap,s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,c=new WeakMap,f=new WeakSet,l=function(){return this.state.lastUpdated&&Date.now()-this.state.lastUpdated<k(this,i,"f")},u=async function(){k(this,c,"f")?await k(this,c,"f"):(null===k(this,c,"f")&&w(this,c,k(this,f,"m",d).call(this),"f"),await k(this,c,"f"),w(this,c,null,"f"))},d=async function(){if(!k(this,f,"m",l).call(this))try{const e=await k(this,f,"m",v).call(this,k(this,r,"f").registry),t=await k(this,f,"m",v).call(this,k(this,r,"f").signature);k(this,f,"m",y).call(this,e,t),this.update((t=>{t.database=JSON.parse(e),t.lastUpdated=Date.now(),t.databaseUnavailable=!1}))}catch{this.update((e=>{e.databaseUnavailable=!0}))}},h=async function(){return null===this.state.database&&await k(this,f,"m",u).call(this),this.state.database},p=async function e(t,n,r=!1){const s=await k(this,f,"m",h).call(this),a=s?.blockedSnaps.find((e=>"id"in e?e.id===t&&(0,_.satisfiesVersionRange)(n.version,e.versionRange):e.checksum===n.checksum));if(a)return{status:C.SnapsRegistryStatus.Blocked,reason:a.reason};const i=s?.verifiedSnaps[t],c=i?.versions?.[n.version];return c&&c.checksum===n.checksum?{status:C.SnapsRegistryStatus.Verified}:k(this,o,"f")&&!r?(await k(this,f,"m",u).call(this),k(this,f,"m",e).call(this,t,n,!0)):{status:this.state.databaseUnavailable?C.SnapsRegistryStatus.Unavailable:C.SnapsRegistryStatus.Unverified}},b=async function(e){return Object.entries(e).reduce((async(e,[t,n])=>{const r=await k(this,f,"m",p).call(this,t,n),s=await e;return s[t]=r,s}),Promise.resolve({}))},m=async function e(t,n,r=!1){const s=await k(this,f,"m",h).call(this),a=s?.verifiedSnaps[t]?.versions??null;if(!a&&k(this,o,"f")&&!r)return await k(this,f,"m",u).call(this),k(this,f,"m",e).call(this,t,n,!0);if(!a)return n;const i=(0,T.getTargetVersion)(Object.keys(a),n);return i||!k(this,o,"f")||r?i?((0,_.assertIsSemVerRange)(i),i):n:(await k(this,f,"m",u).call(this),k(this,f,"m",e).call(this,t,n,!0))},g=async function(e){const t=await k(this,f,"m",h).call(this);return t?.verifiedSnaps[e]?.metadata??null},y=function(e,t){(0,_.assert)(k(this,s,"f"),"No public key provided.");const n=(0,E.verify)({registry:e,signature:JSON.parse(t),publicKey:k(this,s,"f")});(0,_.assert)(n,"Invalid registry signature.")},v=async function(e){const t=await k(this,a,"f").call(this,e);if(!t.ok)throw new Error(`Failed to fetch ${e}.`);return await t.text()}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/registry/json.cjs"}],[227,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,t.data=function(e){if((0,f.hasProperty)(e,"NetworkController")&&(0,f.isObject)(e.NetworkController)&&(0,f.hasProperty)(e.NetworkController,"providerConfig")&&(0,f.isObject)(e.NetworkController.providerConfig)){const{networkConfigurations:t,providerConfig:n}=e.NetworkController;if(!(0,f.isObject)(t))return e;if(n.id)return e;let r;for(const s of Object.keys(t)){const a=t[s];if(!(0,f.isObject)(a))return e;if(a.rpcUrl===n.rpcUrl){r=a.id;break}}return r?(e.NetworkController.providerConfig={...n,id:r},{...e,NetworkController:e.NetworkController}):e}var t,n;if((0,f.isObject)(e.NetworkController)){if(!(0,f.isObject)(e.NetworkController.providerConfig)){var r,s;null===(r=global.sentry)||void 0===r||null===(s=r.captureException)||void 0===s||s.call(r,new Error("typeof state.NetworkController.providerConfig is "+typeof e.NetworkController.providerConfig))}}else null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=89}}},{package:"$root$",file:"app/scripts/migrations/089.ts"}],[2270,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f;Object.defineProperty(n,"__esModule",{value:!0}),n.SnapsRegistryStatus=void 0,function(e){e[e.Unverified=0]="Unverified",e[e.Blocked=1]="Blocked",e[e.Verified=2]="Verified",e[e.Unavailable=3]="Unavailable"}(f||(n.SnapsRegistryStatus=f={}))}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/registry/registry.cjs"}],[2271,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRunnableSnaps=void 0;n.getRunnableSnaps=e=>e.filter((e=>e.enabled&&!e.blocked))}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/snaps/selectors.cjs"}],[2272,{"./snaps/Timer.cjs":2260,"@metamask/snaps-sdk":2342,"@metamask/snaps-utils":2471,"fast-deep-equal":3706},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.fetchSnap=n.getSnapFiles=n.withTimeout=n.hasTimedOut=n.delayWithTimer=n.delay=n.permissionsDiff=n.setDiff=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/snaps-utils"),a=f(e("fast-deep-equal")),i=e("./snaps/Timer.cjs");function o(e,t){let n;const f=new Promise(((f,r)=>{e.start((()=>{t===undefined?f():f(t)})),n=r}));return f.cancel=()=>{"finished"!==e.status&&(e.cancel(),n(new Error("The delay has been canceled.")))},f}async function c(e,t){return t&&0!==t.length?await Promise.all(t.map((async t=>e.fetch(t)))):[]}n.setDiff=function(e,t){return Object.entries(e).reduce(((e,[n,f])=>(n in t||(e[n]=f),e)),{})},n.permissionsDiff=function(e,t){return Object.entries(e).reduce(((e,[n,f])=>{const r=n in t;return(!r||r&&!(0,a.default)(f.caveats??[],t[n].caveats??[]))&&(e[n]=f),e}),{})},n.delay=function(e,t){return o(new i.Timer(e),t)},n.delayWithTimer=o,n.hasTimedOut=Symbol("Used to check if the requested promise has timeout (see withTimeout)"),n.withTimeout=async function(e,t){const f=o("number"==typeof t?new i.Timer(t):t,n.hasTimedOut);try{return await Promise.race([e,f])}finally{f.cancel()}},n.getSnapFiles=c,n.fetchSnap=async function(e,t){try{const e=await t.manifest(),n=await t.fetch(e.result.source.location.npm.filePath);(0,r.assert)(n.size<s.MAX_FILE_SIZE,"Snap source code must be smaller than 64 MB.");const{iconPath:f}=e.result.source.location.npm,a=f?await t.fetch(f):undefined,i=await c(t,e.result.source.files);(0,s.validateAuxiliaryFiles)(i),await Promise.all(i.map((async e=>{e.data.base64=await(0,s.encodeBase64)(e)})));const o=await c(t,e.result.source.locales),l={manifest:e,sourceCode:n,svgIcon:a,auxiliaryFiles:i,localizationFiles:(0,s.getValidatedLocalizationFiles)(o)};return await(0,s.validateFetchedSnap)(l),l}catch(t){throw new Error(`Failed to fetch snap "${e}": ${(0,r.getErrorMessage)(t)}.`)}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/utils.cjs"}],[2273,{buffer:3392,"buffer-from":3397,inherits:3927,"readable-stream":4520,typedarray:4860},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var f=e("readable-stream").Writable,r=e("inherits"),s=e("buffer-from");if("undefined"==typeof Uint8Array)var a=e("typedarray").Uint8Array;else a=Uint8Array;function i(e,t){if(!(this instanceof i))return new i(e,t);"function"==typeof e&&(t=e,e={}),e||(e={});var n=e.encoding,r=!1;n?"u8"!==(n=String(n).toLowerCase())&&"uint8"!==n||(n="uint8array"):r=!0,f.call(this,{objectMode:!0}),this.encoding=n,this.shouldInferEncoding=r,t&&this.on("finish",(function(){t(this.getBody())})),this.body=[]}t.exports=i,r(i,f),i.prototype._write=function(e,t,n){this.body.push(e),n()},i.prototype.inferEncoding=function(e){var t=e===undefined?this.body[0]:e;return n.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},i.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(e){for(var t=[],n=0;n<e.length;n++)t.push.apply(t,e[n]);return t}(this.body):"string"===this.encoding?function(e){for(var t=[],f=0;f<e.length;f++){var r=e[f];"string"==typeof r||n.isBuffer(r)?t.push(r):o(r)?t.push(s(r)):t.push(s(String(r)))}t=n.isBuffer(e[0])?(t=n.concat(t)).toString("utf8"):t.join("");return t}(this.body):"buffer"===this.encoding?function(e){for(var t=[],f=0;f<e.length;f++){var r=e[f];n.isBuffer(r)?t.push(r):o(r)?t.push(s(r)):t.push(s(String(r)))}return n.concat(t)}(this.body):"uint8array"===this.encoding?function(e){for(var t=0,n=0;n<e.length;n++)"string"==typeof e[n]&&(e[n]=s(e[n])),t+=e[n].length;for(var f=new a(t),r=(n=0,0);n<e.length;n++)for(var i=e[n],o=0;o<i.length;o++)f[r++]=i[o];return f}(this.body):this.body):[]};Array.isArray;function o(e){return"string"==typeof e||(t=e,/Array\]$/.test(Object.prototype.toString.call(t)))||e&&"function"==typeof e.subarray;var t}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/snaps-controllers>concat-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/concat-stream/index.js"}],[2274,{"./url-alphabet/index.cjs":2275},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){let{urlAlphabet:f}=e("./url-alphabet/index.cjs"),r=e=>crypto.getRandomValues(new Uint8Array(e)),s=(e,t,n)=>{let f=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*f*t/e.length);return(s=t)=>{let a="";for(;;){let t=n(r),i=r;for(;i--;)if(a+=e[t[i]&f]||"",a.length===s)return a}}};t.exports={nanoid:(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""),customAlphabet:(e,t=21)=>s(e,t,r),customRandom:s,urlAlphabet:f,random:r}}}},{package:"@metamask/snaps-controllers>nanoid",file:"node_modules/@metamask/snaps-controllers/node_modules/nanoid/index.browser.cjs"}],[2275,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}}}},{package:"@metamask/snaps-controllers>nanoid",file:"node_modules/@metamask/snaps-controllers/node_modules/nanoid/url-alphabet/index.cjs"}],[2276,{fs:3357},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{t.exports=e("fs").constants||f}catch{t.exports=f}}}},{package:"@metamask/snaps-controllers>tar-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/tar-stream/constants.js"}],[2277,{"./headers":2278,b4a:3331,"fast-fifo":3708,streamx:4839},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Writable:f,Readable:r,getStreamError:s}=e("streamx"),a=e("fast-fifo"),i=e("b4a"),o=e("./headers"),c=i.alloc(0);class l{constructor(){this.buffered=0,this.shifted=0,this.queue=new a,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return 0===this._buffered?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(0===e)return c;let t=this._next(e);if(e===t.byteLength)return t;const n=[t];for(;(e-=t.byteLength)>0;)t=this._next(e),n.push(t);return i.concat(n)}_next(e){const t=this.queue.peek(),n=t.byteLength-this._offset;if(e>=n){const e=this._offset?t.subarray(this._offset,t.byteLength):t;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,e}return this.buffered-=e,this.shifted+=e,t.subarray(this._offset,this._offset+=e)}}class u extends r{constructor(e,t,n){super(),this.header=t,this.offset=n,this._parent=e}_read(e){0===this.header.size&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(s(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=p(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}}class d extends f{constructor(e){super(e),e||(e={}),this._buffer=new l,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=h,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e)return this.destroy(e),void this._continueWrite(e);this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=o.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),0===this._header.size||"directory"===this._header.type?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=o.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=o.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=o.decodePax(e);break;case"pax-header":this._pax=null===this._paxGlobal?o.decodePax(e):Object.assign({},this._paxGlobal,o.decodePax(e))}}_consumeLongHeader(){this._longHeader=!1,this._missing=p(this._header.size);const e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(e){return this._continueWrite(e),!1}return!0}_consumeStream(){const e=this._buffer.shiftFirst(this._missing);if(null===e)return!1;this._missing-=e.byteLength;const t=this._stream.push(e);return 0===this._missing?(this._stream.push(null),t&&this._stream._detach(),t&&!1===this._locked):t}_createStream(){return new u(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;)if(this._missing>0){if(null!==this._stream){if(!1===this._consumeStream())return;continue}if(!0===this._longHeader){if(this._missing>this._buffer.buffered)break;if(!1===this._consumeLongHeader())return!1;continue}const e=this._buffer.shiftFirst(this._missing);null!==e&&(this._missing-=e.byteLength)}else{if(this._buffer.buffered<512)break;if(null!==this._stream||!1===this._consumeHeader())return}this._continueWrite(null)}_continueWrite(e){const t=this._callback;this._callback=h,t(e)}_write(e,t){this._callback=t,this._buffer.push(e),this._update()}_final(e){this._finished=0===this._missing&&0===this._buffer.buffered,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(s(this)),e(null)}[Symbol.asyncIterator](){let e=null,t=null,n=null,f=null,r=null;const s=this;return this.on("entry",(function(e,s,a){r=a,s.on("error",h),t?(t({value:s,done:!1}),t=n=null):f=s})),this.on("error",(t=>{e=t})),this.on("close",(function(){if(a(e),!t)return;e?n(e):t({value:undefined,done:!0});t=n=null})),{[Symbol.asyncIterator](){return this},next:()=>new Promise(i),return:()=>o(null),throw:e=>o(e)};function a(e){if(!r)return;const t=r;r=null,t(e)}function i(r,i){return e?i(e):f?(r({value:f,done:!1}),void(f=null)):(t=r,n=i,a(null),void(s._finished&&t&&(t({value:undefined,done:!0}),t=n=null)))}function o(e){return s.destroy(e),a(e),new Promise(((t,n)=>{if(s.destroyed)return t({value:undefined,done:!0});s.once("close",(function(){e?n(e):t({value:undefined,done:!0})}))}))}}}function h(){}function p(e){return(e&=511)&&512-e}t.exports=function(e){return new d(e)}}}},{package:"@metamask/snaps-controllers>tar-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/tar-stream/extract.js"}],[2278,{b4a:3331},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f=e("b4a"),r="0000000000000000000",s="7777777777777777777",a="0".charCodeAt(0),i=f.from([117,115,116,97,114,0]),o=f.from([a,a]),c=f.from([117,115,116,97,114,32]),l=f.from([32,0]),u=257,d=263;function h(e,t,n,f){for(;n<f;n++)if(e[n]===t)return n;return f}function p(e){let t=256;for(let n=0;n<148;n++)t+=e[n];for(let n=156;n<512;n++)t+=e[n];return t}function b(e,t){return(e=e.toString(8)).length>t?s.slice(0,t)+" ":r.slice(0,t-e.length)+e+" "}function m(e,t,n){if(128&(e=e.subarray(t,t+n))[t=0])return function(e){let t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}const n=[];let f;for(f=e.length-1;f>0;f--){const r=e[f];t?n.push(r):n.push(255-r)}let r=0;const s=n.length;for(f=0;f<s;f++)r+=n[f]*Math.pow(256,f);return t?r:-1*r}(e);{for(;t<e.length&&32===e[t];)t++;const n=(r=h(e,32,t,e.length),s=e.length,a=e.length,"number"!=typeof r?a:(r=~~r)>=s?s:r>=0||(r+=s)>=0?r:0);for(;t<n&&0===e[t];)t++;return n===t?0:parseInt(f.toString(e.subarray(t,n)),8)}var r,s,a}function g(e,t,n,r){return f.toString(e.subarray(t,h(e,0,t,t+n)),r)}function y(e){const t=f.byteLength(e);let n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e}n.decodeLongPath=function(e,t){return g(e,0,e.length,t)},n.encodePax=function(e){let t="";e.name&&(t+=y(" path="+e.name+"\n")),e.linkname&&(t+=y(" linkpath="+e.linkname+"\n"));const n=e.pax;if(n)for(const e in n)t+=y(" "+e+"="+n[e]+"\n");return f.from(t)},n.decodePax=function(e){const t={};for(;e.length;){let n=0;for(;n<e.length&&32!==e[n];)n++;const r=parseInt(f.toString(e.subarray(0,n)),10);if(!r)return t;const s=f.toString(e.subarray(n+1,r-1)),a=s.indexOf("=");if(-1===a)return t;t[s.slice(0,a)]=s.slice(a+1),e=e.subarray(r)}return t},n.encode=function(e){const t=f.alloc(512);let n=e.name,r="";if(5===e.typeflag&&"/"!==n[n.length-1]&&(n+="/"),f.byteLength(n)!==n.length)return null;for(;f.byteLength(n)>100;){const e=n.indexOf("/");if(-1===e)return null;r+=r?"/"+n.slice(0,e):n.slice(0,e),n=n.slice(e+1)}return f.byteLength(n)>100||f.byteLength(r)>155||e.linkname&&f.byteLength(e.linkname)>100?null:(f.write(t,n),f.write(t,b(4095&e.mode,6),100),f.write(t,b(e.uid,6),108),f.write(t,b(e.gid,6),116),function(e,t,n){e.toString(8).length>11?function(e,t,n){t[n]=128;for(let f=11;f>0;f--)t[n+f]=255&e,e=Math.floor(e/256)}(e,t,n):f.write(t,b(e,11),n)}(e.size,t,124),f.write(t,b(e.mtime.getTime()/1e3|0,11),136),t[156]=a+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&f.write(t,e.linkname,157),f.copy(i,t,u),f.copy(o,t,263),e.uname&&f.write(t,e.uname,265),e.gname&&f.write(t,e.gname,297),f.write(t,b(e.devmajor||0,6),329),f.write(t,b(e.devminor||0,6),337),r&&f.write(t,r,345),f.write(t,b(p(t),6),148),t)},n.decode=function(e,t,n){let r=0===e[156]?0:e[156]-a,s=g(e,0,100,t);const o=m(e,100,8),h=m(e,108,8),b=m(e,116,8),y=m(e,124,12),v=m(e,136,12),w=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(r),k=0===e[157]?null:g(e,157,100,t),S=g(e,265,32),E=g(e,297,32),T=m(e,329,8),_=m(e,337,8),C=p(e);if(256===C)return null;if(C!==m(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(function(e){return f.equals(i,e.subarray(u,263))}(e))e[345]&&(s=g(e,345,155,t)+"/"+s);else if(function(e){return f.equals(c,e.subarray(u,263))&&f.equals(l,e.subarray(d,265))}(e));else if(!n)throw new Error("Invalid tar header: unknown format.");return 0===r&&s&&"/"===s[s.length-1]&&(r=5),{name:s,mode:o,uid:h,gid:b,size:y,mtime:new Date(1e3*v),type:w,linkname:k,uname:S,gname:E,devmajor:T,devminor:_,pax:null}}}}},{package:"@metamask/snaps-controllers>tar-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/tar-stream/headers.js"}],[2279,{"./extract":2277,"./pack":2280},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){n.extract=e("./extract"),n.pack=e("./pack")}}},{package:"@metamask/snaps-controllers>tar-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/tar-stream/index.js"}],[228,{"@metamask/utils":2620,lodash:4111,loglevel:4117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if(!(0,s.hasProperty)(e,"PhishingController"))return a.default.warn("typeof state.PhishingController is undefined"),e;if(!(0,s.isObject)(e.PhishingController)){var t,n;return null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("typeof state.PhishingController is "+typeof e.PhishingController)),e}if(!(0,s.hasProperty)(e.PhishingController,"listState"))return a.default.warn("typeof state.PhishingController.listState is "+typeof e.PhishingController),e;return delete e.PhishingController.listState,e}(t.data),t},n.version=void 0;var f,r=e("lodash"),s=e("@metamask/utils"),a=(f=e("loglevel"))&&f.__esModule?f:{default:f};const i=n.version=90}}},{package:"$root$",file:"app/scripts/migrations/090.ts"}],[2280,{"./constants":2276,"./headers":2278,b4a:3331,streamx:4839},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Readable:f,Writable:r,getStreamError:s}=e("streamx"),a=e("b4a"),i=e("./constants"),o=e("./headers"),c=a.alloc(1024);class l extends r{constructor(e,t,n){super({mapWritable:p,eagerOpen:!0}),this.written=0,this.header=t,this._callback=n,this._linkname=null,this._isLinkname="symlink"===t.type&&!t.linkname,this._isVoid="file"!==t.type&&"contiguous-file"!==t.type,this._finished=!1,this._pack=e,this._openCallback=null,null===this._pack._stream?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(null===this._callback)return;const t=this._callback;this._callback=null,t(e)}_continueOpen(){null===this._pack._stream&&(this._pack._stream=this);const e=this._openCallback;if(this._openCallback=null,null!==e){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,t){return this._isLinkname?(this._linkname=this._linkname?a.concat([this._linkname,e]):e,t(null)):this._isVoid?e.byteLength>0?t(new Error("No body allowed for this entry")):t():(this.written+=e.byteLength,this._pack.push(e)?t():void(this._pack._drain=t))}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?a.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),h(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return s(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}}class u extends f{constructor(e){super(e),this._drain=d,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,t,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");"function"==typeof t&&(n=t,t=null),n||(n=d),e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&i.S_IFMT){case i.S_IFBLK:return"block-device";case i.S_IFCHR:return"character-device";case i.S_IFDIR:return"directory";case i.S_IFIFO:return"fifo";case i.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?493:420),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=a.from(t));const f=new l(this,e,n);return a.isBuffer(t)?(e.size=t.byteLength,f.write(t),f.end(),f):(f._isVoid,f)}finalize(){this._stream||this._pending.length>0?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(c),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){const t=o.encode(e);if(t)return void this.push(t)}this._encodePax(e)}_encodePax(e){const t=o.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(o.encode(n)),this.push(t),h(this,t.byteLength),n.size=e.size,n.type=e.type,this.push(o.encode(n))}_doDrain(){const e=this._drain;this._drain=d,e()}_predestroy(){const e=s(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){const t=this._pending.shift();t.destroy(e),t._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}}function d(){}function h(e,t){(t&=511)&&e.push(c.subarray(0,512-t))}function p(e){return a.isBuffer(e)?e:a.from(e)}t.exports=function(e){return new u(e)}}}},{package:"@metamask/snaps-controllers>tar-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/tar-stream/pack.js"}],[2285,{"./verify":2286,"@metamask/superstruct":2494,"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.SnapsRegistryDatabaseStruct=n.BlockedSnapStruct=n.BlockReasonStruct=n.VerifiedSnapStruct=n.ImagePathStruct=n.AdditionalSourceCodeStruct=n.SupportStruct=n.AuditStruct=n.AuthorStruct=void 0;const s=e("@metamask/superstruct"),a=e("@metamask/utils"),i=(0,s.refine)((0,s.string)(),"Npm ID",(e=>e.startsWith("npm:"))),o=(0,s.object)({checksum:a.ChecksumStruct});n.AuthorStruct=(0,s.object)({name:(0,s.string)(),website:(0,s.string)()}),n.AuditStruct=(0,s.object)({auditor:(0,s.string)(),report:(0,s.string)()}),n.SupportStruct=(0,s.object)({knowledgeBase:(0,s.optional)((0,s.string)()),faq:(0,s.optional)((0,s.string)()),contact:(0,s.optional)((0,s.string)()),keyRecovery:(0,s.optional)((0,s.string)())}),n.AdditionalSourceCodeStruct=(0,s.object)({name:(0,s.string)(),url:(0,s.string)()}),n.ImagePathStruct=(0,s.pattern)((0,s.string)(),/\.\/images\/.*\/\d+\.(?:png|jpe?g)$/u),n.VerifiedSnapStruct=(0,s.object)({id:i,metadata:(0,s.object)({name:(0,s.string)(),type:(0,s.optional)((0,s.enums)(["account"])),author:(0,s.optional)(n.AuthorStruct),website:(0,s.optional)((0,s.string)()),onboard:(0,s.optional)((0,s.boolean)()),summary:(0,s.optional)((0,s.string)()),description:(0,s.optional)((0,s.string)()),audits:(0,s.optional)((0,s.array)(n.AuditStruct)),category:(0,s.optional)((0,s.enums)(["interoperability","notifications","transaction insights","account management","name resolution"])),tags:(0,s.optional)((0,s.array)((0,s.string)())),support:(0,s.optional)(n.SupportStruct),sourceCode:(0,s.optional)((0,s.string)()),hidden:(0,s.optional)((0,s.boolean)()),privateCode:(0,s.optional)((0,s.boolean)()),privacyPolicy:(0,s.optional)((0,s.string)()),termsOfUse:(0,s.optional)((0,s.string)()),additionalSourceCode:(0,s.optional)((0,s.array)(n.AdditionalSourceCodeStruct)),screenshots:(0,s.optional)((0,s.size)((0,s.array)(n.ImagePathStruct),3,3))}),versions:(0,s.record)(a.VersionStruct,o)}),n.BlockReasonStruct=(0,s.object)({explanation:(0,s.optional)((0,s.string)()),url:(0,s.optional)((0,s.string)())}),n.BlockedSnapStruct=(0,s.union)([(0,s.object)({id:i,versionRange:a.VersionRangeStruct,reason:(0,s.optional)(n.BlockReasonStruct)}),(0,s.object)({checksum:a.ChecksumStruct,reason:(0,s.optional)(n.BlockReasonStruct)})]),n.SnapsRegistryDatabaseStruct=(0,s.object)({verifiedSnaps:(0,s.record)(i,n.VerifiedSnapStruct),blockedSnaps:(0,s.array)(n.BlockedSnapStruct)}),r(e("./verify"),n)}}},{package:"@metamask/snaps-utils>@metamask/snaps-registry",file:"node_modules/@metamask/snaps-registry/dist/index.js"}],[2286,{"@metamask/superstruct":2494,"@metamask/utils":2620,"@noble/curves/secp256k1":2668,"@noble/hashes/sha256":2677},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.verify=n.SignatureStruct=void 0;const f=e("@metamask/superstruct"),r=e("@metamask/utils"),s=e("@noble/curves/secp256k1"),a=e("@noble/hashes/sha256");n.SignatureStruct=(0,f.object)({signature:r.StrictHexStruct,curve:(0,f.literal)("secp256k1"),format:(0,f.literal)("DER")}),n.verify=function({registry:e,signature:t,publicKey:f}){(0,r.assertStruct)(t,n.SignatureStruct,"Invalid signature object");const i=(0,r.hexToBytes)(f);return s.secp256k1.verify((0,r.remove0x)(t.signature),(0,a.sha256)((0,r.stringToBytes)(e)),i)}}}},{package:"@metamask/snaps-utils>@metamask/snaps-registry",file:"node_modules/@metamask/snaps-registry/dist/verify.js"}],[229,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,t.data=function(e){if((0,f.hasProperty)(e,"NetworkController")&&(0,f.isObject)(e.NetworkController)&&(0,f.hasProperty)(e.NetworkController,"networkConfigurations")&&(0,f.isObject)(e.NetworkController.networkConfigurations)){const{networkConfigurations:t}=e.NetworkController;for(const[e,n]of Object.entries(t))(0,f.isObject)(n)&&(n.chainId||delete t[e]);return e.NetworkController={...e.NetworkController,networkConfigurations:t},{...e,NetworkController:e.NetworkController}}var t,n;if((0,f.isObject)(e.NetworkController)){if(!(0,f.isObject)(e.NetworkController.networkConfigurations)){var r,s;null===(r=global.sentry)||void 0===r||null===(s=r.captureException)||void 0===s||s.call(r,new Error("typeof state.NetworkController.networkConfigurations is "+typeof e.NetworkController.networkConfigurations))}}else null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=91}}},{package:"$root$",file:"app/scripts/migrations/091.ts"}],[23,{"../../../development/build/constants":294,"../../../shared/constants/alarms":4974,"../../../shared/constants/app":4977,"../../../shared/constants/metametrics":4989,"../../../shared/constants/time":5005,"../../../shared/constants/transaction":5007,"../../../shared/modules/mv3.utils":5039,"../lib/util":134,"@metamask/base-controller":1349,"@metamask/name-controller":1855,"@metamask/utils":2620,buffer:3392,"ethereumjs-util":3608,lodash:4111,uuid:4904},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.overrideAnonymousEventNames=n.getDefaultMetaMetricsControllerState=n.default=void 0;var f=e("lodash"),r=e("ethereumjs-util"),s=e("uuid"),a=e("@metamask/name-controller"),i=e("@metamask/utils"),o=e("@metamask/base-controller"),c=e("../../../shared/constants/app"),l=e("../../../shared/constants/metametrics"),u=e("../../../shared/constants/time"),d=e("../../../shared/modules/mv3.utils"),h=e("../../../shared/constants/alarms"),p=e("../lib/util"),b=e("../../../shared/constants/transaction"),m=e("../../../development/build/constants");function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var f=n.call(e,t||"default");if("object"!=typeof f)return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n){v(e,t),t.set(e,n)}function v(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(e,t){return e.get(S(e,t))}function k(e,t,n){return e.set(S(e,t),n),n}function S(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const E=n.overrideAnonymousEventNames={[b.TransactionMetaMetricsEvent.added]:b.AnonymousTransactionMetaMetricsEvent.added,[b.TransactionMetaMetricsEvent.approved]:b.AnonymousTransactionMetaMetricsEvent.approved,[b.TransactionMetaMetricsEvent.finalized]:b.AnonymousTransactionMetaMetricsEvent.finalized,[b.TransactionMetaMetricsEvent.rejected]:b.AnonymousTransactionMetaMetricsEvent.rejected,[b.TransactionMetaMetricsEvent.submitted]:b.AnonymousTransactionMetaMetricsEvent.submitted,[l.MetaMetricsEventName.SignatureRequested]:l.MetaMetricsEventName.SignatureRequestedAnon,[l.MetaMetricsEventName.SignatureApproved]:l.MetaMetricsEventName.SignatureApprovedAnon,[l.MetaMetricsEventName.SignatureRejected]:l.MetaMetricsEventName.SignatureRejectedAnon},T=e=>{setTimeout((()=>{throw e}))},_=e=>{const t=[];return e.uniqueIdentifier&&t.push(e.uniqueIdentifier),e.actionId&&t.push(e.actionId),t.length&&e.isDuplicateAnonymizedEvent&&t.push("0x000"),t.length?t.join("-"):(0,p.generateRandomId)()},C={'You must pass either an "anonymousId" or a "userId".':!0},P={metaMetricsId:{persist:!0,anonymous:!0},participateInMetaMetrics:{persist:!0,anonymous:!0},latestNonAnonymousEventTimestamp:{persist:!0,anonymous:!0},fragments:{persist:!0,anonymous:!1},eventsBeforeMetricsOptIn:{persist:!0,anonymous:!1},traits:{persist:!0,anonymous:!1},previousUserTraits:{persist:!0,anonymous:!1},dataCollectionForMarketing:{persist:!0,anonymous:!1},marketingCampaignCookieId:{persist:!0,anonymous:!0},segmentApiCalls:{persist:!0,anonymous:!1}},I=()=>({participateInMetaMetrics:null,metaMetricsId:null,dataCollectionForMarketing:null,marketingCampaignCookieId:null,latestNonAnonymousEventTimestamp:0,eventsBeforeMetricsOptIn:[],traits:{},previousUserTraits:{},fragments:{},segmentApiCalls:{}});n.getDefaultMetaMetricsControllerState=I;var O=new WeakMap,A=new WeakMap,j=new WeakMap,x=new WeakMap,N=new WeakSet,M=new WeakMap;class R extends o.BaseController{constructor({state:e={},messenger:t,segment:n,version:r,environment:s,extension:a,captureException:o=T}){var c,l;super({name:"MetaMetricsController",metadata:P,state:{participateInMetaMetrics:null,metaMetricsId:null,dataCollectionForMarketing:null,marketingCampaignCookieId:null,latestNonAnonymousEventTimestamp:0,eventsBeforeMetricsOptIn:[],traits:{},previousUserTraits:{},fragments:{},segmentApiCalls:{},...e},messenger:t}),v(c=this,l=N),l.add(c),y(this,O,void 0),g(this,"chainId",void 0),g(this,"locale",void 0),g(this,"version",void 0),y(this,A,void 0),y(this,j,void 0),y(this,x,void 0),y(this,M,(0,f.memoize)(((e={})=>Object.values(e).reduce(((e,t)=>e.concat(...Object.values(t))),[])))),k(O,this,(e=>{const t=(0,i.getErrorMessage)(e);C[t]||o(e)})),this.chainId=S(N,this,D).call(this);const b=this.messagingSystem.call("PreferencesController:getState");this.locale=b.currentLocale.replace("_","-"),this.version="production"===s?r:`${r}-${s}`,k(A,this,a),k(j,this,s);const m=(0,f.omitBy)(e.fragments,"persist");this.messagingSystem.subscribe("PreferencesController:stateChange",(({currentLocale:e})=>{this.locale=null==e?void 0:e.replace("_","-")})),this.messagingSystem.subscribe("NetworkController:networkDidChange",(({selectedNetworkClientId:e})=>{this.chainId=S(N,this,D).call(this,e)})),k(x,this,n),Object.values(m).forEach((e=>{this.processAbandonedFragment(e)})),d.isManifestV3&&Object.values(e.segmentApiCalls||{}).forEach((({eventType:e,payload:t})=>{try{S(N,this,K).call(this,e,t)}catch(e){w(O,this).call(this,e)}})),d.isManifestV3?(w(A,this).alarms.getAll().then((e=>{(0,p.checkAlarmExists)(e,h.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM)||w(A,this).alarms.create(h.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM,{delayInMinutes:1,periodInMinutes:1})})),w(A,this).alarms.onAlarm.addListener((e=>{e.name===h.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM&&this.finalizeAbandonedFragments()}))):setInterval((()=>{this.finalizeAbandonedFragments()}),30*u.SECOND)}finalizeAbandonedFragments(){Object.values(this.state.fragments).forEach((e=>{e.timeout&&e.lastUpdated&&Date.now()-e.lastUpdated/1e3>e.timeout&&this.processAbandonedFragment(e)}))}generateMetaMetricsId(){return(0,r.bufferToHex)((0,r.keccak)(t.from(String(Date.now())+String(Math.round(Math.random()*Number.MAX_SAFE_INTEGER)))))}createEventFragment(e){if(!e.successEvent||!e.category)throw new Error(`Must specify success event and category. Success event was: ${e.event}. Category was: ${e.category}. Payload keys were: ${Object.keys(e)}. ${"object"==typeof e.properties?`Payload property keys were: ${Object.keys(e.properties)}`:""}`);const{fragments:t}=this.state,n=e.uniqueIdentifier??(0,s.v4)(),r={id:n,...e,lastUpdated:Date.now()},a=e.initialEvent===b.TransactionMetaMetricsEvent.submitted&&t[n]?{...t[n],canDeleteIfAbandoned:!1}:{};return this.update((e=>{e.fragments[n]=(0,f.merge)(a,r)})),r.initialEvent&&this.trackEvent({event:r.initialEvent,category:r.category,properties:r.properties,sensitiveProperties:r.sensitiveProperties,page:r.page,referrer:r.referrer,revenue:r.revenue,value:r.value,currency:r.currency,environmentType:r.environmentType,actionId:e.actionId,uniqueIdentifier:e.uniqueIdentifier}),r}getEventFragmentById(e){return this.state.fragments[e]}processAbandonedFragment(e){e.canDeleteIfAbandoned?this.deleteEventFragment(e.id):this.finalizeEventFragment(e.id,{abandoned:!0})}updateEventFragment(e,t){const{fragments:n}=this.state,r=n[e];if(!r&&e.includes("transaction-submitted-"))this.update((n=>{n.fragments[e]={canDeleteIfAbandoned:!0,category:l.MetaMetricsEventCategory.Transactions,successEvent:b.TransactionMetaMetricsEvent.finalized,id:e,...t,lastUpdated:Date.now()}}));else{if(!r)throw new Error(`Event fragment with id ${e} does not exist.`);this.update((n=>{n.fragments[e]=(0,f.merge)(n.fragments[e],{...t,lastUpdated:Date.now()})}))}}deleteEventFragment(e){this.state.fragments[e]&&this.update((t=>{delete t.fragments[e]}))}finalizeEventFragment(e,{abandoned:t=!1,page:n,referrer:f}={}){const r=this.state.fragments[e];if(!r)throw new Error(`Funnel with id ${e} does not exist.`);const s=t?r.failureEvent:r.successEvent;this.trackEvent({event:s??"",category:r.category,properties:r.properties,sensitiveProperties:r.sensitiveProperties,page:n??r.page,referrer:r.referrer??f,revenue:r.revenue,value:r.value,currency:r.currency,environmentType:r.environmentType,actionId:r.actionId,uniqueIdentifier:r.uniqueIdentifier?`${r.uniqueIdentifier}-${t?"failure":"success"}`:undefined}),this.update((t=>{delete t.fragments[e]}))}identify(e){const{metaMetricsId:t,participateInMetaMetrics:n}=this.state;if(!n||!t||!e)return;if("object"!=typeof e)return void console.warn("MetaMetricsController#identify: userTraits parameter must be an object. Received type: "+typeof e);const f=S(N,this,H).call(this,e);S(N,this,q).call(this,f)}updateExtensionUninstallUrl(e,n){const f={};e&&(f.mmi=t.from(n).toString("base64"),f.env=w(j,this),f.av=this.version);const r=new URLSearchParams(f);w(A,this)&&w(A,this).runtime&&w(A,this).runtime.setUninstallURL(`https://metamask.io/uninstalled?${r}`)}async setParticipateInMetaMetrics(e){const{metaMetricsId:t}=this.state,n=e&&!t?this.generateMetaMetricsId():t;return this.update((t=>{t.participateInMetaMetrics=e,t.metaMetricsId=n})),e?(this.trackEventsAfterMetricsOptIn(),this.clearEventsAfterMetricsOptIn()):this.state.marketingCampaignCookieId&&this.setMarketingCampaignCookieId(null),w(j,this)!==m.ENVIRONMENT.DEVELOPMENT&&null!==n&&this.updateExtensionUninstallUrl(e,n),n}setDataCollectionForMarketing(e){const{metaMetricsId:t}=this.state;return this.update((t=>{t.dataCollectionForMarketing=e})),!e&&this.state.marketingCampaignCookieId&&this.setMarketingCampaignCookieId(null),t}setMarketingCampaignCookieId(e){this.update((t=>{t.marketingCampaignCookieId=e}))}trackPage(e,t){try{if(!1===this.state.participateInMetaMetrics)return;if(null===this.state.participateInMetaMetrics&&(null==t||!t.isOptInPath))return;const{name:n,params:f,environmentType:r,page:s,referrer:a,actionId:i}=e,{metaMetricsId:o}=this.state,c=o?"userId":"anonymousId",u=o??l.METAMETRICS_ANONYMOUS_ID;S(N,this,K).call(this,"page",{messageId:_({actionId:i}),[c]:u,name:n,properties:{params:f,locale:this.locale,chain_id:this.chainId,environment_type:r},context:S(N,this,U).call(this,a,s)})}catch(e){w(O,this).call(this,e)}}trackEvent(e,t){S(N,this,B).call(this,e),S(N,this,L).call(this,e,t).catch((e=>{w(O,this).call(this,e)}))}handleMetaMaskStateUpdate(e){const t=this._buildUserTraitsObject(e);t&&this.identify(t)}trackEventsAfterMetricsOptIn(){const{eventsBeforeMetricsOptIn:e}=this.state;e.forEach((e=>{this.trackEvent(e)}))}clearEventsAfterMetricsOptIn(){this.update((e=>{e.eventsBeforeMetricsOptIn=[]}))}addEventBeforeMetricsOptIn(e){this.update((t=>{t.eventsBeforeMetricsOptIn.push(e)}))}updateTraits(e){this.update((t=>{t.traits={...t.traits,...e}}))}getMetaMetricsId(){let{metaMetricsId:e}=this.state;return e||(e=this.generateMetaMetricsId(),this.update((t=>{t.metaMetricsId=e}))),e}_buildUserTraitsObject(e){var t;const{traits:n,previousUserTraits:r}=this.state,s={[l.MetaMetricsUserTrait.AddressBookEntries]:(0,f.sum)(Object.values(e.addressBook).map(f.size)),[l.MetaMetricsUserTrait.InstallDateExt]:n[l.MetaMetricsUserTrait.InstallDateExt]||"",[l.MetaMetricsUserTrait.LedgerConnectionType]:e.ledgerTransportType,[l.MetaMetricsUserTrait.NetworksAdded]:Object.values(e.networkConfigurationsByChainId).map((e=>e.chainId)),[l.MetaMetricsUserTrait.NetworksWithoutTicker]:Object.values(e.networkConfigurationsByChainId).filter((({nativeCurrency:e})=>!e)).map((({chainId:e})=>e)),[l.MetaMetricsUserTrait.NftAutodetectionEnabled]:e.useNftDetection,[l.MetaMetricsUserTrait.NumberOfAccounts]:Object.values(e.internalAccounts.accounts).length,[l.MetaMetricsUserTrait.NumberOfNftCollections]:S(N,this,$).call(this,e.allNfts),[l.MetaMetricsUserTrait.NumberOfNfts]:w(M,this).call(this,e.allNfts).length,[l.MetaMetricsUserTrait.NumberOfTokens]:S(N,this,G).call(this,e.allTokens),[l.MetaMetricsUserTrait.OpenSeaApiEnabled]:e.openSeaEnabled,[l.MetaMetricsUserTrait.ThreeBoxEnabled]:!1,[l.MetaMetricsUserTrait.Theme]:e.theme||"default",[l.MetaMetricsUserTrait.TokenDetectionEnabled]:e.useTokenDetection,[l.MetaMetricsUserTrait.ShowNativeTokenAsMainBalance]:e.ShowNativeTokenAsMainBalance,[l.MetaMetricsUserTrait.CurrentCurrency]:e.currentCurrency,[l.MetaMetricsUserTrait.SecurityProviders]:e.securityAlertsEnabled?["blockaid"]:[],[l.MetaMetricsUserTrait.PetnameAddressCount]:S(N,this,J).call(this,e),[l.MetaMetricsUserTrait.IsMetricsOptedIn]:e.participateInMetaMetrics,[l.MetaMetricsUserTrait.HasMarketingConsent]:e.dataCollectionForMarketing,[l.MetaMetricsUserTrait.TokenSortPreference]:(null===(t=e.tokenSortConfig)||void 0===t?void 0:t.key)||"",[l.MetaMetricsUserTrait.PrivacyModeEnabled]:e.preferences.privacyMode,[l.MetaMetricsUserTrait.NetworkFilterPreference]:Object.keys(e.preferences.tokenNetworkFilter||{})};if(!r)return this.update((e=>{e.previousUserTraits=s})),s;if(r&&!(0,f.isEqual)(r,s)){const e=(0,f.pickBy)(s,((e,t)=>{const n=r[t];return!(0,f.isEqual)(n,e)}));return this.update((e=>{e.previousUserTraits=s})),e}return null}}function D(e){const t=e||this.messagingSystem.call("NetworkController:getState").selectedNetworkClientId,{configuration:{chainId:n}}=this.messagingSystem.call("NetworkController:getNetworkClientById",t);return n}async function L(e,t){if(!(this.state.participateInMetaMetrics||null!=t&&t.isOptIn))return;const n=[];if(e.sensitiveProperties){if(!0===(null==t?void 0:t.excludeMetaMetricsId))throw new Error("sensitiveProperties was specified in an event payload that also set the excludeMetaMetricsId flag");const r=E[`${e.event}`],s={...e,event:r??e.event},a=(0,f.merge)({...s.sensitiveProperties},{...s.properties});n.push(S(N,this,Y).call(this,S(N,this,F).call(this,{...s,properties:a,isDuplicateAnonymizedEvent:!0}),{...t,excludeMetaMetricsId:!0}))}n.push(S(N,this,Y).call(this,S(N,this,F).call(this,e),t)),await Promise.all(n)}function B(e){if(!e.event||!e.category)throw new Error(`Must specify event and category. Event was: ${e.event}. Category was: ${e.category}. Payload keys were: ${Object.keys(e)}. ${"object"==typeof e.properties?`Payload property keys were: ${Object.keys(e.properties)}`:""}`)}function U(e,t=l.METAMETRICS_BACKGROUND_PAGE_OBJECT){return{app:{name:"MetaMask Extension",version:this.version},userAgent:window.navigator.userAgent,page:t,referrer:e,marketingCampaignCookieId:this.state.marketingCampaignCookieId}}function F(e){const{event:t,properties:n,revenue:r,value:s,currency:a,category:i,page:o,referrer:l,environmentType:u=c.ENVIRONMENT_TYPE_BACKGROUND}=e;return{event:t,messageId:_(e),properties:{...(0,f.omit)(n,["revenue","locale","currency","value"]),revenue:r,value:s,currency:a,category:i,locale:this.locale,chain_id:n&&"chain_id"in n&&"string"==typeof n.chain_id?n.chain_id:this.chainId,environment_type:u},context:S(N,this,U).call(this,l,o)}}function H(e){return Object.entries(e).reduce(((e,[t,n])=>S(N,this,W).call(this,n)?{...e,[t]:n.toISOString()}:S(N,this,V).call(this,n)?{...e,[t]:n}:(console.warn(`MetaMetricsController: "${t}" value is not a valid trait type`),e)),{})}function $(e={}){const t=w(M,this).call(this,e).map((e=>e.address));return new Set(t).size}function G(e){return Object.values(e).reduce(((e,t)=>e+(0,f.sum)(Object.values(t).map(f.size))),0)}function q(e){const{metaMetricsId:t}=this.state;if(e&&0!==Object.keys(e).length)try{S(N,this,K).call(this,"identify",{userId:t??undefined,traits:e})}catch(e){w(O,this).call(this,e)}else console.warn("MetaMetricsController#_identify: No userTraits found")}function V(e){const t=typeof e;return"string"===t||"boolean"===t||"number"===t||S(N,this,z).call(this,e)||S(N,this,W).call(this,e)}function z(e){return Array.isArray(e)&&(e.every((e=>"string"==typeof e))||e.every((e=>"boolean"==typeof e))||e.every((e=>"number"==typeof e)))}function W(e){return"[object Date]"===Object.prototype.toString.call(e)}function Y(e,t){const{isOptIn:n,metaMetricsId:f,matomoEvent:r,flushImmediately:s}=t||{};let a="userId",o=this.state.metaMetricsId,c=(null==t?void 0:t.excludeMetaMetricsId)??!1;const u=Boolean(e.event.match(/^send|^confirm/iu));return!1!==(null==t?void 0:t.excludeMetaMetricsId)&&u&&(c=!0),c||n&&!f?(a="anonymousId",o=l.METAMETRICS_ANONYMOUS_ID):n&&f&&(o=f),e[a]=o??undefined,!0===r&&(e.properties.legacy_event=!0),new Promise(((t,n)=>{S(N,this,K).call(this,"track",e,(e=>{if(e){const t=(0,i.isErrorWithMessage)(e)?e.message:"",f=(0,i.isErrorWithStack)(e)?e.stack:undefined,r=new Error(t);return f&&(r.stack=f),n(r)}return t()})),s&&w(x,this).flush()}))}function K(e,t,n){const{metaMetricsId:f,participateInMetaMetrics:r,latestNonAnonymousEventTimestamp:s}=this.state;if(!r||!f)return;const a=t.messageId||(0,p.generateRandomId)();let i=new Date;if(t.timestamp){const e=new Date(t.timestamp);(0,p.isValidDate)(e)&&(i=e)}const o={...t,messageId:a,timestamp:i};this.update((t=>{t.latestNonAnonymousEventTimestamp=o.anonymousId===l.METAMETRICS_ANONYMOUS_ID?s:i.valueOf(),t.segmentApiCalls[a]={eventType:e,payload:{...o,timestamp:o.timestamp.toString()}}}));w(x,this)[e](o,(e=>(this.update((e=>{delete e.segmentApiCalls[a]})),null==n?void 0:n(e))))}function J(e){var t;const n=(null===(t=e.names)||void 0===t?void 0:t[a.NameType.ETHEREUM_ADDRESS])??{};return Object.keys(n).reduce(((e,t)=>{const f=n[t];return e+Object.keys(f).reduce(((e,t)=>{var n;return e+(Boolean(null===(n=f[t].name)||void 0===n?void 0:n.length)?1:0)}),0)}),0)}n.default=R}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"app/scripts/controllers/metametrics-controller.ts"}],[230,{"@metamask/utils":2620,lodash:4111,loglevel:4117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if(!(0,s.hasProperty)(e,"TokenListController"))return a.default.warn("Skipping migration, TokenListController state is missing"),e;var t,n;if(!(0,s.isObject)(e.TokenListController))return null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("typeof state.TokenListController is "+typeof e.TokenListController)),e;if(!(0,s.hasProperty)(e.TokenListController,"tokensChainsCache"))return a.default.warn("Skipping migration, TokenListController.tokensChainsCache state is missing"),e;e.TokenListController.tokensChainsCache===undefined&&delete e.TokenListController.tokensChainsCache;return e}(t.data),t},n.version=void 0;var f,r=e("lodash"),s=e("@metamask/utils"),a=(f=e("loglevel"))&&f.__esModule?f:{default:f};const i=n.version=92.1}}},{package:"$root$",file:"app/scripts/migrations/092.1.ts"}],[231,{"@metamask/utils":2620,"@sentry/browser":2747,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=a,t.data=function(e){return function(e){const t=["networkId","networkStatus","providerConfig","networkDetails","networkConfigurations"];if(!(0,f.hasProperty)(e,"NetworkController")||!(0,s.isObject)(e.NetworkController))return(0,r.captureException)(`Migration ${a}: Invalid NetworkController state: ${typeof e.NetworkController}`),e;const n=e.NetworkController,i=(0,s.pick)(n,t);return{...e,NetworkController:i}}(e)}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("@sentry/browser"),s=e("lodash");const a=n.version=92.2}}},{package:"$root$",file:"app/scripts/migrations/092.2.ts"}],[232,{"@metamask/utils":2620,lodash:4111,loglevel:4117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=i,function(e){!function(e){if((0,r.isNullOrUndefined)(e.PreferencesController))return void a.default.warn(`Migration #${i}: preferences controller null or undefined, skipping migration`);if((0,r.hasProperty)(e,"AppStateController")&&(0,r.isObject)(e.AppStateController)&&(0,r.hasProperty)(e,"PreferencesController")&&(0,r.isObject)(e.PreferencesController)){var t;const n=null===(t=e.PreferencesController)||void 0===t?void 0:t.advancedGasFee,f=(0,r.isObject)(n)&&o(n);e.AppStateController.hadAdvancedGasFeesSetPriorToMigration92_3=f,(null===e.PreferencesController.advancedGasFee||(0,r.isObject)(e.PreferencesController.advancedGasFee)&&o(e.PreferencesController.advancedGasFee))&&(e.PreferencesController.advancedGasFee={})}else if(!1===(0,r.isObject)(e.AppStateController)){var n,f;null===(n=global.sentry)||void 0===n||null===(f=n.captureException)||void 0===f||f.call(n,new Error("typeof state.AppStateController is "+typeof e.AppStateController))}else if(!1===(0,r.isObject)(e.PreferencesController)){var s,c;null===(s=global.sentry)||void 0===s||null===(c=s.captureException)||void 0===c||c.call(s,new Error("typeof state.PreferencesController is "+typeof e.PreferencesController))}}(e)}(t.data),t},n.version=void 0;var f,r=e("@metamask/utils"),s=e("lodash"),a=(f=e("loglevel"))&&f.__esModule?f:{default:f};const i=n.version=92.3;function o(e){const t=Object.keys(e);return!(!t.includes("maxBaseFee")&&!t.includes("priorityFee"))}}}},{package:"$root$",file:"app/scripts/migrations/092.3.ts"}],[233,{"@metamask/utils":2620,lodash:4111,loglevel:4117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if((0,s.hasProperty)(e,"PhishingController")&&(0,s.isObject)(e.PhishingController))delete e.PhishingController.stalelistLastFetched,delete e.PhishingController.hotlistLastFetched;else if((0,s.hasProperty)(e,"PhishingController")){var t,n;null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("typeof state.PhishingController is "+typeof e.PhishingController))}else a.default.warn("typeof state.PhishingController is undefined");return e}(t.data),t},n.version=void 0;var f,r=e("lodash"),s=e("@metamask/utils"),a=(f=e("loglevel"))&&f.__esModule?f:{default:f};const i=n.version=92}}},{package:"$root$",file:"app/scripts/migrations/092.ts"}],[234,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,t.data=function(e){if((0,r.hasProperty)(e,"NetworkController")&&(0,r.isObject)(e.NetworkController)&&(0,r.hasProperty)(e.NetworkController,"providerConfig")&&(0,r.isObject)(e.NetworkController.providerConfig)){const{providerConfig:t}=e.NetworkController;return t.ticker?e:(e.NetworkController.providerConfig={ticker:"ETH",...t},{...e,NetworkController:e.NetworkController})}var t,n;if((0,r.isObject)(e.NetworkController)){if((0,r.isObject)(e.NetworkController)&&!(0,r.isObject)(e.NetworkController.providerConfig)){var f,s;null===(f=global.sentry)||void 0===f||null===(s=f.captureException)||void 0===s||s.call(f,new Error("typeof state.NetworkController.providerConfig is "+typeof e.NetworkController.providerConfig))}}else null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils");const s=n.version=93}}},{package:"$root$",file:"app/scripts/migrations/093.ts"}],[235,{"@metamask/controller-utils":1375,"@metamask/network-controller":1887,"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=i,t.data=function(e){if((0,r.hasProperty)(e,"NetworkController")&&(0,r.isObject)(e.NetworkController)&&(0,r.hasProperty)(e.NetworkController,"providerConfig")&&(0,r.isObject)(e.NetworkController.providerConfig)&&((0,r.hasProperty)(e.NetworkController.providerConfig,"id")||(0,r.hasProperty)(e.NetworkController.providerConfig,"type")&&e.NetworkController.providerConfig.type!==a.NetworkType.rpc)){const t=e.NetworkController.providerConfig.id||e.NetworkController.providerConfig.type;if(!t||"string"!=typeof t)return e;const n={[t]:{EIPS:{},status:s.NetworkStatus.Unknown}};if((0,r.hasProperty)(e.NetworkController,"networkDetails")&&(0,r.isObject)(e.NetworkController.networkDetails)){const{networkDetails:f}=e.NetworkController;f.EIPS&&(0,r.isObject)(f.EIPS)&&(n[t].EIPS={...f.EIPS}),delete e.NetworkController.networkDetails}return(0,r.hasProperty)(e.NetworkController,"networkStatus")&&"string"==typeof e.NetworkController.networkStatus&&(n[t].status=e.NetworkController.networkStatus,delete e.NetworkController.networkStatus),{...e,NetworkController:{...e.NetworkController,networksMetadata:n,selectedNetworkClientId:t}}}var t,n;if((0,r.isObject)(e.NetworkController)){if((0,r.isObject)(e.NetworkController)&&!(0,r.isObject)(e.NetworkController.providerConfig)){var f,i;null===(f=global.sentry)||void 0===f||null===(i=f.captureException)||void 0===i||i.call(f,new Error("typeof state.NetworkController.providerConfig is "+typeof e.NetworkController.providerConfig))}else if((0,r.isObject)(e.NetworkController)&&(0,r.isObject)(e.NetworkController.providerConfig)){var o,c;null===(o=global.sentry)||void 0===o||null===(c=o.captureException)||void 0===c||c.call(o,new Error(`typeof state.NetworkController.providerConfig.id is ${typeof e.NetworkController.providerConfig.id} and state.NetworkController.providerConfig.type is ${e.NetworkController.providerConfig.type}`))}}else null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils"),s=e("@metamask/network-controller"),a=e("@metamask/controller-utils");const i=n.version=94}}},{package:"$root$",file:"app/scripts/migrations/094.ts"}],[236,{lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=r,function(e){(function(e){var t,n;const f=(null===(t=e.IncomingTransactionsController)||void 0===t?void 0:t.incomingTransactions)||{};if(0===Object.keys(f).length)return;const r=(null===(n=e.TransactionController)||void 0===n?void 0:n.transactions)||{},s=Object.values(f).reduce(((e,t)=>(e[t.id]=t,e)),r);e.TransactionController={...e.TransactionController||{},transactions:s}})(e),function(e){var t;const n=(null===(t=e.IncomingTransactionsController)||void 0===t?void 0:t.incomingTransactions)||{};if(0===Object.keys(n).length)return;const f={};for(const e of Object.values(n)){if(!e.blockNumber||!e.chainId||!e.txParams.to)continue;const t=parseInt(e.blockNumber,10),n=`${e.chainId}#${e.txParams.to.toLowerCase()}`,r=f[n]||-1;f[n]=Math.max(r,t)}e.TransactionController={...e.TransactionController,lastFetchedBlockNumbers:f}}(e),function(e){delete e.IncomingTransactionsController}(e)}(t.data),t},n.version=void 0;var f=e("lodash");const r=n.version=95}}},{package:"$root$",file:"app/scripts/migrations/095.ts"}],[237,{"../../../shared/constants/network":4993,"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=a,function(e){if(!((0,r.hasProperty)(e,"PreferencesController")&&(0,r.isObject)(e.PreferencesController)&&(0,r.isObject)(e.NetworkController)&&(0,r.hasProperty)(e.PreferencesController,"featureFlags")&&(0,r.hasProperty)(e.NetworkController,"networkConfigurations")))return e;const{PreferencesController:t,NetworkController:n}=e,{featureFlags:a}=t,{showIncomingTransactions:i}=a,{networkConfigurations:o}=n,c=Object.values(o).map((e=>e.chainId)),l=[s.CHAIN_IDS.MAINNET,s.CHAIN_IDS.LINEA_MAINNET],u=[s.CHAIN_IDS.GOERLI,s.CHAIN_IDS.SEPOLIA,s.CHAIN_IDS.LINEA_GOERLI],d=[...l,...c,...u],h=(0,f.fromPairs)((0,f.map)(d,(e=>[e,i])));(null==a?void 0:a.showIncomingTransactions)!==undefined&&delete a.showIncomingTransactions;e.PreferencesController.incomingTransactionsPreferences=h}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils"),s=e("../../../shared/constants/network");const a=n.version=96}}},{package:"$root$",file:"app/scripts/migrations/096.ts"}],[238,{lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=r,function(e){const t=(null==e?void 0:e.TransactionController)||{},n=(null==t?void 0:t.transactions)||{};if((0,f.isEmpty)(n))return;const r=Object.keys(n).reduce(((e,t)=>{const f=n[t];return null!=f&&f.nonceDetails&&delete f.nonceDetails,{...e,[t]:f}}),{});e.TransactionController={...t,transactions:r}}(t.data),t},n.version=void 0;var f=e("lodash");const r=n.version=97}}},{package:"$root$",file:"app/scripts/migrations/097.ts"}],[239,{lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=r,function(e){const t=(null==e?void 0:e.TransactionController)||{},n=(null==t?void 0:t.transactions)||{};if((0,f.isEmpty)(n))return;const r=Object.keys(n).reduce(((e,t)=>{const f=n[t];return f.verifiedOnBlockchain=Boolean(f.txReceipt),{...e,[t]:f}}),{});e.TransactionController={...t,transactions:r}}(t.data),t},n.version=void 0;var f=e("lodash");const r=n.version=98}}},{package:"$root$",file:"app/scripts/migrations/098.ts"}],[24,{"@metamask/base-controller":1349},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MetaMetricsDataDeletionController=void 0;var f=e("@metamask/base-controller");function r(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(e,t){return e.get(a(e,t))}function a(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const i="MetaMetricsDataDeletionController",o={metaMetricsDataDeletionId:{persist:!0,anonymous:!0},metaMetricsDataDeletionTimestamp:{persist:!0,anonymous:!0},metaMetricsDataDeletionStatus:{persist:!0,anonymous:!0}};var c=new WeakMap,l=new WeakSet;class u extends f.BaseController{constructor({dataDeletionService:e,messenger:t,state:n}){var f,s;super({messenger:t,metadata:o,name:i,state:{metaMetricsDataDeletionId:null,metaMetricsDataDeletionTimestamp:0,...n}}),r(f=this,s=l),s.add(f),function(e,t,n){r(e,t),t.set(e,n)}(this,c,void 0),function(e,t,n){e.set(a(e,t),n)}(c,this,e),a(l,this,d).call(this)}async createMetaMetricsDataDeletionTask(){const{metaMetricsId:e}=this.messagingSystem.call("MetaMetricsController:getState");if(!e)throw new Error("MetaMetrics ID not found");const t=await s(c,this).createDataDeletionRegulationTask(e);this.update((e=>{e.metaMetricsDataDeletionId=t??null,e.metaMetricsDataDeletionTimestamp=Date.now()})),await this.updateDataDeletionTaskStatus()}async updateDataDeletionTaskStatus(){const e=this.state.metaMetricsDataDeletionId;if(!e)throw new Error("Delete Regulation id not found");const t=await s(c,this).fetchDeletionRegulationStatus(e);this.update((e=>{e.metaMetricsDataDeletionStatus=t??undefined}))}}function d(){this.messagingSystem.registerActionHandler(`${i}:createMetaMetricsDataDeletionTask`,this.createMetaMetricsDataDeletionTask.bind(this)),this.messagingSystem.registerActionHandler(`${i}:updateDataDeletionTaskStatus`,this.updateDataDeletionTaskStatus.bind(this))}n.MetaMetricsDataDeletionController=u}}},{package:"$root$",file:"app/scripts/controllers/metametrics-data-deletion/metametrics-data-deletion.ts"}],[240,{lodash:4111,uuid:4904},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,function(e){const t=(null==e?void 0:e.TransactionController)||{},n=(null==t?void 0:t.transactions)||{};if((0,f.isEmpty)(n))return;const s=Object.keys(n).reduce(((e,t)=>{const s=(0,f.cloneDeep)(n[t]),a=(0,r.v1)();return s.id=a,{...e,[a]:s}}),{});e.TransactionController={...t,transactions:s}}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("uuid");const s=n.version=99}}},{package:"$root$",file:"app/scripts/migrations/099.ts"}],[241,{lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=r,function(e){var t,n;const r=(null==e||null===(t=e.AddressBookController)||void 0===t?void 0:t.addressBook)??{},s=(null==e||null===(n=e.NameController)||void 0===n||null===(n=n.names)||void 0===n?void 0:n.ethereumAddress)??{};if((0,f.isEmpty)(Object.keys(r)))return;for(const e of Object.keys(r)){const t=r[e];for(const n of Object.keys(t)){var a,i;const f=t[n],r=n.toLowerCase(),o=s[r]??{};null!==(a=(o[e]??{}).name)&&void 0!==a&&a.length||null===(i=f.name)||void 0===i||!i.length||null==r||!r.length||(s[r]=o,o[e]={name:f.name,sourceId:f.isEns?"ens":null,proposedNames:{}})}}e.NameController={...e.NameController,names:{ethereumAddress:s}}}(t.data),t},n.version=void 0;var f=e("lodash");const r=n.version=100}}},{package:"$root$",file:"app/scripts/migrations/100.ts"}],[242,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){if((0,f.hasProperty)(e,"NetworkController")&&(0,f.isObject)(e.NetworkController)&&(0,f.hasProperty)(e.NetworkController,"networkId")){const t=e.NetworkController;return delete t.networkId,{...e,NetworkController:t}}var t,n;(0,f.isObject)(e.NetworkController)||null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController))}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=101}}},{package:"$root$",file:"app/scripts/migrations/101.ts"}],[243,{lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=r,function(e){const t=(null==e?void 0:e.TransactionController)||{},n=(null==t?void 0:t.transactions)||{};if((0,f.isEmpty)(n))return;const r=Object.keys(n).reduce(((e,t)=>{const r=(0,f.cloneDeep)(n[t]);return null!=r&&r.err&&(r.error=r.err,delete r.err),{...e,[t]:r}}),{});e.TransactionController={...t,transactions:r}}(t.data),t},n.version=void 0;var f=e("lodash");const r=n.version=102}}},{package:"$root$",file:"app/scripts/migrations/102.ts"}],[244,{"../../../shared/constants/hardware-wallets":4985,"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=a,t.data=function(e){if((0,f.hasProperty)(e,"PreferencesController")&&(0,f.isObject)(e.PreferencesController)&&window.navigator.userAgent.includes("Chrome")){const t=e.PreferencesController;return t.ledgerTransportType=s.LedgerTransportTypes.webhid,{...e,PreferencesController:t}}return e}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash"),s=e("../../../shared/constants/hardware-wallets");const a=n.version=103}}},{package:"$root$",file:"app/scripts/migrations/103.ts"}],[245,{lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=r,function(e){const t=null==e?void 0:e.TransactionController;if(!t)return;const n=(null==t?void 0:t.transactions)||{},f=Object.values(n).sort(((e,t)=>e.time>t.time?-1:1));e.TransactionController={...t,transactions:f}}(t.data),t},n.version=void 0;var f=e("lodash");const r=n.version=104}}},{package:"$root$",file:"app/scripts/migrations/104.ts"}],[246,{"../../../shared/constants/eth-methods":4982,"@metamask/keyring-api":1743,"ethereumjs-util":3608,lodash:4111,uuid:4904},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,a.cloneDeep)(e);return t.meta.version=o,function(e){(function(e){e.AccountsController={internalAccounts:{accounts:{},selectedAccount:""}}})(e),function(e){var t;const n=(null===(t=e.PreferencesController)||void 0===t?void 0:t.identities)||{};if(0===Object.keys(n).length)return;const a={};Object.values(n).forEach((e=>{const t=(0,s.v4)({random:(0,r.sha256FromString)(e.address).slice(0,16)});a[t]={address:e.address,id:t,options:{},metadata:{name:e.name,lastSelected:e.lastSelected??undefined,importTime:0,keyring:{type:"HD Key Tree"}},methods:i.ETH_EOA_METHODS,type:f.EthAccountType.Eoa}})),e.AccountsController.internalAccounts.accounts=a}(e),function(e){var t;let n=null===(t=e.PreferencesController)||void 0===t?void 0:t.selectedAddress;if("string"!=typeof n){var f,r;null===(f=global.sentry)||void 0===f||null===(r=f.captureException)||void 0===r||r.call(f,new Error(`state.PreferencesController?.selectedAddress is ${n}`)),n=function(e){var t;const[n]=Object.keys((null===(t=e.PreferencesController)||void 0===t?void 0:t.identities)||{});return n}(e)}const s=function(e,t){return Object.values(e.AccountsController.internalAccounts.accounts).find((e=>e.address.toLowerCase()===t.toLowerCase()))}(e,n);s&&(e.PreferencesController.selectedAddress=s.address,e.AccountsController.internalAccounts={...e.AccountsController.internalAccounts,selectedAccount:s.id})}(e)}(t.data),t},n.version=void 0;var f=e("@metamask/keyring-api"),r=e("ethereumjs-util"),s=e("uuid"),a=e("lodash"),i=e("../../../shared/constants/eth-methods");const o=n.version=105}}},{package:"$root$",file:"app/scripts/migrations/105.ts"}],[247,{lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);t.meta.version=r;const n=function(e){const t=(null==e?void 0:e.PreferencesController)||{};return{...e,PreferencesController:{...t,securityAlertsEnabled:!0!==t.transactionSecurityCheckEnabled}}}(t.data);return t.data=n,t},n.version=void 0;var f=e("lodash");const r=n.version=106}}},{package:"$root$",file:"app/scripts/migrations/106.js"}],[248,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,t.data=function(e){if(!((0,r.hasProperty)(e,"CachedBalancesController")&&(0,r.isObject)(e.CachedBalancesController)&&(0,r.hasProperty)(e.CachedBalancesController,"cachedBalances")&&(0,r.isObject)(e.CachedBalancesController.cachedBalances)&&(0,r.hasProperty)(e,"AccountTracker")&&(0,r.isObject)(e.AccountTracker)))return e;e.AccountTracker.accountsByChainId||(e.AccountTracker.accountsByChainId={});const t=e.AccountTracker,n=e.CachedBalancesController.cachedBalances;return Object.keys(n).forEach((e=>{t.accountsByChainId[e]||(t.accountsByChainId[e]={}),Object.keys(n[e]).forEach((f=>{if(t.accountsByChainId[e][f]===undefined){const r=n[e][f];t.accountsByChainId[e][f]={address:f,balance:r}}}))})),delete e.CachedBalancesController,e.AccountTracker=t,e}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils");const s=n.version=107}}},{package:"$root$",file:"app/scripts/migrations/107.ts"}],[249,{lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=r,function(e){var t,n;const r=(null==e||null===(t=e.AddressBookController)||void 0===t?void 0:t.addressBook)??{},s=(null==e||null===(n=e.NameController)||void 0===n||null===(n=n.names)||void 0===n?void 0:n.ethereumAddress)??{};if((0,f.isEmpty)(Object.keys(r)))return;for(const e of Object.keys(r)){const t=r[e];for(const n of Object.keys(t)){var a,i;const f=t[n],r=n.toLowerCase(),o=s[r]??{};null!==(a=(o[e]??{}).name)&&void 0!==a&&a.length||null===(i=f.name)||void 0===i||!i.length||null==r||!r.length||(s[r]=o,o[e]={name:f.name,sourceId:f.isEns?"ens":null,proposedNames:{}})}}e.NameController={...e.NameController,names:{ethereumAddress:s}}}(t.data),t},n.version=void 0;var f=e("lodash");const r=n.version=108}}},{package:"$root$",file:"app/scripts/migrations/108.ts"}],[25,{"../../../shared/constants/network":4993,"@metamask/base-controller":1349},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkOrderController=void 0;var f=e("@metamask/base-controller"),r=e("../../../shared/constants/network");const s={orderedNetworkList:[]},a={orderedNetworkList:{persist:!0,anonymous:!0}};class i extends f.BaseController{constructor({messenger:e,state:t}){super({messenger:e,metadata:a,name:"NetworkOrderController",state:{...s,...t}}),this.messagingSystem.subscribe("NetworkController:stateChange",(e=>{this.onNetworkControllerStateChange(e)}))}onNetworkControllerStateChange({networkConfigurationsByChainId:e}){this.update((t=>{const n=Object.keys(e).filter((e=>!r.TEST_CHAINS.includes(e))),f=n.filter((e=>!t.orderedNetworkList.some((({networkId:t})=>t===e)))).map((e=>({networkId:e})));t.orderedNetworkList=t.orderedNetworkList.filter((({networkId:e})=>n.includes(e))).concat(f)}))}updateNetworksList(e){this.update((t=>{t.orderedNetworkList=e.map((e=>({networkId:e})))}))}}n.NetworkOrderController=i}}},{package:"$root$",file:"app/scripts/controllers/network-order.ts"}],[250,{"@metamask/name-controller":1855,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,function(e){var t,n;const s=(null==e||null===(t=e.PreferencesController)||void 0===t?void 0:t.identities)??{},a=(null==e||null===(n=e.NameController)||void 0===n||null===(n=n.names)||void 0===n?void 0:n.ethereumAddress)??{};if((0,f.isEmpty)(Object.keys(s)))return;let i=!1;for(const e of Object.keys(s)){var o,c,l;const t=s[e],n=e.toLowerCase(),f=a[n]??{};!Boolean(null===(o=f[r.FALLBACK_VARIATION])||void 0===o?void 0:o.name)&&null!==(c=t.name)&&void 0!==c&&c.length&&null!==(l=t.address)&&void 0!==l&&l.length&&null!=n&&n.length&&(a[n]=f,f[r.FALLBACK_VARIATION]={name:t.name,sourceId:null,proposedNames:{},origin:r.NameOrigin.ACCOUNT_IDENTITY},i=!0)}i&&(e.NameController={...e.NameController,names:{ethereumAddress:a}})}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/name-controller");const s=n.version=109}}},{package:"$root$",file:"app/scripts/migrations/109.ts"}],[2505,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={hstBytecode:"0x6101406040523480156200001257600080fd5b506040516200323e3803806200323e83398181016040528101906200003891906200065b565b82806040518060400160405280600181526020017f310000000000000000000000000000000000000000000000000000000000000081525085848682600390816200008491906200094c565b5081600490816200009691906200094c565b5080600560006101000a81548160ff021916908360ff160217905550505050620000d5620000c9620001ce60201b60201c565b620001d660201b60201c565b60008280519060200120905060008280519060200120905060007f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f90508260e081815250508161010081815250504660a081815250506200013e8184846200029c60201b60201c565b608081815250503073ffffffffffffffffffffffffffffffffffffffff1660c08173ffffffffffffffffffffffffffffffffffffffff1681525050806101208181525050505050505050620001c433600560009054906101000a900460ff16600a620001ab919062000bb6565b86620001b8919062000c07565b620002d860201b60201c565b5050505062000dfb565b600033905090565b6000600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b60008383834630604051602001620002b995949392919062000cc3565b6040516020818303038152906040528051906020012090509392505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036200034a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620003419062000d81565b60405180910390fd5b6200035e600083836200044560201b60201c565b806002600082825462000372919062000da3565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405162000425919062000dde565b60405180910390a362000441600083836200044a60201b60201c565b5050565b505050565b505050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b620004788162000463565b81146200048457600080fd5b50565b60008151905062000498816200046d565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b620004f382620004a8565b810181811067ffffffffffffffff82111715620005155762000514620004b9565b5b80604052505050565b60006200052a6200044f565b9050620005388282620004e8565b919050565b600067ffffffffffffffff8211156200055b576200055a620004b9565b5b6200056682620004a8565b9050602081019050919050565b60005b838110156200059357808201518184015260208101905062000576565b60008484015250505050565b6000620005b6620005b0846200053d565b6200051e565b905082815260208101848484011115620005d557620005d4620004a3565b5b620005e284828562000573565b509392505050565b600082601f8301126200060257620006016200049e565b5b8151620006148482602086016200059f565b91505092915050565b600060ff82169050919050565b62000635816200061d565b81146200064157600080fd5b50565b60008151905062000655816200062a565b92915050565b6000806000806080858703121562000678576200067762000459565b5b6000620006888782880162000487565b945050602085015167ffffffffffffffff811115620006ac57620006ab6200045e565b5b620006ba87828801620005ea565b9350506040620006cd8782880162000644565b925050606085015167ffffffffffffffff811115620006f157620006f06200045e565b5b620006ff87828801620005ea565b91505092959194509250565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806200075e57607f821691505b60208210810362000774576200077362000716565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620007de7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826200079f565b620007ea86836200079f565b95508019841693508086168417925050509392505050565b6000819050919050565b60006200082d62000827620008218462000463565b62000802565b62000463565b9050919050565b6000819050919050565b62000849836200080c565b62000861620008588262000834565b848454620007ac565b825550505050565b600090565b6200087862000869565b620008858184846200083e565b505050565b5b81811015620008ad57620008a16000826200086e565b6001810190506200088b565b5050565b601f821115620008fc57620008c6816200077a565b620008d1846200078f565b81016020851015620008e1578190505b620008f9620008f0856200078f565b8301826200088a565b50505b505050565b600082821c905092915050565b6000620009216000198460080262000901565b1980831691505092915050565b60006200093c83836200090e565b9150826002028217905092915050565b62000957826200070b565b67ffffffffffffffff811115620009735762000972620004b9565b5b6200097f825462000745565b6200098c828285620008b1565b600060209050601f831160018114620009c45760008415620009af578287015190505b620009bb85826200092e565b86555062000a2b565b601f198416620009d4866200077a565b60005b82811015620009fe57848901518255600182019150602085019450602081019050620009d7565b8683101562000a1e578489015162000a1a601f8916826200090e565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60008160011c9050919050565b6000808291508390505b600185111562000ac15780860481111562000a995762000a9862000a33565b5b600185161562000aa95780820291505b808102905062000ab98562000a62565b945062000a79565b94509492505050565b60008262000adc576001905062000baf565b8162000aec576000905062000baf565b816001811462000b05576002811462000b105762000b46565b600191505062000baf565b60ff84111562000b255762000b2462000a33565b5b8360020a91508482111562000b3f5762000b3e62000a33565b5b5062000baf565b5060208310610133831016604e8410600b841016171562000b805782820a90508381111562000b7a5762000b7962000a33565b5b62000baf565b62000b8f848484600162000a6f565b9250905081840481111562000ba95762000ba862000a33565b5b81810290505b9392505050565b600062000bc38262000463565b915062000bd0836200061d565b925062000bff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff848462000aca565b905092915050565b600062000c148262000463565b915062000c218362000463565b925082820262000c318162000463565b9150828204841483151762000c4b5762000c4a62000a33565b5b5092915050565b6000819050919050565b62000c678162000c52565b82525050565b62000c788162000463565b82525050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600062000cab8262000c7e565b9050919050565b62000cbd8162000c9e565b82525050565b600060a08201905062000cda600083018862000c5c565b62000ce9602083018762000c5c565b62000cf8604083018662000c5c565b62000d07606083018562000c6d565b62000d16608083018462000cb2565b9695505050505050565b600082825260208201905092915050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b600062000d69601f8362000d20565b915062000d768262000d31565b602082019050919050565b6000602082019050818103600083015262000d9c8162000d5a565b9050919050565b600062000db08262000463565b915062000dbd8362000463565b925082820190508082111562000dd85762000dd762000a33565b5b92915050565b600060208201905062000df5600083018462000c6d565b92915050565b60805160a05160c05160e05161010051610120516123f362000e4b6000396000610ed901526000610f1b01526000610efa01526000610e2f01526000610e8501526000610eae01526123f36000f3fe608060405234801561001057600080fd5b50600436106101165760003560e01c8063715018a6116100a2578063a457c2d711610071578063a457c2d7146102e5578063a9059cbb14610315578063d505accf14610345578063dd62ed3e14610361578063f2fde38b1461039157610116565b8063715018a61461026f5780637ecebe00146102795780638da5cb5b146102a957806395d89b41146102c757610116565b8063313ce567116100e9578063313ce567146101b75780633644e515146101d557806339509351146101f357806340c10f191461022357806370a082311461023f57610116565b806306fdde031461011b578063095ea7b31461013957806318160ddd1461016957806323b872dd14610187575b600080fd5b6101236103ad565b60405161013091906115f5565b60405180910390f35b610153600480360381019061014e91906116b0565b61043f565b604051610160919061170b565b60405180910390f35b610171610462565b60405161017e9190611735565b60405180910390f35b6101a1600480360381019061019c9190611750565b61046c565b6040516101ae919061170b565b60405180910390f35b6101bf61049b565b6040516101cc91906117bf565b60405180910390f35b6101dd6104ae565b6040516101ea91906117f3565b60405180910390f35b61020d600480360381019061020891906116b0565b6104bd565b60405161021a919061170b565b60405180910390f35b61023d600480360381019061023891906116b0565b6104f4565b005b6102596004803603810190610254919061180e565b61050a565b6040516102669190611735565b60405180910390f35b610277610552565b005b610293600480360381019061028e919061180e565b610566565b6040516102a09190611735565b60405180910390f35b6102b16105b6565b6040516102be919061184a565b60405180910390f35b6102cf6105e0565b6040516102dc91906115f5565b60405180910390f35b6102ff60048036038101906102fa91906116b0565b610672565b60405161030c919061170b565b60405180910390f35b61032f600480360381019061032a91906116b0565b6106e9565b60405161033c919061170b565b60405180910390f35b61035f600480360381019061035a91906118bd565b61070c565b005b61037b6004803603810190610376919061195f565b61084e565b6040516103889190611735565b60405180910390f35b6103ab60048036038101906103a6919061180e565b6108d5565b005b6060600380546103bc906119ce565b80601f01602080910402602001604051908101604052809291908181526020018280546103e8906119ce565b80156104355780601f1061040a57610100808354040283529160200191610435565b820191906000526020600020905b81548152906001019060200180831161041857829003601f168201915b5050505050905090565b60008061044a610958565b9050610457818585610960565b600191505092915050565b6000600254905090565b600080610477610958565b9050610484858285610b29565b61048f858585610bb5565b60019150509392505050565b600560009054906101000a900460ff1681565b60006104b8610e2b565b905090565b6000806104c8610958565b90506104e98185856104da858961084e565b6104e49190611a2e565b610960565b600191505092915050565b6104fc610f45565b6105068282610fc3565b5050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b61055a610f45565b6105646000611119565b565b60006105af600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206111df565b9050919050565b6000600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6060600480546105ef906119ce565b80601f016020809104026020016040519081016040528092919081815260200182805461061b906119ce565b80156106685780601f1061063d57610100808354040283529160200191610668565b820191906000526020600020905b81548152906001019060200180831161064b57829003601f168201915b5050505050905090565b60008061067d610958565b9050600061068b828661084e565b9050838110156106d0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106c790611ad4565b60405180910390fd5b6106dd8286868403610960565b60019250505092915050565b6000806106f4610958565b9050610701818585610bb5565b600191505092915050565b8342111561074f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161074690611b40565b60405180910390fd5b60007f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c988888861077e8c6111ed565b8960405160200161079496959493929190611b60565b60405160208183030381529060405280519060200120905060006107b78261124b565b905060006107c782878787611265565b90508973ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610837576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082e90611c0d565b60405180910390fd5b6108428a8a8a610960565b50505050505050505050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b6108dd610f45565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff160361094c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161094390611c9f565b60405180910390fd5b61095581611119565b50565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036109cf576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109c690611d31565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610a3e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a3590611dc3565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92583604051610b1c9190611735565b60405180910390a3505050565b6000610b35848461084e565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114610baf5781811015610ba1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9890611e2f565b60405180910390fd5b610bae8484848403610960565b5b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610c24576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c1b90611ec1565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610c93576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c8a90611f53565b60405180910390fd5b610c9e838383611290565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610d24576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d1b90611fe5565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051610e129190611735565b60405180910390a3610e25848484611295565b50505050565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff16148015610ea757507f000000000000000000000000000000000000000000000000000000000000000046145b15610ed4577f00000000000000000000000000000000000000000000000000000000000000009050610f42565b610f3f7f00000000000000000000000000000000000000000000000000000000000000007f00000000000000000000000000000000000000000000000000000000000000007f000000000000000000000000000000000000000000000000000000000000000061129a565b90505b90565b610f4d610958565b73ffffffffffffffffffffffffffffffffffffffff16610f6b6105b6565b73ffffffffffffffffffffffffffffffffffffffff1614610fc1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fb890612051565b60405180910390fd5b565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611032576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611029906120bd565b60405180910390fd5b61103e60008383611290565b80600260008282546110509190611a2e565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516111019190611735565b60405180910390a361111560008383611295565b5050565b6000600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600081600001549050919050565b600080600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020905061123a816111df565b9150611245816112d4565b50919050565b600061125e611258610e2b565b836112ea565b9050919050565b60008060006112768787878761131d565b91509150611283816113ff565b8192505050949350505050565b505050565b505050565b600083838346306040516020016112b59594939291906120dd565b6040516020818303038152906040528051906020012090509392505050565b6001816000016000828254019250508190555050565b600082826040516020016112ff9291906121a8565b60405160208183030381529060405280519060200120905092915050565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08360001c11156113585760006003915091506113f6565b60006001878787876040516000815260200160405260405161137d94939291906121df565b6020604051602081039080840390855afa15801561139f573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036113ed576000600192509250506113f6565b80600092509250505b94509492505050565b6000600481111561141357611412612224565b5b81600481111561142657611425612224565b5b031561156257600160048111156114405761143f612224565b5b81600481111561145357611452612224565b5b03611493576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161148a9061229f565b60405180910390fd5b600260048111156114a7576114a6612224565b5b8160048111156114ba576114b9612224565b5b036114fa576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114f19061230b565b60405180910390fd5b6003600481111561150e5761150d612224565b5b81600481111561152157611520612224565b5b03611561576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115589061239d565b60405180910390fd5b5b50565b600081519050919050565b600082825260208201905092915050565b60005b8381101561159f578082015181840152602081019050611584565b60008484015250505050565b6000601f19601f8301169050919050565b60006115c782611565565b6115d18185611570565b93506115e1818560208601611581565b6115ea816115ab565b840191505092915050565b6000602082019050818103600083015261160f81846115bc565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006116478261161c565b9050919050565b6116578161163c565b811461166257600080fd5b50565b6000813590506116748161164e565b92915050565b6000819050919050565b61168d8161167a565b811461169857600080fd5b50565b6000813590506116aa81611684565b92915050565b600080604083850312156116c7576116c6611617565b5b60006116d585828601611665565b92505060206116e68582860161169b565b9150509250929050565b60008115159050919050565b611705816116f0565b82525050565b600060208201905061172060008301846116fc565b92915050565b61172f8161167a565b82525050565b600060208201905061174a6000830184611726565b92915050565b60008060006060848603121561176957611768611617565b5b600061177786828701611665565b935050602061178886828701611665565b92505060406117998682870161169b565b9150509250925092565b600060ff82169050919050565b6117b9816117a3565b82525050565b60006020820190506117d460008301846117b0565b92915050565b6000819050919050565b6117ed816117da565b82525050565b600060208201905061180860008301846117e4565b92915050565b60006020828403121561182457611823611617565b5b600061183284828501611665565b91505092915050565b6118448161163c565b82525050565b600060208201905061185f600083018461183b565b92915050565b61186e816117a3565b811461187957600080fd5b50565b60008135905061188b81611865565b92915050565b61189a816117da565b81146118a557600080fd5b50565b6000813590506118b781611891565b92915050565b600080600080600080600060e0888a0312156118dc576118db611617565b5b60006118ea8a828b01611665565b97505060206118fb8a828b01611665565b965050604061190c8a828b0161169b565b955050606061191d8a828b0161169b565b945050608061192e8a828b0161187c565b93505060a061193f8a828b016118a8565b92505060c06119508a828b016118a8565b91505092959891949750929550565b6000806040838503121561197657611975611617565b5b600061198485828601611665565b925050602061199585828601611665565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806119e657607f821691505b6020821081036119f9576119f861199f565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000611a398261167a565b9150611a448361167a565b9250828201905080821115611a5c57611a5b6119ff565b5b92915050565b7f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760008201527f207a65726f000000000000000000000000000000000000000000000000000000602082015250565b6000611abe602583611570565b9150611ac982611a62565b604082019050919050565b60006020820190508181036000830152611aed81611ab1565b9050919050565b7f45524332305065726d69743a206578706972656420646561646c696e65000000600082015250565b6000611b2a601d83611570565b9150611b3582611af4565b602082019050919050565b60006020820190508181036000830152611b5981611b1d565b9050919050565b600060c082019050611b7560008301896117e4565b611b82602083018861183b565b611b8f604083018761183b565b611b9c6060830186611726565b611ba96080830185611726565b611bb660a0830184611726565b979650505050505050565b7f45524332305065726d69743a20696e76616c6964207369676e61747572650000600082015250565b6000611bf7601e83611570565b9150611c0282611bc1565b602082019050919050565b60006020820190508181036000830152611c2681611bea565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b6000611c89602683611570565b9150611c9482611c2d565b604082019050919050565b60006020820190508181036000830152611cb881611c7c565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b6000611d1b602483611570565b9150611d2682611cbf565b604082019050919050565b60006020820190508181036000830152611d4a81611d0e565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b6000611dad602283611570565b9150611db882611d51565b604082019050919050565b60006020820190508181036000830152611ddc81611da0565b9050919050565b7f45524332303a20696e73756666696369656e7420616c6c6f77616e6365000000600082015250565b6000611e19601d83611570565b9150611e2482611de3565b602082019050919050565b60006020820190508181036000830152611e4881611e0c565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000611eab602583611570565b9150611eb682611e4f565b604082019050919050565b60006020820190508181036000830152611eda81611e9e565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b6000611f3d602383611570565b9150611f4882611ee1565b604082019050919050565b60006020820190508181036000830152611f6c81611f30565b9050919050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206260008201527f616c616e63650000000000000000000000000000000000000000000000000000602082015250565b6000611fcf602683611570565b9150611fda82611f73565b604082019050919050565b60006020820190508181036000830152611ffe81611fc2565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b600061203b602083611570565b915061204682612005565b602082019050919050565b6000602082019050818103600083015261206a8161202e565b9050919050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b60006120a7601f83611570565b91506120b282612071565b602082019050919050565b600060208201905081810360008301526120d68161209a565b9050919050565b600060a0820190506120f260008301886117e4565b6120ff60208301876117e4565b61210c60408301866117e4565b6121196060830185611726565b612126608083018461183b565b9695505050505050565b600081905092915050565b7f1901000000000000000000000000000000000000000000000000000000000000600082015250565b6000612171600283612130565b915061217c8261213b565b600282019050919050565b6000819050919050565b6121a261219d826117da565b612187565b82525050565b60006121b382612164565b91506121bf8285612191565b6020820191506121cf8284612191565b6020820191508190509392505050565b60006080820190506121f460008301876117e4565b61220160208301866117b0565b61220e60408301856117e4565b61221b60608301846117e4565b95945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f45434453413a20696e76616c6964207369676e61747572650000000000000000600082015250565b6000612289601883611570565b915061229482612253565b602082019050919050565b600060208201905081810360008301526122b88161227c565b9050919050565b7f45434453413a20696e76616c6964207369676e6174757265206c656e67746800600082015250565b60006122f5601f83611570565b9150612300826122bf565b602082019050919050565b60006020820190508181036000830152612324816122e8565b9050919050565b7f45434453413a20696e76616c6964207369676e6174757265202773272076616c60008201527f7565000000000000000000000000000000000000000000000000000000000000602082015250565b6000612387602283611570565b91506123928261232b565b604082019050919050565b600060208201905081810360008301526123b68161237a565b905091905056fea26469706673582212205e8d7bb733a28b307c6266e71d7fce8f78067e564cdf5e388464ca543c2ea25b64736f6c63430008120033",hstAbi:[{inputs:[{internalType:"uint256",name:"initialAmount",type:"uint256"},{internalType:"string",name:"tokenName",type:"string"},{internalType:"uint8",name:"decimalUnits",type:"uint8"},{internalType:"string",name:"tokenSymbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],piggybankBytecode:"0x608060405234801561001057600080fd5b5033600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000808190555061023b806100686000396000f300608060405260043610610057576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632e1a7d4d1461005c5780638da5cb5b1461009d578063d0e30db0146100f4575b600080fd5b34801561006857600080fd5b5061008760048036038101908080359060200190929190505050610112565b6040518082815260200191505060405180910390f35b3480156100a957600080fd5b506100b26101d0565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6100fc6101f6565b6040518082815260200191505060405180910390f35b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561017057600080fd5b8160008082825403925050819055503373ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f193505050501580156101c5573d6000803e3d6000fd5b506000549050919050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60003460008082825401925050819055506000549050905600a165627a7a72305820f237db3ec816a52589d82512117bc85bc08d3537683ffeff9059108caf3e5d400029",piggybankAbi:[{constant:!1,inputs:[{name:"withdrawAmount",type:"uint256"}],name:"withdraw",outputs:[{name:"remainingBal",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[{name:"",type:"uint256"}],payable:!0,stateMutability:"payable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"}],nftsAbi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"numberOfTokens",type:"uint256"}],name:"mintNFTs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],nftsBytecode:"0x60806040523480156200001157600080fd5b506040518060400160405280600c81526020017f54657374446170704e46547300000000000000000000000000000000000000008152506040518060400160405280600381526020017f54444e000000000000000000000000000000000000000000000000000000000081525081600090816200008f919062000324565b508060019081620000a1919062000324565b5050506200040b565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806200012c57607f821691505b602082108103620001425762000141620000e4565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620001ac7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826200016d565b620001b886836200016d565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b600062000205620001ff620001f984620001d0565b620001da565b620001d0565b9050919050565b6000819050919050565b6200022183620001e4565b6200023962000230826200020c565b8484546200017a565b825550505050565b600090565b6200025062000241565b6200025d81848462000216565b505050565b5b8181101562000285576200027960008262000246565b60018101905062000263565b5050565b601f821115620002d4576200029e8162000148565b620002a9846200015d565b81016020851015620002b9578190505b620002d1620002c8856200015d565b83018262000262565b50505b505050565b600082821c905092915050565b6000620002f960001984600802620002d9565b1980831691505092915050565b6000620003148383620002e6565b9150826002028217905092915050565b6200032f82620000aa565b67ffffffffffffffff8111156200034b576200034a620000b5565b5b62000357825462000113565b6200036482828562000289565b600060209050601f8311600181146200039c576000841562000387578287015190505b62000393858262000306565b86555062000403565b601f198416620003ac8662000148565b60005b82811015620003d657848901518255600182019150602085019450602081019050620003af565b86831015620003f65784890151620003f2601f891682620002e6565b8355505b6001600288020188555050505b505050505050565b612be6806200041b6000396000f3fe608060405234801561001057600080fd5b50600436106100f45760003560e01c806342842e0e11610097578063a22cb46511610066578063a22cb46514610283578063b88d4fde1461029f578063c87b56dd146102bb578063e985e9c5146102eb576100f4565b806342842e0e146101e95780636352211e1461020557806370a082311461023557806395d89b4114610265576100f4565b8063081812fc116100d3578063081812fc14610165578063095ea7b31461019557806323b872dd146101b15780633b4b1381146101cd576100f4565b80629a9b7b146100f957806301ffc9a71461011757806306fdde0314610147575b600080fd5b61010161031b565b60405161010e91906119ac565b60405180910390f35b610131600480360381019061012c9190611a33565b61032c565b60405161013e9190611a7b565b60405180910390f35b61014f61040e565b60405161015c9190611b26565b60405180910390f35b61017f600480360381019061017a9190611b74565b6104a0565b60405161018c9190611be2565b60405180910390f35b6101af60048036038101906101aa9190611c29565b6104e6565b005b6101cb60048036038101906101c69190611c69565b6105fd565b005b6101e760048036038101906101e29190611b74565b61065d565b005b61020360048036038101906101fe9190611c69565b6106ac565b005b61021f600480360381019061021a9190611b74565b6106cc565b60405161022c9190611be2565b60405180910390f35b61024f600480360381019061024a9190611cbc565b610752565b60405161025c91906119ac565b60405180910390f35b61026d610809565b60405161027a9190611b26565b60405180910390f35b61029d60048036038101906102989190611d15565b61089b565b005b6102b960048036038101906102b49190611e8a565b6108b1565b005b6102d560048036038101906102d09190611b74565b610913565b6040516102e29190611b26565b60405180910390f35b61030560048036038101906103009190611f0d565b6109ac565b6040516103129190611a7b565b60405180910390f35b60006103276006610a40565b905090565b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806103f757507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b80610407575061040682610a4e565b5b9050919050565b60606000805461041d90611f7c565b80601f016020809104026020016040519081016040528092919081815260200182805461044990611f7c565b80156104965780601f1061046b57610100808354040283529160200191610496565b820191906000526020600020905b81548152906001019060200180831161047957829003601f168201915b5050505050905090565b60006104ab82610ab8565b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b60006104f1826106cc565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610561576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105589061201f565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16610580610b03565b73ffffffffffffffffffffffffffffffffffffffff1614806105af57506105ae816105a9610b03565b6109ac565b5b6105ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105e5906120b1565b60405180910390fd5b6105f88383610b0b565b505050565b61060e610608610b03565b82610bc4565b61064d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161064490612143565b60405180910390fd5b610658838383610c59565b505050565b6000600190505b8181116106a8576106756006610f52565b60006106816006610a40565b905061069461068e610b03565b82610f68565b5080806106a090612192565b915050610664565b5050565b6106c7838383604051806020016040528060008152506108b1565b505050565b6000806106d883610f86565b9050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610749576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161074090612226565b60405180910390fd5b80915050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036107c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107b9906122b8565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b60606001805461081890611f7c565b80601f016020809104026020016040519081016040528092919081815260200182805461084490611f7c565b80156108915780601f1061086657610100808354040283529160200191610891565b820191906000526020600020905b81548152906001019060200180831161087457829003601f168201915b5050505050905090565b6108ad6108a6610b03565b8383610fc3565b5050565b6108c26108bc610b03565b83610bc4565b610901576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108f890612143565b60405180910390fd5b61090d8484848461112f565b50505050565b6060600060405180610160016040528061013c8152602001612a7561013c9139905060006109408461118b565b61094983611259565b6109528661118b565b604051602001610964939291906124b6565b6040516020818303038152906040529050600061098082611259565b604051602001610990919061255f565b6040516020818303038152906040529050809350505050919050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b600081600001549050919050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b610ac1816113d1565b610b00576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610af790612226565b60405180910390fd5b50565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16610b7e836106cc565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b600080610bd0836106cc565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161480610c125750610c1181856109ac565b5b80610c5057508373ffffffffffffffffffffffffffffffffffffffff16610c38846104a0565b73ffffffffffffffffffffffffffffffffffffffff16145b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff16610c79826106cc565b73ffffffffffffffffffffffffffffffffffffffff1614610ccf576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cc6906125f3565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610d3e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d3590612685565b60405180910390fd5b610d4b8383836001611412565b8273ffffffffffffffffffffffffffffffffffffffff16610d6b826106cc565b73ffffffffffffffffffffffffffffffffffffffff1614610dc1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610db8906125f3565b60405180910390fd5b6004600082815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4610f4d8383836001611418565b505050565b6001816000016000828254019250508190555050565b610f8282826040518060200160405280600081525061141e565b5050565b60006002600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603611031576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611028906126f1565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31836040516111229190611a7b565b60405180910390a3505050565b61113a848484610c59565b61114684848484611479565b611185576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161117c90612783565b60405180910390fd5b50505050565b60606000600161119a84611600565b01905060008167ffffffffffffffff8111156111b9576111b8611d5f565b5b6040519080825280601f01601f1916602001820160405280156111eb5781602001600182028036833780820191505090505b509050600082602001820190505b60011561124e578080600190039150507f3031323334353637383961626364656600000000000000000000000000000000600a86061a8153600a8581611242576112416127a3565b5b049450600085036111f9575b819350505050919050565b6060600082510361127b576040518060200160405280600081525090506113cc565b6000604051806060016040528060408152602001612a3560409139905060006003600285516112aa91906127d2565b6112b49190612806565b60046112c09190612837565b905060006020826112d191906127d2565b67ffffffffffffffff8111156112ea576112e9611d5f565b5b6040519080825280601f01601f19166020018201604052801561131c5781602001600182028036833780820191505090505b509050818152600183018586518101602084015b8183101561138b576003830192508251603f8160121c168501518253600182019150603f81600c1c168501518253600182019150603f8160061c168501518253600182019150603f8116850151825360018201915050611330565b6003895106600181146113a557600281146113b5576113c0565b613d3d60f01b60028303526113c0565b603d60f81b60018303525b50505050508093505050505b919050565b60008073ffffffffffffffffffffffffffffffffffffffff166113f383610f86565b73ffffffffffffffffffffffffffffffffffffffff1614159050919050565b50505050565b50505050565b6114288383611753565b6114356000848484611479565b611474576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161146b90612783565b60405180910390fd5b505050565b600061149a8473ffffffffffffffffffffffffffffffffffffffff16611970565b156115f3578373ffffffffffffffffffffffffffffffffffffffff1663150b7a026114c3610b03565b8786866040518563ffffffff1660e01b81526004016114e594939291906128ce565b6020604051808303816000875af192505050801561152157506040513d601f19601f8201168201806040525081019061151e919061292f565b60015b6115a3573d8060008114611551576040519150601f19603f3d011682016040523d82523d6000602084013e611556565b606091505b50600081510361159b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161159290612783565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149150506115f8565b600190505b949350505050565b600080600090507a184f03e93ff9f4daa797ed6e38ed64bf6a1f010000000000000000831061165e577a184f03e93ff9f4daa797ed6e38ed64bf6a1f0100000000000000008381611654576116536127a3565b5b0492506040810190505b6d04ee2d6d415b85acef8100000000831061169b576d04ee2d6d415b85acef81000000008381611691576116906127a3565b5b0492506020810190505b662386f26fc1000083106116ca57662386f26fc1000083816116c0576116bf6127a3565b5b0492506010810190505b6305f5e10083106116f3576305f5e10083816116e9576116e86127a3565b5b0492506008810190505b612710831061171857612710838161170e5761170d6127a3565b5b0492506004810190505b6064831061173b5760648381611731576117306127a3565b5b0492506002810190505b600a831061174a576001810190505b80915050919050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036117c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117b9906129a8565b60405180910390fd5b6117cb816113d1565b1561180b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161180290612a14565b60405180910390fd5b611819600083836001611412565b611822816113d1565b15611862576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161185990612a14565b60405180910390fd5b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461196c600083836001611418565b5050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000819050919050565b6119a681611993565b82525050565b60006020820190506119c1600083018461199d565b92915050565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b611a10816119db565b8114611a1b57600080fd5b50565b600081359050611a2d81611a07565b92915050565b600060208284031215611a4957611a486119d1565b5b6000611a5784828501611a1e565b91505092915050565b60008115159050919050565b611a7581611a60565b82525050565b6000602082019050611a906000830184611a6c565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611ad0578082015181840152602081019050611ab5565b60008484015250505050565b6000601f19601f8301169050919050565b6000611af882611a96565b611b028185611aa1565b9350611b12818560208601611ab2565b611b1b81611adc565b840191505092915050565b60006020820190508181036000830152611b408184611aed565b905092915050565b611b5181611993565b8114611b5c57600080fd5b50565b600081359050611b6e81611b48565b92915050565b600060208284031215611b8a57611b896119d1565b5b6000611b9884828501611b5f565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000611bcc82611ba1565b9050919050565b611bdc81611bc1565b82525050565b6000602082019050611bf76000830184611bd3565b92915050565b611c0681611bc1565b8114611c1157600080fd5b50565b600081359050611c2381611bfd565b92915050565b60008060408385031215611c4057611c3f6119d1565b5b6000611c4e85828601611c14565b9250506020611c5f85828601611b5f565b9150509250929050565b600080600060608486031215611c8257611c816119d1565b5b6000611c9086828701611c14565b9350506020611ca186828701611c14565b9250506040611cb286828701611b5f565b9150509250925092565b600060208284031215611cd257611cd16119d1565b5b6000611ce084828501611c14565b91505092915050565b611cf281611a60565b8114611cfd57600080fd5b50565b600081359050611d0f81611ce9565b92915050565b60008060408385031215611d2c57611d2b6119d1565b5b6000611d3a85828601611c14565b9250506020611d4b85828601611d00565b9150509250929050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b611d9782611adc565b810181811067ffffffffffffffff82111715611db657611db5611d5f565b5b80604052505050565b6000611dc96119c7565b9050611dd58282611d8e565b919050565b600067ffffffffffffffff821115611df557611df4611d5f565b5b611dfe82611adc565b9050602081019050919050565b82818337600083830152505050565b6000611e2d611e2884611dda565b611dbf565b905082815260208101848484011115611e4957611e48611d5a565b5b611e54848285611e0b565b509392505050565b600082601f830112611e7157611e70611d55565b5b8135611e81848260208601611e1a565b91505092915050565b60008060008060808587031215611ea457611ea36119d1565b5b6000611eb287828801611c14565b9450506020611ec387828801611c14565b9350506040611ed487828801611b5f565b925050606085013567ffffffffffffffff811115611ef557611ef46119d6565b5b611f0187828801611e5c565b91505092959194509250565b60008060408385031215611f2457611f236119d1565b5b6000611f3285828601611c14565b9250506020611f4385828601611c14565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680611f9457607f821691505b602082108103611fa757611fa6611f4d565b5b50919050565b7f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b6000612009602183611aa1565b915061201482611fad565b604082019050919050565b6000602082019050818103600083015261203881611ffc565b9050919050565b7f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60008201527f6b656e206f776e6572206f7220617070726f76656420666f7220616c6c000000602082015250565b600061209b603d83611aa1565b91506120a68261203f565b604082019050919050565b600060208201905081810360008301526120ca8161208e565b9050919050565b7f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560008201527f72206f7220617070726f76656400000000000000000000000000000000000000602082015250565b600061212d602d83611aa1565b9150612138826120d1565b604082019050919050565b6000602082019050818103600083015261215c81612120565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061219d82611993565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82036121cf576121ce612163565b5b600182019050919050565b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b6000612210601883611aa1565b915061221b826121da565b602082019050919050565b6000602082019050818103600083015261223f81612203565b9050919050565b7f4552433732313a2061646472657373207a65726f206973206e6f74206120766160008201527f6c6964206f776e65720000000000000000000000000000000000000000000000602082015250565b60006122a2602983611aa1565b91506122ad82612246565b604082019050919050565b600060208201905081810360008301526122d181612295565b9050919050565b600081905092915050565b7f7b226e616d65223a2022546573742044617070204e4654732023000000000000600082015250565b6000612319601a836122d8565b9150612324826122e3565b601a82019050919050565b600061233a82611a96565b61234481856122d8565b9350612354818560208601611ab2565b80840191505092915050565b7f222c20226465736372697074696f6e223a2022546573742044617070204e465460008201527f7320666f722074657374696e672e222c2022696d616765223a2022646174613a60208201527f696d6167652f7376672b786d6c3b6261736536342c0000000000000000000000604082015250565b60006123e26055836122d8565b91506123ed82612360565b605582019050919050565b7f222c202261747472696275746573223a205b7b2274726169745f74797065223a60008201527f2022546f6b656e204964222c202276616c7565223a2022000000000000000000602082015250565b60006124546037836122d8565b915061245f826123f8565b603782019050919050565b7f227d5d7d00000000000000000000000000000000000000000000000000000000600082015250565b60006124a06004836122d8565b91506124ab8261246a565b600482019050919050565b60006124c18261230c565b91506124cd828661232f565b91506124d8826123d5565b91506124e4828561232f565b91506124ef82612447565b91506124fb828461232f565b915061250682612493565b9150819050949350505050565b7f646174613a6170706c69636174696f6e2f6a736f6e3b6261736536342c000000600082015250565b6000612549601d836122d8565b915061255482612513565b601d82019050919050565b600061256a8261253c565b9150612576828461232f565b915081905092915050565b7f4552433732313a207472616e736665722066726f6d20696e636f72726563742060008201527f6f776e6572000000000000000000000000000000000000000000000000000000602082015250565b60006125dd602583611aa1565b91506125e882612581565b604082019050919050565b6000602082019050818103600083015261260c816125d0565b9050919050565b7f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b600061266f602483611aa1565b915061267a82612613565b604082019050919050565b6000602082019050818103600083015261269e81612662565b9050919050565b7f4552433732313a20617070726f766520746f2063616c6c657200000000000000600082015250565b60006126db601983611aa1565b91506126e6826126a5565b602082019050919050565b6000602082019050818103600083015261270a816126ce565b9050919050565b7f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008201527f63656976657220696d706c656d656e7465720000000000000000000000000000602082015250565b600061276d603283611aa1565b915061277882612711565b604082019050919050565b6000602082019050818103600083015261279c81612760565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006127dd82611993565b91506127e883611993565b9250828201905080821115612800576127ff612163565b5b92915050565b600061281182611993565b915061281c83611993565b92508261282c5761282b6127a3565b5b828204905092915050565b600061284282611993565b915061284d83611993565b925082820261285b81611993565b9150828204841483151761287257612871612163565b5b5092915050565b600081519050919050565b600082825260208201905092915050565b60006128a082612879565b6128aa8185612884565b93506128ba818560208601611ab2565b6128c381611adc565b840191505092915050565b60006080820190506128e36000830187611bd3565b6128f06020830186611bd3565b6128fd604083018561199d565b818103606083015261290f8184612895565b905095945050505050565b60008151905061292981611a07565b92915050565b600060208284031215612945576129446119d1565b5b60006129538482850161291a565b91505092915050565b7f4552433732313a206d696e7420746f20746865207a65726f2061646472657373600082015250565b6000612992602083611aa1565b915061299d8261295c565b602082019050919050565b600060208201905081810360008301526129c181612985565b9050919050565b7f4552433732313a20746f6b656e20616c7265616479206d696e74656400000000600082015250565b60006129fe601c83611aa1565b9150612a09826129c8565b602082019050919050565b60006020820190508181036000830152612a2d816129f1565b905091905056fe4142434445464748494a4b4c4d4e4f505152535455565758595a6162636465666768696a6b6c6d6e6f707172737475767778797a303132333435363738392b2f3c737667206865696768743d22333530222077696474683d22333530222076696577426f783d2230203020313030203130302220786d6c6e733d22687474703a2f2f7777772e77332e6f72672f323030302f737667223e3c646566733e3c706174682069643d224d7950617468222066696c6c3d226e6f6e6522207374726f6b653d227265642220643d224d31302c3930205139302c39302039302c3435205139302c31302035302c3130205131302c31302031302c3430205131302c37302034352c3730205137302c37302037352c353022202f3e3c2f646566733e3c746578743e3c746578745061746820687265663d22234d7950617468223e517569636b2062726f776e20666f78206a756d7073206f76657220746865206c617a7920646f672e3c2f74657874506174683e3c2f746578743e3c2f7376673ea2646970667358221220922487cf7bfec55ad9cf0c646397333bb79204b1a8ef63134f78b23d697570ef64736f6c63430008120033",failingContractAbi:[{payable:!0,stateMutability:"payable",type:"fallback"}],failingContractBytecode:"0x6080604052348015600f57600080fd5b50608b8061001e6000396000f3fe6080604052610fff3411600e57fe5b3373ffffffffffffffffffffffffffffffffffffffff166108fc349081150290604051600060405180830381858888f193505050501580156053573d6000803e3d6000fd5b5000fea265627a7a72315820631b0dbb6b871cdbfdec2773af15ebfb8e52c794cf836fe27ec21f1aed17180f64736f6c634300050c0032",multisigBytecode:"0x60806040523480156200001157600080fd5b50600060405180606001604052807307be9763a718c0539017e2ab6fc42853b4aeeb6b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001731c53dc20d1e36ed8359250de626acae36bd28a2973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001733ebf9d63c3ae5d70b252a885d65168960102e7f873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815250905060006001905060005b6003811015620002f65760008382600381106200011c576200011b62000306565b5b60200201519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff160362000195576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016200018c9062000396565b60405180910390fd5b600160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff161562000225576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016200021c9062000408565b60405180910390fd5b60018060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506000819080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550508080620002ed9062000463565b915050620000fa565b50806002819055505050620004b0565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600082825260208201905092915050565b7f696e76616c6964206f776e657200000000000000000000000000000000000000600082015250565b60006200037e600d8362000335565b91506200038b8262000346565b602082019050919050565b60006020820190508181036000830152620003b1816200036f565b9050919050565b7f6f776e6572206e6f7420756e6971756500000000000000000000000000000000600082015250565b6000620003f060108362000335565b9150620003fd82620003b8565b602082019050919050565b600060208201905081810360008301526200042381620003e1565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000819050919050565b6000620004708262000459565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203620004a557620004a46200042a565b5b600182019050919050565b611e6b80620004c06000396000f3fe6080604052600436106100ab5760003560e01c80639ace38c2116100645780639ace38c214610253578063a0e67e2b14610294578063c01a8c84146102bf578063c6427474146102e8578063d0549b8514610311578063ee22610b1461033c57610102565b8063025e7c271461010757806320ea8d86146101445780632e7700f01461016d5780632f54bf6e1461019857806333ea3dc8146101d557806380f59a651461021657610102565b36610102573373ffffffffffffffffffffffffffffffffffffffff167f90890809c654f11d6e72a28fa60149770a0d11ec6c92319d6ceb2bb0a4ea1a1534476040516100f892919061116d565b60405180910390a2005b600080fd5b34801561011357600080fd5b5061012e600480360381019061012991906111d6565b610365565b60405161013b9190611244565b60405180910390f35b34801561015057600080fd5b5061016b600480360381019061016691906111d6565b6103a4565b005b34801561017957600080fd5b5061018261067e565b60405161018f919061125f565b60405180910390f35b3480156101a457600080fd5b506101bf60048036038101906101ba91906112a6565b61068b565b6040516101cc91906112ee565b60405180910390f35b3480156101e157600080fd5b506101fc60048036038101906101f791906111d6565b6106ab565b60405161020d959493929190611399565b60405180910390f35b34801561022257600080fd5b5061023d600480360381019061023891906113f3565b6107be565b60405161024a91906112ee565b60405180910390f35b34801561025f57600080fd5b5061027a600480360381019061027591906111d6565b6107ed565b60405161028b959493929190611399565b60405180910390f35b3480156102a057600080fd5b506102a96108e8565b6040516102b691906114f1565b60405180910390f35b3480156102cb57600080fd5b506102e660048036038101906102e191906111d6565b610976565b005b3480156102f457600080fd5b5061030f600480360381019061030a9190611648565b610c53565b005b34801561031d57600080fd5b50610326610e56565b604051610333919061125f565b60405180910390f35b34801561034857600080fd5b50610363600480360381019061035e91906111d6565b610e5c565b005b6000818154811061037557600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16610430576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161042790611714565b60405180910390fd5b806004805490508110610478576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161046f90611780565b60405180910390fd5b816004818154811061048d5761048c6117a0565b5b906000526020600020906005020160030160009054906101000a900460ff16156104ec576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104e39061181b565b60405180910390fd5b600060048481548110610502576105016117a0565b5b906000526020600020906005020190506003600085815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff166105af576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105a690611887565b60405180910390fd5b60018160040160008282546105c491906118d6565b9250508190555060006003600086815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550833373ffffffffffffffffffffffffffffffffffffffff167ff0dca620e2e81f7841d07bcc105e1704fb01475b278a9d4c236e1c62945edd5560405160405180910390a350505050565b6000600480549050905090565b60016020528060005260406000206000915054906101000a900460ff1681565b60008060606000806000600487815481106106c9576106c86117a0565b5b906000526020600020906005020190508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168160010154826002018360030160009054906101000a900460ff16846004015482805461072a90611939565b80601f016020809104026020016040519081016040528092919081815260200182805461075690611939565b80156107a35780601f10610778576101008083540402835291602001916107a3565b820191906000526020600020905b81548152906001019060200180831161078657829003601f168201915b50505050509250955095509550955095505091939590929450565b60036020528160005260406000206020528060005260406000206000915091509054906101000a900460ff1681565b600481815481106107fd57600080fd5b90600052602060002090600502016000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169080600101549080600201805461084c90611939565b80601f016020809104026020016040519081016040528092919081815260200182805461087890611939565b80156108c55780601f1061089a576101008083540402835291602001916108c5565b820191906000526020600020905b8154815290600101906020018083116108a857829003601f168201915b5050505050908060030160009054906101000a900460ff16908060040154905085565b6060600080548060200260200160405190810160405280929190818152602001828054801561096c57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311610922575b5050505050905090565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16610a02576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109f990611714565b60405180910390fd5b806004805490508110610a4a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a4190611780565b60405180910390fd5b8160048181548110610a5f57610a5e6117a0565b5b906000526020600020906005020160030160009054906101000a900460ff1615610abe576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ab59061181b565b60405180910390fd5b826003600082815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615610b5d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b54906119b6565b60405180910390fd5b600060048581548110610b7357610b726117a0565b5b906000526020600020906005020190506001816004016000828254610b9891906119d6565b9250508190555060016003600087815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550843373ffffffffffffffffffffffffffffffffffffffff167f5cbe105e36805f7820e291f799d5794ff948af2a5f664e580382defb6339004160405160405180910390a35050505050565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16610cdf576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cd690611714565b60405180910390fd5b6000600480549050905060046040518060a001604052808673ffffffffffffffffffffffffffffffffffffffff1681526020018581526020018481526020016000151581526020016000815250908060018154018082558091505060019003906000526020600020906005020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101556040820151816002019081610dbb9190611bb6565b5060608201518160030160006101000a81548160ff0219169083151502179055506080820151816004015550508373ffffffffffffffffffffffffffffffffffffffff16813373ffffffffffffffffffffffffffffffffffffffff167fd5a05bf70715ad82a09a756320284a1b54c9ff74cd0f8cce6219e79b563fe59d8686604051610e48929190611c88565b60405180910390a450505050565b60025481565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16610ee8576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610edf90611714565b60405180910390fd5b806004805490508110610f30576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f2790611780565b60405180910390fd5b8160048181548110610f4557610f446117a0565b5b906000526020600020906005020160030160009054906101000a900460ff1615610fa4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f9b9061181b565b60405180910390fd5b600060048481548110610fba57610fb96117a0565b5b9060005260206000209060050201905060025481600401541015611013576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161100a90611d04565b60405180910390fd5b60018160030160006101000a81548160ff02191690831515021790555060008160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168260010154836002016040516110839190611db2565b60006040518083038185875af1925050503d80600081146110c0576040519150601f19603f3d011682016040523d82523d6000602084013e6110c5565b606091505b5050905080611109576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161110090611e15565b60405180910390fd5b843373ffffffffffffffffffffffffffffffffffffffff167f5445f318f4f5fcfb66592e68e0cc5822aa15664039bd5f0ffde24c5a8142b1ac60405160405180910390a35050505050565b6000819050919050565b61116781611154565b82525050565b6000604082019050611182600083018561115e565b61118f602083018461115e565b9392505050565b6000604051905090565b600080fd5b600080fd5b6111b381611154565b81146111be57600080fd5b50565b6000813590506111d0816111aa565b92915050565b6000602082840312156111ec576111eb6111a0565b5b60006111fa848285016111c1565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061122e82611203565b9050919050565b61123e81611223565b82525050565b60006020820190506112596000830184611235565b92915050565b6000602082019050611274600083018461115e565b92915050565b61128381611223565b811461128e57600080fd5b50565b6000813590506112a08161127a565b92915050565b6000602082840312156112bc576112bb6111a0565b5b60006112ca84828501611291565b91505092915050565b60008115159050919050565b6112e8816112d3565b82525050565b600060208201905061130360008301846112df565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611343578082015181840152602081019050611328565b60008484015250505050565b6000601f19601f8301169050919050565b600061136b82611309565b6113758185611314565b9350611385818560208601611325565b61138e8161134f565b840191505092915050565b600060a0820190506113ae6000830188611235565b6113bb602083018761115e565b81810360408301526113cd8186611360565b90506113dc60608301856112df565b6113e9608083018461115e565b9695505050505050565b6000806040838503121561140a576114096111a0565b5b6000611418858286016111c1565b925050602061142985828601611291565b9150509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b61146881611223565b82525050565b600061147a838361145f565b60208301905092915050565b6000602082019050919050565b600061149e82611433565b6114a8818561143e565b93506114b38361144f565b8060005b838110156114e45781516114cb888261146e565b97506114d683611486565b9250506001810190506114b7565b5085935050505092915050565b6000602082019050818103600083015261150b8184611493565b905092915050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6115558261134f565b810181811067ffffffffffffffff821117156115745761157361151d565b5b80604052505050565b6000611587611196565b9050611593828261154c565b919050565b600067ffffffffffffffff8211156115b3576115b261151d565b5b6115bc8261134f565b9050602081019050919050565b82818337600083830152505050565b60006115eb6115e684611598565b61157d565b90508281526020810184848401111561160757611606611518565b5b6116128482856115c9565b509392505050565b600082601f83011261162f5761162e611513565b5b813561163f8482602086016115d8565b91505092915050565b600080600060608486031215611661576116606111a0565b5b600061166f86828701611291565b9350506020611680868287016111c1565b925050604084013567ffffffffffffffff8111156116a1576116a06111a5565b5b6116ad8682870161161a565b9150509250925092565b600082825260208201905092915050565b7f6e6f74206f776e65720000000000000000000000000000000000000000000000600082015250565b60006116fe6009836116b7565b9150611709826116c8565b602082019050919050565b6000602082019050818103600083015261172d816116f1565b9050919050565b7f747820646f6573206e6f74206578697374000000000000000000000000000000600082015250565b600061176a6011836116b7565b915061177582611734565b602082019050919050565b600060208201905081810360008301526117998161175d565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f747820616c726561647920657865637574656400000000000000000000000000600082015250565b60006118056013836116b7565b9150611810826117cf565b602082019050919050565b60006020820190508181036000830152611834816117f8565b9050919050565b7f7478206e6f7420636f6e6669726d656400000000000000000000000000000000600082015250565b60006118716010836116b7565b915061187c8261183b565b602082019050919050565b600060208201905081810360008301526118a081611864565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006118e182611154565b91506118ec83611154565b9250828203905081811115611904576119036118a7565b5b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061195157607f821691505b6020821081036119645761196361190a565b5b50919050565b7f747820616c726561647920636f6e6669726d6564000000000000000000000000600082015250565b60006119a06014836116b7565b91506119ab8261196a565b602082019050919050565b600060208201905081810360008301526119cf81611993565b9050919050565b60006119e182611154565b91506119ec83611154565b9250828201905080821115611a0457611a036118a7565b5b92915050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302611a6c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82611a2f565b611a768683611a2f565b95508019841693508086168417925050509392505050565b6000819050919050565b6000611ab3611aae611aa984611154565b611a8e565b611154565b9050919050565b6000819050919050565b611acd83611a98565b611ae1611ad982611aba565b848454611a3c565b825550505050565b600090565b611af6611ae9565b611b01818484611ac4565b505050565b5b81811015611b2557611b1a600082611aee565b600181019050611b07565b5050565b601f821115611b6a57611b3b81611a0a565b611b4484611a1f565b81016020851015611b53578190505b611b67611b5f85611a1f565b830182611b06565b50505b505050565b600082821c905092915050565b6000611b8d60001984600802611b6f565b1980831691505092915050565b6000611ba68383611b7c565b9150826002028217905092915050565b611bbf82611309565b67ffffffffffffffff811115611bd857611bd761151d565b5b611be28254611939565b611bed828285611b29565b600060209050601f831160018114611c205760008415611c0e578287015190505b611c188582611b9a565b865550611c80565b601f198416611c2e86611a0a565b60005b82811015611c5657848901518255600182019150602085019450602081019050611c31565b86831015611c735784890151611c6f601f891682611b7c565b8355505b6001600288020188555050505b505050505050565b6000604082019050611c9d600083018561115e565b8181036020830152611caf8184611360565b90509392505050565b7f63616e6e6f742065786563757465207478000000000000000000000000000000600082015250565b6000611cee6011836116b7565b9150611cf982611cb8565b602082019050919050565b60006020820190508181036000830152611d1d81611ce1565b9050919050565b600081905092915050565b60008154611d3c81611939565b611d468186611d24565b94506001821660008114611d615760018114611d7657611da9565b60ff1983168652811515820286019350611da9565b611d7f85611a0a565b60005b83811015611da157815481890152600182019150602081019050611d82565b838801955050505b50505092915050565b6000611dbe8284611d2f565b915081905092915050565b7f7478206661696c65640000000000000000000000000000000000000000000000600082015250565b6000611dff6009836116b7565b9150611e0a82611dc9565b602082019050919050565b60006020820190508181036000830152611e2e81611df2565b905091905056fea2646970667358221220e80b06134352e414f93f26d7441824c8082a405d8e55c88888f0cb1868b6c4bf64736f6c63430008110033",multisigAbi:[{inputs:[{internalType:"uint256",name:"_txIndex",type:"uint256"}],name:"confirmTransaction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"txIndex",type:"uint256"}],name:"ConfirmTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"balance",type:"uint256"}],name:"Deposit",type:"event"},{inputs:[{internalType:"uint256",name:"_txIndex",type:"uint256"}],name:"executeTransaction",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"txIndex",type:"uint256"}],name:"ExecuteTransaction",type:"event"},{inputs:[{internalType:"uint256",name:"_txIndex",type:"uint256"}],name:"revokeConfirmation",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"txIndex",type:"uint256"}],name:"RevokeConfirmation",type:"event"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"submitTransaction",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"txIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"SubmitTransaction",type:"event"},{stateMutability:"payable",type:"receive"},{inputs:[],name:"getOwners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_txIndex",type:"uint256"}],name:"getTransaction",outputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"uint256",name:"numConfirmations",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTransactionCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"isConfirmed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"numConfirmationsRequired",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"owners",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"transactions",outputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"uint256",name:"numConfirmations",type:"uint256"}],stateMutability:"view",type:"function"}],erc1155Abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newuri",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenid",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],erc1155Bytecode:"0x60806040523480156200001157600080fd5b5060405180608001604052806043815260200162003893604391396200003d816200006460201b60201c565b506200005e620000526200007960201b60201c565b6200008160201b60201c565b620004a8565b8060029081620000759190620003c1565b5050565b600033905090565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620001c957607f821691505b602082108103620001df57620001de62000181565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620002497fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826200020a565b6200025586836200020a565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b6000620002a26200029c62000296846200026d565b62000277565b6200026d565b9050919050565b6000819050919050565b620002be8362000281565b620002d6620002cd82620002a9565b84845462000217565b825550505050565b600090565b620002ed620002de565b620002fa818484620002b3565b505050565b5b81811015620003225762000316600082620002e3565b60018101905062000300565b5050565b601f82111562000371576200033b81620001e5565b6200034684620001fa565b8101602085101562000356578190505b6200036e6200036585620001fa565b830182620002ff565b50505b505050565b600082821c905092915050565b6000620003966000198460080262000376565b1980831691505092915050565b6000620003b1838362000383565b9150826002028217905092915050565b620003cc8262000147565b67ffffffffffffffff811115620003e857620003e762000152565b5b620003f48254620001b0565b6200040182828562000326565b600060209050601f83116001811462000439576000841562000424578287015190505b620004308582620003a3565b865550620004a0565b601f1984166200044986620001e5565b60005b8281101562000473578489015182556001820191506020850194506020810190506200044c565b868310156200049357848901516200048f601f89168262000383565b8355505b6001600288020188555050505b505050505050565b6133db80620004b86000396000f3fe608060405234801561001057600080fd5b50600436106100e95760003560e01c80634e1273f41161008c578063a22cb46511610066578063a22cb46514610248578063e985e9c514610264578063f242432a14610294578063f2fde38b146102b0576100e9565b80634e1273f4146101f0578063715018a6146102205780638da5cb5b1461022a576100e9565b806306fdde03116100c857806306fdde031461016a5780630e89341c146101885780631f7fdffa146101b85780632eb2c2d6146101d4576100e9565b8062fdd58e146100ee57806301ffc9a71461011e57806302fe53051461014e575b600080fd5b61010860048036038101906101039190611bb3565b6102cc565b6040516101159190611c02565b60405180910390f35b61013860048036038101906101339190611c75565b610394565b6040516101459190611cbd565b60405180910390f35b61016860048036038101906101639190611e1e565b610476565b005b61017261048a565b60405161017f9190611ee6565b60405180910390f35b6101a2600480360381019061019d9190611f08565b6104c3565b6040516101af9190611ee6565b60405180910390f35b6101d260048036038101906101cd919061209e565b6104fe565b005b6101ee60048036038101906101e99190612159565b610518565b005b61020a600480360381019061020591906122eb565b6105b9565b6040516102179190612421565b60405180910390f35b6102286106d2565b005b6102326106e6565b60405161023f9190612452565b60405180910390f35b610262600480360381019061025d9190612499565b610710565b005b61027e600480360381019061027991906124d9565b610726565b60405161028b9190611cbd565b60405180910390f35b6102ae60048036038101906102a99190612519565b6107ba565b005b6102ca60048036038101906102c591906125b0565b61085b565b005b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361033c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103339061264f565b60405180910390fd5b60008083815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b60007fd9b67a26000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061045f57507f0e89341c000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b8061046f575061046e826108de565b5b9050919050565b61047e610948565b610487816109c6565b50565b6040518060400160405280600781526020017f455243313135350000000000000000000000000000000000000000000000000081525081565b60606104ce826109d9565b6104d783610a6d565b6040516020016104e89291906126f7565b6040516020818303038152906040529050919050565b610506610948565b61051284848484610b3b565b50505050565b610520610d67565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161480610566575061056585610560610d67565b610726565b5b6105a5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161059c90612798565b60405180910390fd5b6105b28585858585610d6f565b5050505050565b606081518351146105ff576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105f69061282a565b60405180910390fd5b6000835167ffffffffffffffff81111561061c5761061b611cf3565b5b60405190808252806020026020018201604052801561064a5781602001602082028036833780820191505090505b50905060005b84518110156106c75761069785828151811061066f5761066e61284a565b5b602002602001015185838151811061068a5761068961284a565b5b60200260200101516102cc565b8282815181106106aa576106a961284a565b5b602002602001018181525050806106c0906128a8565b9050610650565b508091505092915050565b6106da610948565b6106e46000611090565b565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b61072261071b610d67565b8383611156565b5050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6107c2610d67565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161480610808575061080785610802610d67565b610726565b5b610847576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161083e90612798565b60405180910390fd5b61085485858585856112c2565b5050505050565b610863610948565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036108d2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108c990612962565b60405180910390fd5b6108db81611090565b50565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b610950610d67565b73ffffffffffffffffffffffffffffffffffffffff1661096e6106e6565b73ffffffffffffffffffffffffffffffffffffffff16146109c4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109bb906129ce565b60405180910390fd5b565b80600290816109d59190612bfa565b5050565b6060600280546109e890612a1d565b80601f0160208091040260200160405190810160405280929190818152602001828054610a1490612a1d565b8015610a615780601f10610a3657610100808354040283529160200191610a61565b820191906000526020600020905b815481529060010190602001808311610a4457829003601f168201915b50505050509050919050565b606060006001610a7c8461155d565b01905060008167ffffffffffffffff811115610a9b57610a9a611cf3565b5b6040519080825280601f01601f191660200182016040528015610acd5781602001600182028036833780820191505090505b509050600082602001820190505b600115610b30578080600190039150507f3031323334353637383961626364656600000000000000000000000000000000600a86061a8153600a8581610b2457610b23612ccc565b5b04945060008503610adb575b819350505050919050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603610baa576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ba190612d6d565b60405180910390fd5b8151835114610bee576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610be590612dff565b60405180910390fd5b6000610bf8610d67565b9050610c09816000878787876116b0565b60005b8451811015610cc257838181518110610c2857610c2761284a565b5b6020026020010151600080878481518110610c4657610c4561284a565b5b6020026020010151815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254610ca89190612e1f565b925050819055508080610cba906128a8565b915050610c0c565b508473ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8787604051610d3a929190612e53565b60405180910390a4610d51816000878787876116b8565b610d60816000878787876116c0565b5050505050565b600033905090565b8151835114610db3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610daa90612dff565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603610e22576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e1990612efc565b60405180910390fd5b6000610e2c610d67565b9050610e3c8187878787876116b0565b60005b8451811015610fed576000858281518110610e5d57610e5c61284a565b5b602002602001015190506000858381518110610e7c57610e7b61284a565b5b60200260200101519050600080600084815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610f1d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f1490612f8e565b60405180910390fd5b81810360008085815260200190815260200160002060008c73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508160008085815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254610fd29190612e1f565b9250508190555050505080610fe6906128a8565b9050610e3f565b508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8787604051611064929190612e53565b60405180910390a461107a8187878787876116b8565b6110888187878787876116c0565b505050505050565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036111c4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111bb90613020565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31836040516112b59190611cbd565b60405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603611331576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161132890612efc565b60405180910390fd5b600061133b610d67565b9050600061134885611897565b9050600061135585611897565b90506113658389898585896116b0565b600080600088815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050858110156113fc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113f390612f8e565b60405180910390fd5b85810360008089815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508560008089815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546114b19190612e1f565b925050819055508773ffffffffffffffffffffffffffffffffffffffff168973ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff167fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f628a8a60405161152e929190613040565b60405180910390a4611544848a8a86868a6116b8565b611552848a8a8a8a8a611911565b505050505050505050565b600080600090507a184f03e93ff9f4daa797ed6e38ed64bf6a1f01000000000000000083106115bb577a184f03e93ff9f4daa797ed6e38ed64bf6a1f01000000000000000083816115b1576115b0612ccc565b5b0492506040810190505b6d04ee2d6d415b85acef810000000083106115f8576d04ee2d6d415b85acef810000000083816115ee576115ed612ccc565b5b0492506020810190505b662386f26fc10000831061162757662386f26fc10000838161161d5761161c612ccc565b5b0492506010810190505b6305f5e1008310611650576305f5e100838161164657611645612ccc565b5b0492506008810190505b612710831061167557612710838161166b5761166a612ccc565b5b0492506004810190505b60648310611698576064838161168e5761168d612ccc565b5b0492506002810190505b600a83106116a7576001810190505b80915050919050565b505050505050565b505050505050565b6116df8473ffffffffffffffffffffffffffffffffffffffff16611ae8565b1561188f578373ffffffffffffffffffffffffffffffffffffffff1663bc197c8187878686866040518663ffffffff1660e01b81526004016117259594939291906130be565b6020604051808303816000875af192505050801561176157506040513d601f19601f8201168201806040525081019061175e919061313b565b60015b6118065761176d613175565b806308c379a0036117c95750611781613197565b8061178c57506117cb565b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117c09190611ee6565b60405180910390fd5b505b6040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117fd90613299565b60405180910390fd5b63bc197c8160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161461188d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016118849061332b565b60405180910390fd5b505b505050505050565b60606000600167ffffffffffffffff8111156118b6576118b5611cf3565b5b6040519080825280602002602001820160405280156118e45781602001602082028036833780820191505090505b50905082816000815181106118fc576118fb61284a565b5b60200260200101818152505080915050919050565b6119308473ffffffffffffffffffffffffffffffffffffffff16611ae8565b15611ae0578373ffffffffffffffffffffffffffffffffffffffff1663f23a6e6187878686866040518663ffffffff1660e01b815260040161197695949392919061334b565b6020604051808303816000875af19250505080156119b257506040513d601f19601f820116820180604052508101906119af919061313b565b60015b611a57576119be613175565b806308c379a003611a1a57506119d2613197565b806119dd5750611a1c565b806040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a119190611ee6565b60405180910390fd5b505b6040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a4e90613299565b60405180910390fd5b63f23a6e6160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614611ade576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ad59061332b565b60405180910390fd5b505b505050505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000611b4a82611b1f565b9050919050565b611b5a81611b3f565b8114611b6557600080fd5b50565b600081359050611b7781611b51565b92915050565b6000819050919050565b611b9081611b7d565b8114611b9b57600080fd5b50565b600081359050611bad81611b87565b92915050565b60008060408385031215611bca57611bc9611b15565b5b6000611bd885828601611b68565b9250506020611be985828601611b9e565b9150509250929050565b611bfc81611b7d565b82525050565b6000602082019050611c176000830184611bf3565b92915050565b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b611c5281611c1d565b8114611c5d57600080fd5b50565b600081359050611c6f81611c49565b92915050565b600060208284031215611c8b57611c8a611b15565b5b6000611c9984828501611c60565b91505092915050565b60008115159050919050565b611cb781611ca2565b82525050565b6000602082019050611cd26000830184611cae565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b611d2b82611ce2565b810181811067ffffffffffffffff82111715611d4a57611d49611cf3565b5b80604052505050565b6000611d5d611b0b565b9050611d698282611d22565b919050565b600067ffffffffffffffff821115611d8957611d88611cf3565b5b611d9282611ce2565b9050602081019050919050565b82818337600083830152505050565b6000611dc1611dbc84611d6e565b611d53565b905082815260208101848484011115611ddd57611ddc611cdd565b5b611de8848285611d9f565b509392505050565b600082601f830112611e0557611e04611cd8565b5b8135611e15848260208601611dae565b91505092915050565b600060208284031215611e3457611e33611b15565b5b600082013567ffffffffffffffff811115611e5257611e51611b1a565b5b611e5e84828501611df0565b91505092915050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611ea1578082015181840152602081019050611e86565b60008484015250505050565b6000611eb882611e67565b611ec28185611e72565b9350611ed2818560208601611e83565b611edb81611ce2565b840191505092915050565b60006020820190508181036000830152611f008184611ead565b905092915050565b600060208284031215611f1e57611f1d611b15565b5b6000611f2c84828501611b9e565b91505092915050565b600067ffffffffffffffff821115611f5057611f4f611cf3565b5b602082029050602081019050919050565b600080fd5b6000611f79611f7484611f35565b611d53565b90508083825260208201905060208402830185811115611f9c57611f9b611f61565b5b835b81811015611fc55780611fb18882611b9e565b845260208401935050602081019050611f9e565b5050509392505050565b600082601f830112611fe457611fe3611cd8565b5b8135611ff4848260208601611f66565b91505092915050565b600067ffffffffffffffff82111561201857612017611cf3565b5b61202182611ce2565b9050602081019050919050565b600061204161203c84611ffd565b611d53565b90508281526020810184848401111561205d5761205c611cdd565b5b612068848285611d9f565b509392505050565b600082601f83011261208557612084611cd8565b5b813561209584826020860161202e565b91505092915050565b600080600080608085870312156120b8576120b7611b15565b5b60006120c687828801611b68565b945050602085013567ffffffffffffffff8111156120e7576120e6611b1a565b5b6120f387828801611fcf565b935050604085013567ffffffffffffffff81111561211457612113611b1a565b5b61212087828801611fcf565b925050606085013567ffffffffffffffff81111561214157612140611b1a565b5b61214d87828801612070565b91505092959194509250565b600080600080600060a0868803121561217557612174611b15565b5b600061218388828901611b68565b955050602061219488828901611b68565b945050604086013567ffffffffffffffff8111156121b5576121b4611b1a565b5b6121c188828901611fcf565b935050606086013567ffffffffffffffff8111156121e2576121e1611b1a565b5b6121ee88828901611fcf565b925050608086013567ffffffffffffffff81111561220f5761220e611b1a565b5b61221b88828901612070565b9150509295509295909350565b600067ffffffffffffffff82111561224357612242611cf3565b5b602082029050602081019050919050565b600061226761226284612228565b611d53565b9050808382526020820190506020840283018581111561228a57612289611f61565b5b835b818110156122b3578061229f8882611b68565b84526020840193505060208101905061228c565b5050509392505050565b600082601f8301126122d2576122d1611cd8565b5b81356122e2848260208601612254565b91505092915050565b6000806040838503121561230257612301611b15565b5b600083013567ffffffffffffffff8111156123205761231f611b1a565b5b61232c858286016122bd565b925050602083013567ffffffffffffffff81111561234d5761234c611b1a565b5b61235985828601611fcf565b9150509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b61239881611b7d565b82525050565b60006123aa838361238f565b60208301905092915050565b6000602082019050919050565b60006123ce82612363565b6123d8818561236e565b93506123e38361237f565b8060005b838110156124145781516123fb888261239e565b9750612406836123b6565b9250506001810190506123e7565b5085935050505092915050565b6000602082019050818103600083015261243b81846123c3565b905092915050565b61244c81611b3f565b82525050565b60006020820190506124676000830184612443565b92915050565b61247681611ca2565b811461248157600080fd5b50565b6000813590506124938161246d565b92915050565b600080604083850312156124b0576124af611b15565b5b60006124be85828601611b68565b92505060206124cf85828601612484565b9150509250929050565b600080604083850312156124f0576124ef611b15565b5b60006124fe85828601611b68565b925050602061250f85828601611b68565b9150509250929050565b600080600080600060a0868803121561253557612534611b15565b5b600061254388828901611b68565b955050602061255488828901611b68565b945050604061256588828901611b9e565b935050606061257688828901611b9e565b925050608086013567ffffffffffffffff81111561259757612596611b1a565b5b6125a388828901612070565b9150509295509295909350565b6000602082840312156125c6576125c5611b15565b5b60006125d484828501611b68565b91505092915050565b7f455243313135353a2061646472657373207a65726f206973206e6f742061207660008201527f616c6964206f776e657200000000000000000000000000000000000000000000602082015250565b6000612639602a83611e72565b9150612644826125dd565b604082019050919050565b600060208201905081810360008301526126688161262c565b9050919050565b600081905092915050565b600061268582611e67565b61268f818561266f565b935061269f818560208601611e83565b80840191505092915050565b7f2e6a736f6e000000000000000000000000000000000000000000000000000000600082015250565b60006126e160058361266f565b91506126ec826126ab565b600582019050919050565b6000612703828561267a565b915061270f828461267a565b915061271a826126d4565b91508190509392505050565b7f455243313135353a2063616c6c6572206973206e6f7420746f6b656e206f776e60008201527f6572206f7220617070726f766564000000000000000000000000000000000000602082015250565b6000612782602e83611e72565b915061278d82612726565b604082019050919050565b600060208201905081810360008301526127b181612775565b9050919050565b7f455243313135353a206163636f756e747320616e6420696473206c656e67746860008201527f206d69736d617463680000000000000000000000000000000000000000000000602082015250565b6000612814602983611e72565b915061281f826127b8565b604082019050919050565b6000602082019050818103600083015261284381612807565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006128b382611b7d565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82036128e5576128e4612879565b5b600182019050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b600061294c602683611e72565b9150612957826128f0565b604082019050919050565b6000602082019050818103600083015261297b8161293f565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b60006129b8602083611e72565b91506129c382612982565b602082019050919050565b600060208201905081810360008301526129e7816129ab565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680612a3557607f821691505b602082108103612a4857612a476129ee565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302612ab07fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82612a73565b612aba8683612a73565b95508019841693508086168417925050509392505050565b6000819050919050565b6000612af7612af2612aed84611b7d565b612ad2565b611b7d565b9050919050565b6000819050919050565b612b1183612adc565b612b25612b1d82612afe565b848454612a80565b825550505050565b600090565b612b3a612b2d565b612b45818484612b08565b505050565b5b81811015612b6957612b5e600082612b32565b600181019050612b4b565b5050565b601f821115612bae57612b7f81612a4e565b612b8884612a63565b81016020851015612b97578190505b612bab612ba385612a63565b830182612b4a565b50505b505050565b600082821c905092915050565b6000612bd160001984600802612bb3565b1980831691505092915050565b6000612bea8383612bc0565b9150826002028217905092915050565b612c0382611e67565b67ffffffffffffffff811115612c1c57612c1b611cf3565b5b612c268254612a1d565b612c31828285612b6d565b600060209050601f831160018114612c645760008415612c52578287015190505b612c5c8582612bde565b865550612cc4565b601f198416612c7286612a4e565b60005b82811015612c9a57848901518255600182019150602085019450602081019050612c75565b86831015612cb75784890151612cb3601f891682612bc0565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f455243313135353a206d696e7420746f20746865207a65726f2061646472657360008201527f7300000000000000000000000000000000000000000000000000000000000000602082015250565b6000612d57602183611e72565b9150612d6282612cfb565b604082019050919050565b60006020820190508181036000830152612d8681612d4a565b9050919050565b7f455243313135353a2069647320616e6420616d6f756e7473206c656e6774682060008201527f6d69736d61746368000000000000000000000000000000000000000000000000602082015250565b6000612de9602883611e72565b9150612df482612d8d565b604082019050919050565b60006020820190508181036000830152612e1881612ddc565b9050919050565b6000612e2a82611b7d565b9150612e3583611b7d565b9250828201905080821115612e4d57612e4c612879565b5b92915050565b60006040820190508181036000830152612e6d81856123c3565b90508181036020830152612e8181846123c3565b90509392505050565b7f455243313135353a207472616e7366657220746f20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000612ee6602583611e72565b9150612ef182612e8a565b604082019050919050565b60006020820190508181036000830152612f1581612ed9565b9050919050565b7f455243313135353a20696e73756666696369656e742062616c616e636520666f60008201527f72207472616e7366657200000000000000000000000000000000000000000000602082015250565b6000612f78602a83611e72565b9150612f8382612f1c565b604082019050919050565b60006020820190508181036000830152612fa781612f6b565b9050919050565b7f455243313135353a2073657474696e6720617070726f76616c2073746174757360008201527f20666f722073656c660000000000000000000000000000000000000000000000602082015250565b600061300a602983611e72565b915061301582612fae565b604082019050919050565b6000602082019050818103600083015261303981612ffd565b9050919050565b60006040820190506130556000830185611bf3565b6130626020830184611bf3565b9392505050565b600081519050919050565b600082825260208201905092915050565b600061309082613069565b61309a8185613074565b93506130aa818560208601611e83565b6130b381611ce2565b840191505092915050565b600060a0820190506130d36000830188612443565b6130e06020830187612443565b81810360408301526130f281866123c3565b9050818103606083015261310681856123c3565b9050818103608083015261311a8184613085565b90509695505050505050565b60008151905061313581611c49565b92915050565b60006020828403121561315157613150611b15565b5b600061315f84828501613126565b91505092915050565b60008160e01c9050919050565b600060033d11156131945760046000803e613191600051613168565b90505b90565b600060443d10613224576131a9611b0b565b60043d036004823e80513d602482011167ffffffffffffffff821117156131d1575050613224565b808201805167ffffffffffffffff8111156131ef5750505050613224565b80602083010160043d03850181111561320c575050505050613224565b61321b82602001850186611d22565b82955050505050505b90565b7f455243313135353a207472616e7366657220746f206e6f6e2d4552433131353560008201527f526563656976657220696d706c656d656e746572000000000000000000000000602082015250565b6000613283603483611e72565b915061328e82613227565b604082019050919050565b600060208201905081810360008301526132b281613276565b9050919050565b7f455243313135353a204552433131353552656365697665722072656a6563746560008201527f6420746f6b656e73000000000000000000000000000000000000000000000000602082015250565b6000613315602883611e72565b9150613320826132b9565b604082019050919050565b6000602082019050818103600083015261334481613308565b9050919050565b600060a0820190506133606000830188612443565b61336d6020830187612443565b61337a6040830186611bf3565b6133876060830185611bf3565b81810360808301526133998184613085565b9050969550505050505056fea2646970667358221220de231ea0ba52331673a6ab1f561443459e5e047d956a2026f062e8977c23fe6d64736f6c63430008110033697066733a2f2f626166796265696478666d777963677a6370347632746f67666c70716832676e69627565786a79346d347171777870376e68336a78357a6c6834792f"}}}},{package:"@metamask/test-dapp",file:"node_modules/@metamask/test-dapp/dist/constants.json"}],[251,{"../../../shared/constants/network":4993,"@metamask/controller-utils":1375,"@metamask/network-controller":1887,"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=o,function(e){const t=(null==e?void 0:e.NetworkController)||{},n=(null==t?void 0:t.providerConfig)||{};if((null==n?void 0:n.chainId)!==i.CHAIN_IDS.GOERLI)return e;const o=e.NetworkController;(0,s.hasProperty)(e,"NetworkController")&&(0,f.isObject)(e.NetworkController)&&(0,s.hasProperty)(e.NetworkController,"providerConfig")&&(0,f.isObject)(e.NetworkController.providerConfig)&&(0,s.hasProperty)(e.NetworkController.providerConfig,"chainId")&&e.NetworkController.providerConfig.chainId===i.CHAIN_IDS.GOERLI&&(o.providerConfig={type:r.NetworkType.sepolia,rpcPrefs:{},chainId:i.CHAIN_IDS.SEPOLIA,nickname:i.SEPOLIA_DISPLAY_NAME,rpcUrl:i.CHAIN_ID_TO_RPC_URL_MAP[i.CHAIN_IDS.SEPOLIA],providerType:i.NETWORK_TYPES.SEPOLIA,ticker:i.TEST_NETWORK_TICKER_MAP[i.NETWORK_TYPES.SEPOLIA],id:i.NETWORK_TYPES.SEPOLIA,removable:!1},o.selectedNetworkClientId=i.NETWORK_TYPES.SEPOLIA,o.networksMetadata={...o.networksMetadata,sepolia:{EIPS:{1559:!0},status:a.NetworkStatus.Available}})}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/controller-utils"),s=e("@metamask/utils"),a=e("@metamask/network-controller"),i=e("../../../shared/constants/network");const o=n.version=110}}},{package:"$root$",file:"app/scripts/migrations/110.ts"}],[252,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,function(e){if(!(0,r.hasProperty)(e,"SelectedNetworkController"))return e;if((0,r.isObject)(e.SelectedNetworkController))if((0,r.hasProperty)(e.SelectedNetworkController,"domains")){if(!(0,r.isObject)(e.SelectedNetworkController.domains)){var t,n;null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("state.SelectedNetworkController.domains is type: "+typeof e.SelectedNetworkController.domains))}}else{var f,s;null===(f=global.sentry)||void 0===f||null===(s=f.captureException)||void 0===s||s.call(f,new Error("state.SelectedNetworkController.domains is missing from SelectedNetworkController state"))}else{var a,i;null===(a=global.sentry)||void 0===a||null===(i=a.captureException)||void 0===i||i.call(a,new Error("state.SelectedNetworkController is type: "+typeof e.SelectedNetworkController)),e.SelectedNetworkController={}}e.SelectedNetworkController.domains={}}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils");const s=n.version=111}}},{package:"$root$",file:"app/scripts/migrations/111.ts"}],[253,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,function(e){if(!(0,r.hasProperty)(e,"SelectedNetworkController"))return e;if((0,r.isObject)(e.SelectedNetworkController))if((0,r.hasProperty)(e.SelectedNetworkController,"perDomainNetwork")){if("boolean"!=typeof e.SelectedNetworkController.perDomainNetwork){var t,n;null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("state.SelectedNetworkController.perDomainNetwork is type: "+typeof e.SelectedNetworkController.perDomainNetwork))}}else{var f,s;null===(f=global.sentry)||void 0===f||null===(s=f.captureException)||void 0===s||s.call(f,new Error("state.SelectedNetworkController.perDomainNetwork is missing from SelectedNetworkController state"))}else{var a,i;null===(a=global.sentry)||void 0===a||null===(i=a.captureException)||void 0===i||i.call(a,new Error("state.SelectedNetworkController is type: "+typeof e.SelectedNetworkController)),e.SelectedNetworkController={}}delete e.SelectedNetworkController.perDomainNetwork}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils");const s=n.version=112}}},{package:"$root$",file:"app/scripts/migrations/112.ts"}],[254,{"@metamask/utils":2620,"@sentry/browser":2747,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=a,function(e){if(!(0,f.hasProperty)(e,"PreferencesController")||!(0,f.isObject)(e.PreferencesController))return(0,r.captureException)(`Migration ${a}: Invalid PreferencesController state: ${typeof e.PreferencesController}`),e;(0,f.hasProperty)(e.PreferencesController,"isLineaMainnetReleased")&&delete e.PreferencesController.isLineaMainnetReleased}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("@sentry/browser"),s=e("lodash");const a=n.version=113}}},{package:"$root$",file:"app/scripts/migrations/113.ts"}],[255,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,function(e){if(!(0,r.hasProperty)(e,"PreferencesController"))return e;if((0,r.isObject)(e.PreferencesController))(0,r.hasProperty)(e.PreferencesController,"transactionSecurityCheckEnabled")&&(e.PreferencesController.transactionSecurityCheckEnabled&&(e.PreferencesController.securityAlertsEnabled=!0,e.PreferencesController.hasMigratedFromOpenSeaToBlockaid=!0),delete e.PreferencesController.transactionSecurityCheckEnabled);else{var t,n;null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error("state.PreferencesController is type: "+typeof e.PreferencesController)),e.PreferencesController={}}}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils");const s=n.version=114}}},{package:"$root$",file:"app/scripts/migrations/114.ts"}],[256,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,function(e){const t=(null==e?void 0:e.AppStateController)||{};(0,r.hasProperty)(e,"AppStateController")&&(0,f.isObject)(e.AppStateController)&&(0,r.hasProperty)(e.AppStateController,"showProductTour")&&e.AppStateController.showProductTour!==undefined&&delete t.showProductTour}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils");const s=n.version=115}}},{package:"$root$",file:"app/scripts/migrations/115.ts"}],[257,{"@metamask/transaction-controller":2523,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TARGET_DATE=n.StuckTransactionError=void 0,n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,function(e){var t;const n=(null==e||null===(t=e.TransactionController)||void 0===t?void 0:t.transactions)??[];for(const e of n)if(e.time<a&&i.includes(e.status)){e.status=r.TransactionStatus.failed;e.error=o}}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/transaction-controller");const s=n.version=116,a=n.TARGET_DATE=new Date("2023-12-08T00:00:00Z").getTime(),i=[r.TransactionStatus.approved,r.TransactionStatus.signed],o=n.StuckTransactionError={name:"StuckTransactionDueToStatus",message:"Transaction is stuck due to status - migration 115"}}}},{package:"$root$",file:"app/scripts/migrations/116.ts"}],[258,{"@metamask/utils":2620,lodash:4111,loglevel:4117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,function(e){const t=e.SelectedNetworkController;if(!t)return void s.default.warn("Skipping migration. SelectedNetworkController state not found.");if(!(0,a.isObject)(t)){var n,f;return void(null===(n=global.sentry)||void 0===n||null===(f=n.captureException)||void 0===f||f.call(n,new Error("SelectedNetworkController is not an object.")))}if(!(0,a.hasProperty)(t,"domains")){var r,i;return void(null===(r=global.sentry)||void 0===r||null===(i=r.captureException)||void 0===i||i.call(r,new Error("Domains key is missing in SelectedNetworkController state.")))}if(!(0,a.isObject)(t.domains)){var o,c;return void(null===(o=global.sentry)||void 0===o||null===(c=o.captureException)||void 0===c||c.call(o,new Error("Domains state is not an object.")))}const{domains:l}=t,u=Object.keys(l).reduce(((e,t)=>(t.startsWith("npm:")||t.startsWith("local:")||(e[t]=l[t]),e)),{});t.domains=u}(t.data),t},n.version=void 0;var f,r=e("lodash"),s=(f=e("loglevel"))&&f.__esModule?f:{default:f},a=e("@metamask/utils");const i=n.version=117}}},{package:"$root$",file:"app/scripts/migrations/117.ts"}],[259,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,function(e){if(!(0,r.hasProperty)(e,"PreferencesController"))return e;if(!(0,r.isObject)(e.PreferencesController)){var t,n;const f=typeof e.PreferencesController;null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error(`state.PreferencesController is type: ${f}`)),e.PreferencesController={}}!1!==e.PreferencesController.useRequestQueue&&e.PreferencesController.useRequestQueue!==undefined||(e.PreferencesController.useRequestQueue=!0)}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils");const s=n.version=118}}},{package:"$root$",file:"app/scripts/migrations/118.ts"}],[2597,{"./constants.cjs":2598,"./helpers/Bundler.cjs":2599,"./helpers/PendingUserOperationTracker.cjs":2600,"./helpers/SnapSmartContractAccount.cjs":2601,"./logger.cjs":2603,"./types.cjs":2604,"./utils/gas-fees.cjs":2606,"./utils/gas.cjs":2607,"./utils/transaction.cjs":2608,"./utils/validation.cjs":2609,"@metamask/base-controller":1349,"@metamask/controller-utils":1375,"@metamask/eth-query":1534,"@metamask/rpc-errors":2141,"@metamask/transaction-controller":2523,"@metamask/utils":2620,events:3678,lodash:4111,uuid:4904},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s,a,i,o,c,l,u,d,h,p,b,m,g,y,v,w,k,S,E,T,_,C,P=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},I=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)},O=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.UserOperationController=void 0;const A=e("@metamask/base-controller"),j=e("@metamask/controller-utils"),x=O(e("@metamask/eth-query")),N=e("@metamask/rpc-errors"),M=e("@metamask/transaction-controller"),R=e("@metamask/utils"),D=O(e("events")),L=e("lodash"),B=e("uuid"),U=e("./constants.cjs"),F=e("./helpers/Bundler.cjs"),H=e("./helpers/PendingUserOperationTracker.cjs"),$=e("./helpers/SnapSmartContractAccount.cjs"),G=e("./logger.cjs"),q=e("./types.cjs"),V=e("./utils/gas.cjs"),z=e("./utils/gas-fees.cjs"),W=e("./utils/transaction.cjs"),Y=e("./utils/validation.cjs"),K={userOperations:{persist:!0,anonymous:!1}};class J extends A.BaseController{constructor({entrypoint:e,getGasFeeEstimates:t,messenger:n,state:i}){super({name:"UserOperationController",metadata:K,messenger:n,state:{userOperations:{},...i}}),f.add(this),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),this.hub=new D.default,P(this,r,e,"f"),P(this,s,t,"f"),P(this,a,new H.PendingUserOperationTracker({getUserOperations:()=>(0,L.cloneDeep)(Object.values(this.state.userOperations)),messenger:n}),"f"),I(this,f,"m",k).call(this)}async addUserOperation(e,t){return(0,Y.validateAddUserOperationRequest)(e),(0,Y.validateAddUserOperationOptions)(t),await I(this,f,"m",i).call(this,e,t)}async addUserOperationFromTransaction(e,t){(0,Y.validateAddUserOperationOptions)(t);const{data:n,from:r,maxFeePerGas:s,maxPriorityFeePerGas:a,to:o,value:c}=e,l={data:""===n?undefined:n,from:r,maxFeePerGas:s,maxPriorityFeePerGas:a,to:o,value:c};return(0,Y.validateAddUserOperationRequest)(l),await I(this,f,"m",i).call(this,l,{...t,transaction:e})}startPollingByNetworkClientId(e){return I(this,a,"f").startPolling({networkClientId:e})}}n.UserOperationController=J,r=new WeakMap,s=new WeakMap,a=new WeakMap,f=new WeakSet,i=async function(e,t){(0,G.projectLogger)("Adding user operation",{request:e,options:t});const{networkClientId:n,origin:r,smartContractAccount:s,swaps:a,transaction:i}=t,{chainId:u,provider:d}=await I(this,f,"m",T).call(this,n),h=await I(this,f,"m",l).call(this,u,r,i,a),p=s??new $.SnapSmartContractAccount(this.messagingSystem),b={chainId:u,metadata:h,options:{...t,smartContractAccount:p},provider:d,request:e,transaction:i},{id:g}=h;let y=!1;const v=(async()=>{try{return await I(this,f,"m",o).call(this,b)}catch(e){if(I(this,f,"m",m).call(this,h,e),y)throw e;return undefined}})(),w=async()=>(y=!0,await v);return{id:g,hash:w,transactionHash:async()=>{await w();const{transactionHash:e}=await I(this,f,"m",c).call(this,h);return e}}},o=async function(e){const{metadata:t,options:n}=e,{requireApproval:r,smartContractAccount:s}=n;let a;try{return await I(this,f,"m",u).call(this,e),await I(this,f,"m",d).call(this,t,s),this.hub.emit("user-operation-added",t),!1!==r&&(a=await I(this,f,"m",h).call(this,e)),await I(this,f,"m",p).call(this,t,s),await I(this,f,"m",b).call(this,t),a?.success(),t.hash}catch(e){throw a?.error(e),e}},c=async function(e){const{id:t,hash:n}=e;return(0,G.projectLogger)("Waiting for confirmation",t,n),new Promise(((e,n)=>{this.hub.once(`${t}:confirmed`,(t=>{e(t)})),this.hub.once(`${t}:failed`,((e,t)=>{n(t)}))}))},l=async function(e,t,n,r){const s={actualGasCost:null,actualGasUsed:null,baseFeePerGas:null,bundlerUrl:null,chainId:e,error:null,hash:null,id:(0,B.v1)(),origin:t,status:q.UserOperationStatus.Unapproved,swapsMetadata:r?{approvalTxId:r.approvalTxId??null,destinationTokenAddress:r.destinationTokenAddress??null,destinationTokenAmount:r.destinationTokenAmount??null,destinationTokenDecimals:r.destinationTokenDecimals??null,destinationTokenSymbol:r.destinationTokenSymbol??null,estimatedBaseFee:r.estimatedBaseFee??null,sourceTokenAddress:r.sourceTokenAddress??null,sourceTokenAmount:r.sourceTokenAmount??null,sourceTokenDecimals:r.sourceTokenDecimals??null,sourceTokenSymbol:r.sourceTokenSymbol??null,swapAndSendRecipient:r.swapAndSendRecipient??null,swapMetaData:r.swapMetaData??null,swapTokenValue:r.swapTokenValue??null}:null,time:Date.now(),transactionHash:null,transactionParams:n??null,transactionType:null,userFeeLevel:null,userOperation:I(this,f,"m",g).call(this,n)};return I(this,f,"m",y).call(this,s),(0,G.projectLogger)("Added user operation",s.id),s},u=async function(e){const{chainId:t,metadata:n,options:a,provider:i,request:o,transaction:c}=e,{data:l,from:u,to:d,value:h}=o,{id:p,transactionParams:b,userOperation:m}=n,{smartContractAccount:g}=a;(0,G.projectLogger)("Preparing user operation",{id:p});const v=await I(this,f,"m",E).call(this,c,i,a);n.transactionType=v??null,(0,G.projectLogger)("Determined transaction type",v),await(0,z.updateGasFees)({getGasFeeEstimates:I(this,s,"f"),metadata:n,originalRequest:o,provider:i,transaction:b??undefined});const w=await g.prepareUserOperation({chainId:t,data:l,from:u,to:d,value:h});(0,Y.validatePrepareUserOperationResponse)(w);const{bundler:k,callData:S,dummyPaymasterAndData:T,dummySignature:_,initCode:C,nonce:P,sender:O}=w;m.callData=S,m.initCode=C??U.EMPTY_BYTES,m.nonce=P,m.paymasterAndData=T??U.EMPTY_BYTES,m.sender=O,m.signature=_??U.EMPTY_BYTES,n.bundlerUrl=k,await(0,V.updateGas)(n,w,I(this,r,"f")),I(this,f,"m",y).call(this,n)},d=async function(e,t){const{id:n,userOperation:r,chainId:s}=e;(0,G.projectLogger)("Requesting paymaster data",{id:n});const a=await t.updateUserOperation({userOperation:r,chainId:s});(0,Y.validateUpdateUserOperationResponse)(a),r.paymasterAndData=a.paymasterAndData??U.EMPTY_BYTES,a.callGasLimit&&(r.callGasLimit=a.callGasLimit),a.preVerificationGas&&(r.preVerificationGas=a.preVerificationGas),a.verificationGasLimit&&(r.verificationGasLimit=a.verificationGasLimit),I(this,f,"m",y).call(this,e)},h=async function(e){(0,G.projectLogger)("Requesting approval");const{metadata:t}=e,{resultCallbacks:n,value:r}=await I(this,f,"m",S).call(this,t),s=r?.txMeta;return s&&await I(this,f,"m",_).call(this,e,s),t.status=q.UserOperationStatus.Approved,I(this,f,"m",y).call(this,t),n},p=async function(e,t){const{id:n,chainId:r,userOperation:s}=e;(0,G.projectLogger)("Signing user operation",n,s);const a=await t.signUserOperation({userOperation:s,chainId:r});(0,Y.validateSignUserOperationResponse)(a);const{signature:i}=a;s.signature=i,(0,G.projectLogger)("Signed user operation",i),e.status=q.UserOperationStatus.Signed,I(this,f,"m",y).call(this,e)},b=async function(e){const{userOperation:t}=e;(0,G.projectLogger)("Submitting user operation",t);const n=new F.Bundler(e.bundlerUrl),s=await n.sendUserOperation(t,I(this,r,"f"));e.hash=s,e.status=q.UserOperationStatus.Submitted,I(this,f,"m",y).call(this,e)},m=function(e,t){const{id:n}=e,r=t;(0,G.projectLogger)("User operation failed",n,t),e.error={name:r.name,message:r.message,stack:r.stack,code:r.code,rpc:r.value},e.status=q.UserOperationStatus.Failed,I(this,f,"m",y).call(this,e),String(r.code)===String(N.errorCodes.provider.userRejectedRequest)&&I(this,f,"m",v).call(this,n)},g=function(e){return{callData:U.EMPTY_BYTES,callGasLimit:U.EMPTY_BYTES,initCode:U.EMPTY_BYTES,maxFeePerGas:e?.maxFeePerGas??U.EMPTY_BYTES,maxPriorityFeePerGas:e?.maxPriorityFeePerGas??U.EMPTY_BYTES,nonce:U.EMPTY_BYTES,paymasterAndData:U.EMPTY_BYTES,preVerificationGas:U.EMPTY_BYTES,sender:U.ADDRESS_ZERO,signature:U.EMPTY_BYTES,verificationGasLimit:U.EMPTY_BYTES}},y=function(e){const{id:t}=e;this.update((n=>{n.userOperations[t]=(0,L.cloneDeep)(e)})),I(this,f,"m",w).call(this,e)},v=function(e){this.update((t=>{delete t.userOperations[e]}))},w=function(e){if(!e.transactionParams)return;const t=(0,W.getTransactionMetadata)(e);this.hub.emit("transaction-updated",t)},k=function(){I(this,a,"f").hub.on("user-operation-confirmed",(e=>{(0,G.projectLogger)("In listener..."),this.hub.emit("user-operation-confirmed",e),this.hub.emit(`${e.id}:confirmed`,e)})),I(this,a,"f").hub.on("user-operation-failed",((e,t)=>{this.hub.emit("user-operation-failed",e,t),this.hub.emit(`${e.id}:failed`,e,t)})),I(this,a,"f").hub.on("user-operation-updated",(e=>{I(this,f,"m",y).call(this,e)}))},S=async function(e){const{id:t,origin:n}=e,f=j.ApprovalType.Transaction,r={txId:t};return await this.messagingSystem.call("ApprovalController:addRequest",{id:t,origin:n,type:f,requestData:r,expectsResult:!0},!0)},E=async function(e,t,n){if(!e)return undefined;if(n.type)return n.type;const f=new x.default(t),r=(0,M.determineTransactionType)(e,f);return(await r).type},T=async function(e){const{provider:t,configuration:n}=this.messagingSystem.call("NetworkController:getNetworkClientById",e),{chainId:f}=n;return{provider:t,chainId:f}},_=async function(e,t){(0,G.projectLogger)("Found updated transaction in approval",{updatedTransaction:t});const{metadata:n,request:r}=e,{userOperation:s}=n,a=s.paymasterAndData!==U.EMPTY_BYTES,i=(0,R.add0x)(t.txParams.maxFeePerGas),o=(0,R.add0x)(t.txParams.maxPriorityFeePerGas);let c=!1;const l=s.maxFeePerGas,u=s.maxPriorityFeePerGas,d=l!==i||u!==o,h=a&&i===U.VALUE_ZERO&&o===U.VALUE_ZERO;d&&!h&&((0,G.projectLogger)("Gas fees updated during approval",{previousMaxFeePerGas:l,previousMaxPriorityFeePerGas:u,updatedMaxFeePerGas:i,updatedMaxPriorityFeePerGas:o}),s.maxFeePerGas=i,s.maxPriorityFeePerGas=o,c=a);const p=r.data??U.EMPTY_BYTES,b=t.txParams.data??U.EMPTY_BYTES;p!==b&&((0,G.projectLogger)("Data updated during approval",{previousData:p,updatedData:b}),c=!0);const m=r.value??U.VALUE_ZERO,g=t.txParams.value??U.VALUE_ZERO;if(m!==g&&((0,G.projectLogger)("Value updated during approval",{previousValue:m,updatedValue:g}),c=!0),c){const t={...r,data:b,maxFeePerGas:i,maxPriorityFeePerGas:o,value:g};await I(this,f,"m",C).call(this,{...e,request:t})}},C=async function(e){(0,G.projectLogger)("Regenerating user operation as parameters were updated during approval");const{options:{smartContractAccount:t},metadata:n}=e;await I(this,f,"m",u).call(this,e),await I(this,f,"m",d).call(this,n,t),(0,G.projectLogger)("Regenerated user operation",n.userOperation)}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/UserOperationController.cjs"}],[2598,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.VALUE_ZERO=n.ADDRESS_ZERO=n.EMPTY_BYTES=void 0,n.EMPTY_BYTES="0x",n.ADDRESS_ZERO="0x0000000000000000000000000000000000000000",n.VALUE_ZERO="0x0"}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/constants.cjs"}],[2599,{"../logger.cjs":2603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s,a=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},i=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.Bundler=void 0;const o=e("../logger.cjs"),c=(0,o.createModuleLogger)(o.projectLogger,"bundler");n.Bundler=class{constructor(e){f.add(this),r.set(this,void 0),a(this,r,e,"f")}async estimateUserOperationGas(e,t){c("Estimating gas",{url:i(this,r,"f"),userOperation:e,entrypoint:t});const n=await i(this,f,"m",s).call(this,"eth_estimateUserOperationGas",[e,t]);return c("Estimated gas",{response:n}),n}async getUserOperationReceipt(e){return c("Getting user operation receipt",{url:i(this,r,"f"),hash:e}),await i(this,f,"m",s).call(this,"eth_getUserOperationReceipt",[e])}async sendUserOperation(e,t){c("Sending user operation",{url:i(this,r,"f"),userOperation:e,entrypoint:t});const n=await i(this,f,"m",s).call(this,"eth_sendUserOperation",[e,t]);return c("Sent user operation",n),n}},r=new WeakMap,f=new WeakSet,s=async function(e,t){const n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:e,params:t})},f=await fetch(i(this,r,"f"),n),s=await f.json();if(s.error){const e=new Error(s.error.message||s.error);throw e.code=s.error.code,e}return s.result}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/helpers/Bundler.cjs"}],[26,{"@metamask/base-controller":1349,loglevel:4117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDefaultOnboardingControllerState=n.default=void 0;var f,r=e("@metamask/base-controller"),s=(f=e("loglevel"))&&f.__esModule?f:{default:f};function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var f=n.call(e,t||"default");if("object"!=typeof f)return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=()=>({seedPhraseBackedUp:null,firstTimeFlowType:null,completedOnboarding:!1});n.getDefaultOnboardingControllerState=i;const o={onboardingTabs:{}},c={seedPhraseBackedUp:{persist:!0,anonymous:!0},firstTimeFlowType:{persist:!0,anonymous:!0},completedOnboarding:{persist:!0,anonymous:!0},onboardingTabs:{persist:!1,anonymous:!1}};class l extends r.BaseController{constructor({messenger:e,state:t}){super({messenger:e,metadata:c,name:"OnboardingController",state:{seedPhraseBackedUp:null,firstTimeFlowType:null,completedOnboarding:!1,...t,...o}}),a(this,"registerOnboarding",(async(e,t)=>{if(this.state.completedOnboarding)return void s.default.debug("Ignoring registerOnboarding; user already onboarded");const{onboardingTabs:n}={...this.state??{}};n&&(n[e]&&n[e]===t||(s.default.debug(`Registering onboarding tab at location '${e}' with tabId '${t}'`),this.update((f=>{f.onboardingTabs={...n,[e]:t}}))))}))}setSeedPhraseBackedUp(e){this.update((t=>{t.seedPhraseBackedUp=e}))}completeOnboarding(){return this.update((e=>{e.completedOnboarding=!0})),!0}setFirstTimeFlowType(e){this.update((t=>{t.firstTimeFlowType=e}))}}n.default=l}}},{package:"$root$",file:"app/scripts/controllers/onboarding.ts"}],[260,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,function(e){const t=(null==e?void 0:e.AccountsController)||{};(0,f.isObject)(e.AccountsController)&&(0,r.hasProperty)(e.AccountsController,"internalAccounts")&&(0,r.hasProperty)(e.AccountsController.internalAccounts,"accounts")&&Array.isArray(Object.values(e.AccountsController.internalAccounts.accounts))&&Object.values(e.AccountsController.internalAccounts.accounts).length>0&&Object.values(t.internalAccounts.accounts).forEach((e=>{var t;null!==(t=e.metadata)&&void 0!==t&&t.importTime||(e.metadata.importTime=Date.now())}))}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils");const s=n.version=119}}},{package:"$root$",file:"app/scripts/migrations/119.ts"}],[2600,{"../logger.cjs":2603,"../types.cjs":2604,"./Bundler.cjs":2599,"@metamask/controller-utils":1375,"@metamask/eth-query":1534,"@metamask/polling-controller":2004,"@metamask/utils":2620,events:3678},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r,s,a,i,o,c,l,u,d,h,p=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},b=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)},m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PendingUserOperationTracker=void 0;const g=e("@metamask/controller-utils"),y=m(e("@metamask/eth-query")),v=e("@metamask/polling-controller"),w=e("@metamask/utils"),k=m(e("events")),S=e("../logger.cjs"),E=e("../types.cjs"),T=e("./Bundler.cjs"),_=(0,w.createModuleLogger)(S.projectLogger,"pending-user-operations");class C extends((0,v.BlockTrackerPollingControllerOnly)()){constructor({getUserOperations:e,messenger:t}){super(),f.add(this),r.set(this,void 0),s.set(this,void 0),this.hub=new k.default,p(this,r,e,"f"),p(this,s,t,"f")}async _executePoll({networkClientId:e}){try{const{blockTracker:t,configuration:n,provider:r}=this._getNetworkClientById(e);_("Polling",{blockNumber:t.getCurrentBlock(),chainId:n.chainId}),await b(this,f,"m",a).call(this,n.chainId,r)}catch(e){_("Failed to check user operations",e)}}_getNetworkClientById(e){return b(this,s,"f").call("NetworkController:getNetworkClientById",e)}}n.PendingUserOperationTracker=C,r=new WeakMap,s=new WeakMap,f=new WeakSet,a=async function(e,t){const n=b(this,f,"m",l).call(this).filter((t=>t.chainId===e));n.length?(_("Found pending user operations to check",{count:n.length,ids:n.map((e=>e.id))}),await Promise.all(n.map((e=>b(this,f,"m",i).call(this,e,t))))):_("No pending user operations to check")},i=async function(e,t){const{bundlerUrl:n,hash:r,id:s}=e;if(r&&n)try{const a=await b(this,f,"m",d).call(this,r,n),i=a?.success;if(a&&!i)return void b(this,f,"m",c).call(this,e,a);if(i)return void await b(this,f,"m",o).call(this,e,a,t);_("No receipt found for user operation",{id:s,hash:r})}catch(e){_("Failed to check user operation",s,e)}else _("Skipping user operation as missing hash or bundler",s)},o=async function(e,t,n){const{id:r}=e,{actualGasCost:s,actualGasUsed:a,receipt:{blockHash:i,transactionHash:o}}=t;_("User operation confirmed",r,o);const{baseFeePerGas:c}=await(0,g.query)(new y.default(n),"getBlockByHash",[i,!1]);e.actualGasCost=b(this,f,"m",h).call(this,s),e.actualGasUsed=b(this,f,"m",h).call(this,a),e.baseFeePerGas=c,e.status=E.UserOperationStatus.Confirmed,e.transactionHash=o,b(this,f,"m",u).call(this,e),this.hub.emit("user-operation-confirmed",e)},c=function(e,t){const{id:n}=e;_("User operation failed",n),e.status=E.UserOperationStatus.Failed,b(this,f,"m",u).call(this,e),this.hub.emit("user-operation-failed",e,new Error("User operation receipt has failed status"))},l=function(){return b(this,r,"f").call(this).filter((e=>e.status===E.UserOperationStatus.Submitted))},u=function(e){this.hub.emit("user-operation-updated",e)},d=async function(e,t){return new T.Bundler(t).getUserOperationReceipt(e)},h=function(e){return"number"==typeof e?(0,g.toHex)(e):e}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/helpers/PendingUserOperationTracker.cjs"}],[2601,{"../constants.cjs":2598,"../utils/chain-id.cjs":2605},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r=this&&this.__classPrivateFieldSet||function(e,t,n,f,r){if("m"===f)throw new TypeError("Private method is not writable");if("a"===f&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===f?r.call(e,n):r?r.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,f){if("a"===n&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!f:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?f:"a"===n?f.call(e):f?f.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SnapSmartContractAccount=void 0;const a=e("../constants.cjs"),i=e("../utils/chain-id.cjs");n.SnapSmartContractAccount=class{constructor(e){f.set(this,void 0),r(this,f,e,"f")}async prepareUserOperation(e){const{chainId:t,data:n,from:r,to:o,value:c}=e,l=n??a.EMPTY_BYTES,u=o??a.ADDRESS_ZERO,d=c??a.VALUE_ZERO,h=await s(this,f,"f").call("KeyringController:prepareUserOperation",r,[{data:l,to:u,value:d}],{chainId:(0,i.toEip155ChainId)(t)}),{bundlerUrl:p,callData:b,dummyPaymasterAndData:m,dummySignature:g,gasLimits:y,initCode:v,nonce:w}=h;return{bundler:p,callData:b,dummyPaymasterAndData:m,dummySignature:g,gas:y,initCode:v,nonce:w,sender:r}}async updateUserOperation(e){const{userOperation:t,chainId:n}=e,{sender:r}=t,{paymasterAndData:o,verificationGasLimit:c,preVerificationGas:l,callGasLimit:u}=await s(this,f,"f").call("KeyringController:patchUserOperation",r,t,{chainId:(0,i.toEip155ChainId)(n)});return{paymasterAndData:o===a.EMPTY_BYTES?undefined:o,verificationGasLimit:c,preVerificationGas:l,callGasLimit:u}}async signUserOperation(e){const{userOperation:t,chainId:n}=e,{sender:r}=t;return{signature:await s(this,f,"f").call("KeyringController:signUserOperation",r,t,{chainId:(0,i.toEip155ChainId)(n)})}}},f=new WeakMap}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/helpers/SnapSmartContractAccount.cjs"}],[2602,{"./UserOperationController.cjs":2597,"./types.cjs":2604},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){f===undefined&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){f===undefined&&(f=n),e[f]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),r(e("./UserOperationController.cjs"),n),r(e("./types.cjs"),n)}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/index.cjs"}],[2603,{"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.projectLogger=void 0;const f=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return f.createModuleLogger}}),n.projectLogger=(0,f.createProjectLogger)("user-operation-controller")}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/logger.cjs"}],[2604,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f;Object.defineProperty(n,"__esModule",{value:!0}),n.UserOperationStatus=void 0,function(e){e.Unapproved="unapproved",e.Approved="approved",e.Signed="signed",e.Submitted="submitted",e.Failed="failed",e.Confirmed="confirmed"}(f||(n.UserOperationStatus=f={}))}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/types.cjs"}],[2605,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toEip155ChainId=void 0,n.toEip155ChainId=function(e){const t=Number(e);return Number.isInteger(t)?t.toString():e}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/utils/chain-id.cjs"}],[2606,{"../constants.cjs":2598,"../logger.cjs":2603,"@metamask/controller-utils":1375,"@metamask/eth-query":1534,"@metamask/gas-fee-controller":1691,"@metamask/transaction-controller":2523,"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.updateGasFees=void 0;const r=e("@metamask/controller-utils"),s=f(e("@metamask/eth-query")),a=e("@metamask/gas-fee-controller"),i=e("@metamask/transaction-controller"),o=e("@metamask/utils"),c=e("../constants.cjs"),l=e("../logger.cjs"),u=(0,l.createModuleLogger)(l.projectLogger,"gas-fees");function d(e){return(0,r.toHex)((0,r.gweiDecToWEIBN)(e))}function h(e){return!e||e===c.EMPTY_BYTES}n.updateGasFees=async function(e){const{metadata:t,originalRequest:n,transaction:f}=e,{userOperation:c}=t;let l;const p=async()=>(l||(l=await async function(e){const{getGasFeeEstimates:t,provider:n}=e;try{const{gasFeeEstimates:e,gasEstimateType:n}=await t();if(n===a.GAS_ESTIMATE_TYPES.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:t,suggestedMaxFeePerGas:n}={}}=e;if(t&&n){const e={maxFeePerGas:d(n),maxPriorityFeePerGas:d(t)};return u("Using medium values from fee market estimate",e),e}}if(n===a.GAS_ESTIMATE_TYPES.LEGACY){const t=d(e.medium);return u("Using medium value from legacy estimate",t),{maxFeePerGas:t}}if(n===a.GAS_ESTIMATE_TYPES.ETH_GASPRICE){const t=d(e.gasPrice);return u("Using gasPrice from estimate",t),{maxFeePerGas:t}}}catch(e){u("Failed to get estimate",e)}const f=await(0,r.query)(new s.default(n),"gasPrice");if(!f)return{};const i=(0,o.add0x)(f.toString(16));return u("Using gasPrice from network as fallback",i),{maxFeePerGas:i}}(e)),l);c.maxFeePerGas=await async function(e,t,n){const{maxFeePerGas:f,maxPriorityFeePerGas:r}=e,{gasPrice:s}=n??{};if(!h(f))return u("Using maxFeePerGas from request",f),f;if(h(r)&&s)return u("Setting maxFeePerGas to transaction gasPrice",s),s;const{maxFeePerGas:a}=await t();if(!a)throw new Error("Failed to get gas fee estimate for maxFeePerGas");return u("Using maxFeePerGas from estimate",a),a}(n,p,f),c.maxPriorityFeePerGas=await async function(e,t,n,f){const{maxFeePerGas:r,maxPriorityFeePerGas:s}=e,{gasPrice:a}=f??{},{maxFeePerGas:i}=n;if(!h(s))return u("Using maxPriorityFeePerGas from request",s),s;if(h(r)&&a)return u("Setting maxPriorityFeePerGas to transaction gasPrice",a),a;const{maxPriorityFeePerGas:o}=await t();if(o)return u("Using maxPriorityFeePerGas from estimate",o),o;return u("Setting maxPriorityFeePerGas to maxFeePerGas",i),i}(n,p,c,f),t.userFeeLevel=function(e,t,n,f){const{origin:s}=e,{maxFeePerGas:a,maxPriorityFeePerGas:o}=t,{maxFeePerGas:c,maxPriorityFeePerGas:l}=n||{};if(h(a)&&h(o)&&f?.gasPrice)return s===r.ORIGIN_METAMASK?i.UserFeeLevel.CUSTOM:i.UserFeeLevel.DAPP_SUGGESTED;if(h(a)&&h(o)&&c&&l)return i.UserFeeLevel.MEDIUM;if(s===r.ORIGIN_METAMASK)return i.UserFeeLevel.CUSTOM;return i.UserFeeLevel.DAPP_SUGGESTED}(t,n,l,f)}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/utils/gas-fees.cjs"}],[2607,{"../constants.cjs":2598,"../helpers/Bundler.cjs":2599,"../logger.cjs":2603,"@metamask/controller-utils":1375,"@metamask/utils":2620,"bn.js":3344},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.updateGas=void 0;const r=e("@metamask/controller-utils"),s=e("@metamask/utils"),a=f(e("bn.js")),i=e("../constants.cjs"),o=e("../helpers/Bundler.cjs"),c=e("../logger.cjs"),l=(0,c.createModuleLogger)(c.projectLogger,"gas"),u=1.5;function d(e){const t=("string"==typeof e?(0,r.hexToBN)(e):new a.default(e)).muln(u);return(0,s.add0x)(t.toString(16))}n.updateGas=async function(e,t,n){const{userOperation:f}=e;if(t.gas)return f.callGasLimit=t.gas.callGasLimit,f.preVerificationGas=t.gas.preVerificationGas,f.verificationGasLimit=t.gas.verificationGasLimit,void l("Using gas values from smart contract account",{callGasLimit:f.callGasLimit,preVerificationGas:f.preVerificationGas,verificationGasLimit:f.verificationGasLimit});const r={...f,maxFeePerGas:i.VALUE_ZERO,maxPriorityFeePerGas:i.VALUE_ZERO,callGasLimit:i.VALUE_ZERO,preVerificationGas:i.VALUE_ZERO,verificationGasLimit:"0xF4240"},s=new o.Bundler(e.bundlerUrl),a=await s.estimateUserOperationGas(r,n);f.callGasLimit=d(a.callGasLimit),f.preVerificationGas=d(a.preVerificationGas),f.verificationGasLimit=d(a.verificationGasLimit??a.verificationGas),l("Using buffered gas values from bundler estimate",{callGasLimit:f.callGasLimit,preVerificationGas:f.preVerificationGas,verificationGasLimit:f.verificationGasLimit,multiplier:u,estimate:a})}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/utils/gas.cjs"}],[2608,{"../constants.cjs":2598,"../types.cjs":2604,"@metamask/transaction-controller":2523,"@metamask/utils":2620,"bn.js":3344},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getTransactionMetadata=void 0;const r=e("@metamask/transaction-controller"),s=e("@metamask/utils"),a=f(e("bn.js")),i=e("../constants.cjs"),o=e("../types.cjs");n.getTransactionMetadata=function(e){const{actualGasCost:t,actualGasUsed:n,baseFeePerGas:f,chainId:c,error:l,origin:u,transactionHash:d,id:h,swapsMetadata:p,time:b,transactionParams:m,transactionType:g,userFeeLevel:y,userOperation:v}=e;if(!m)return undefined;const w=t&&n?(0,s.add0x)(new a.default((0,s.remove0x)(t),16).div(new a.default((0,s.remove0x)(n),16)).toString(16)):undefined,k=l?{name:l.name,message:l.message,stack:l.stack,code:l.code,rpc:l.rpc}:undefined,S={[o.UserOperationStatus.Unapproved]:r.TransactionStatus.unapproved,[o.UserOperationStatus.Approved]:r.TransactionStatus.approved,[o.UserOperationStatus.Signed]:r.TransactionStatus.signed,[o.UserOperationStatus.Submitted]:r.TransactionStatus.submitted,[o.UserOperationStatus.Confirmed]:r.TransactionStatus.confirmed,[o.UserOperationStatus.Failed]:r.TransactionStatus.failed}[e.status],E=function(...e){const t=new a.default(0);for(const n of e)n&&t.iadd(new a.default((0,s.remove0x)(n),16));return(0,s.add0x)(t.toString(16))}(v.preVerificationGas,v.verificationGasLimit,v.callGasLimit),T=v.paymasterAndData!==i.EMPTY_BYTES,_=T?i.VALUE_ZERO:v.maxFeePerGas,C=T?i.VALUE_ZERO:v.maxPriorityFeePerGas,P=v.nonce===i.EMPTY_BYTES?undefined:v.nonce,I={...m,from:v.sender,gas:E,nonce:P,maxFeePerGas:_,maxPriorityFeePerGas:C};delete I.gasPrice;const O={approvalTxId:p?.approvalTxId??undefined,destinationTokenAddress:p?.destinationTokenAddress??undefined,destinationTokenAmount:p?.destinationTokenAmount??undefined,destinationTokenDecimals:p?.destinationTokenDecimals??undefined,destinationTokenSymbol:p?.destinationTokenSymbol??undefined,estimatedBaseFee:p?.estimatedBaseFee??undefined,sourceTokenAddress:p?.sourceTokenAddress??undefined,sourceTokenAmount:p?.sourceTokenAmount??undefined,sourceTokenDecimals:p?.sourceTokenDecimals??undefined,sourceTokenSymbol:p?.sourceTokenSymbol??undefined,swapAndSendRecipient:p?.swapAndSendRecipient??undefined,swapMetaData:p?.swapMetaData??undefined,swapTokenValue:p?.swapTokenValue??undefined},A=T?r.UserFeeLevel.CUSTOM:y;return{baseFeePerGas:f??undefined,chainId:c,error:k,hash:d??undefined,id:h,isUserOperation:!0,origin:u,status:S,time:b,txParams:I,txReceipt:{effectiveGasPrice:w??undefined,gasUsed:n??undefined},type:g??undefined,userFeeLevel:A,...O}}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/utils/transaction.cjs"}],[2609,{"../constants.cjs":2598,"@metamask/superstruct":2494,"@metamask/transaction-controller":2523,"@metamask/utils":2620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateSignUserOperationResponse=n.validateUpdateUserOperationResponse=n.validatePrepareUserOperationResponse=n.validateAddUserOperationOptions=n.validateAddUserOperationRequest=void 0;const f=e("@metamask/superstruct"),r=e("@metamask/transaction-controller"),s=e("@metamask/utils"),a=e("../constants.cjs");function i(e,t,n){try{(0,f.assert)(e,t,n)}catch(e){const t=e.failures().map((e=>e.path.length?`${e.path.join(".")} - ${e.message}`:e.message)).join("\n");throw new Error(`${n}\n${t}`)}}function o(){return(0,f.define)("Hexadecimal String",(e=>(0,s.isStrictHexString)(e)))}function c(){return(0,f.define)("Hexadecimal String or 0x",(e=>(0,s.isStrictHexString)(e)||e===a.EMPTY_BYTES))}n.validateAddUserOperationRequest=function(e){const t=o(),n=c();i(e,(0,f.object)({data:(0,f.optional)(n),from:t,maxFeePerGas:(0,f.optional)(t),maxPriorityFeePerGas:(0,f.optional)(t),to:(0,f.optional)(t),value:(0,f.optional)(t)}),"Invalid request to add user operation")},n.validateAddUserOperationOptions=function(e){i(e,(0,f.object)({networkClientId:(0,f.string)(),origin:(0,f.string)(),requireApproval:(0,f.optional)((0,f.boolean)()),smartContractAccount:(0,f.optional)((0,f.object)({prepareUserOperation:(0,f.func)(),updateUserOperation:(0,f.func)(),signUserOperation:(0,f.func)()})),swaps:(0,f.optional)((0,f.object)({approvalTxId:(0,f.optional)((0,f.string)()),destinationTokenAddress:(0,f.optional)((0,f.string)()),destinationTokenDecimals:(0,f.optional)((0,f.number)()),destinationTokenSymbol:(0,f.optional)((0,f.string)()),estimatedBaseFee:(0,f.optional)((0,f.string)()),sourceTokenSymbol:(0,f.optional)((0,f.string)()),swapMetaData:(0,f.optional)((0,f.object)()),swapTokenValue:(0,f.optional)((0,f.string)()),destinationTokenAmount:(0,f.optional)((0,f.string)()),sourceTokenAddress:(0,f.optional)((0,f.string)()),sourceTokenAmount:(0,f.optional)((0,f.string)()),sourceTokenDecimals:(0,f.optional)((0,f.number)()),swapAndSendRecipient:(0,f.optional)((0,f.string)())})),type:(0,f.optional)((0,f.enums)(Object.values(r.TransactionType)))}),"Invalid options to add user operation")},n.validatePrepareUserOperationResponse=function(e){const t=o(),n=c();i(e,(0,f.refine)((0,f.object)({bundler:(0,f.string)(),callData:t,dummyPaymasterAndData:(0,f.optional)(n),dummySignature:(0,f.optional)(n),gas:(0,f.optional)((0,f.object)({callGasLimit:t,preVerificationGas:t,verificationGasLimit:t})),initCode:(0,f.optional)(n),nonce:t,sender:t}),"ValidPrepareUserOperationResponse",(({gas:e,dummySignature:t})=>!!(e||t&&t!==a.EMPTY_BYTES)||"Must specify dummySignature if not specifying gas")),"Invalid response when preparing user operation")},n.validateUpdateUserOperationResponse=function(e){i(e,(0,f.optional)((0,f.object)({paymasterAndData:(0,f.optional)(c()),callGasLimit:(0,f.optional)(c()),preVerificationGas:(0,f.optional)(c()),verificationGasLimit:(0,f.optional)(c())})),"Invalid response when updating user operation")},n.validateSignUserOperationResponse=function(e){const t=o();i(e,(0,f.object)({signature:t}),"Invalid response when signing user operation")}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/utils/validation.cjs"}],[261,{"@metamask/utils":2620,"@sentry/browser":2747,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=a,function(e){if(!(0,r.hasProperty)(e,"UserStorageController"))return e.UserStorageController={isProfileSyncingEnabled:null},e;if(!(0,f.isObject)(e.UserStorageController)||!(0,r.hasProperty)(e.UserStorageController,"isProfileSyncingEnabled"))return(0,s.captureException)(`Migration ${a}: Invalid UserStorageController state: ${typeof e.UserStorageController}`),e;e.UserStorageController.isProfileSyncingEnabled=null}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils"),s=e("@sentry/browser");const a=n.version=120.1}}},{package:"$root$",file:"app/scripts/migrations/120.1.ts"}],[262,{"@metamask/utils":2620,lodash:4111,loglevel:4117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=i,function(e){(function(e){if(!(0,s.hasProperty)(e,"SnapController"))return;var t,n;if(!(0,s.isObject)(e.SnapController))return void(null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error(`Migration ${i}: Invalid SnapController state of type '${typeof e.SnapController}'`)));delete e.SnapController.snapErrors})(e),function(e){if(!(0,s.hasProperty)(e,"SelectedNetworkController"))return;(0,s.isObject)(e.SelectedNetworkController)?(0,s.hasProperty)(e.SelectedNetworkController,"perDomainNetwork")&&delete e.SelectedNetworkController:(console.error(`Migration ${i}: Invalid SelectedNetworkController state of type '${typeof e.SelectedNetworkController}'`),delete e.SelectedNetworkController)}(e),function(e){if(!(0,s.hasProperty)(e,"NetworkController"))return;var t,n;if(!(0,s.isObject)(e.NetworkController))return void(null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error(`Migration ${i}: Invalid NetworkController state of type '${typeof e.NetworkController}'`)));const f=e.NetworkController;if((0,s.hasProperty)(f,"providerConfig")&&f.providerConfig!==undefined){var r,o;if(!(0,s.isObject)(f.providerConfig))return void(null===(r=global.sentry)||void 0===r||null===(o=r.captureException)||void 0===o||o.call(r,new Error(`Migration ${i}: Invalid NetworkController providerConfig state of type '${typeof e.NetworkController.providerConfig}'`)));const{providerConfig:t}=f,n=[];if((0,s.hasProperty)(f,"networkConfigurations")){var c,l;if(!(0,s.isObject)(f.networkConfigurations))return void(null===(c=global.sentry)||void 0===c||null===(l=c.captureException)||void 0===l||l.call(c,new Error(`Migration ${i}: Invalid NetworkController networkConfigurations state of type '${typeof f.networkConfigurations}'`)));n.push(...Object.keys(f.networkConfigurations))}(0,s.hasProperty)(t,"id")&&("string"==typeof t.id&&n.includes(t.id)||(a.default.warn(`Migration ${i}: Removing invalid provider id ${t.id}`),delete t.id))}delete f.networkDetails,delete f.networkId,delete f.networkStatus,delete f.previousProviderStore,delete f.provider}(e),function(e){if(!(0,s.hasProperty)(e,"PhishingController"))return;if(!(0,s.isObject)(e.PhishingController))return void global.sentry.captureException(new Error(`Migration ${i}: Invalid PhishingController state of type '${typeof e.PhishingController}'`));(0,s.hasProperty)(e.PhishingController,"listState")&&delete e.PhishingController.listState}(e)}(t.data),t},n.version=void 0;var f,r=e("lodash"),s=e("@metamask/utils"),a=(f=e("loglevel"))&&f.__esModule?f:{default:f};const i=n.version=120.2}}},{package:"$root$",file:"app/scripts/migrations/120.2.ts"}],[263,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){(function(e){if(!(0,f.hasProperty)(e,"CurrencyController"))return;var t,n;if(!(0,f.isObject)(e.CurrencyController))return void(null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error(`Migration ${s}: Invalid CurrencyController state of type '${typeof e.CurrencyController}'`)));delete e.CurrencyController.conversionDate,delete e.CurrencyController.conversionRate,delete e.CurrencyController.nativeCurrency,delete e.CurrencyController.pendingCurrentCurrency,delete e.CurrencyController.pendingNativeCurrency,delete e.CurrencyController.usdConversionRate})(e),function(e){if(!(0,f.hasProperty)(e,"PhishingController"))return;var t,n;if(!(0,f.isObject)(e.PhishingController))return void(null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error(`Migration ${s}: Invalid PhishingController state of type '${typeof e.PhishingController}'`)));delete e.PhishingController.phishing,delete e.PhishingController.lastFetched}(e),function(e){if(!(0,f.hasProperty)(e,"NetworkController"))return;var t,n;if(!(0,f.isObject)(e.NetworkController))return void(null===(t=global.sentry)||void 0===t||null===(n=t.captureException)||void 0===n||n.call(t,new Error(`Migration ${s}: Invalid NetworkController state of type '${typeof e.NetworkController}'`)));delete e.NetworkController.network}(e)}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=120.4}}},{package:"$root$",file:"app/scripts/migrations/120.4.ts"}],[2631,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var f=0;f<e.length;f++){var r=e.charAt(f),s=r.charCodeAt(0);if(255!==t[s])throw new TypeError(r+" is ambiguous");t[s]=f}var a=e.length,i=e.charAt(0),o=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var n=0;if(" "!==e[n]){for(var f=0,r=0;e[n]===i;)f++,n++;for(var s=(e.length-n)*o+1>>>0,c=new Uint8Array(s);e[n];){var l=t[e.charCodeAt(n)];if(255===l)return;for(var u=0,d=s-1;(0!==l||u<r)&&-1!==d;d--,u++)l+=a*c[d]>>>0,c[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");r=u,n++}if(" "!==e[n]){for(var h=s-r;h!==s&&0===c[h];)h++;for(var p=new Uint8Array(f+(s-h)),b=f;h!==s;)p[b++]=c[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,f=0,r=0,s=t.length;r!==s&&0===t[r];)r++,n++;for(var o=(s-r)*c+1>>>0,l=new Uint8Array(o);r!==s;){for(var u=t[r],d=0,h=o-1;(0!==u||d<f)&&-1!==h;h--,d++)u+=256*l[h]>>>0,l[h]=u%a>>>0,u=u/a>>>0;if(0!==u)throw new Error("Non-zero carry");f=d,r++}for(var p=o-f;p!==o&&0===l[p];)p++;for(var b=i.repeat(n);p<o;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}}}},{package:"@ensdomains/content-hash>cids>multibase>@multiformats/base-x",file:"node_modules/@multiformats/base-x/src/index.js"}],[264,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){if(!(0,f.hasProperty)(e,"SelectedNetworkController"))return;if(!(0,f.isObject)(e.SelectedNetworkController))return console.error(`Migration ${s}: Invalid SelectedNetworkController state of type '${typeof e.SelectedNetworkController}'`),void delete e.SelectedNetworkController;if(!(0,f.hasProperty)(e.SelectedNetworkController,"domains"))return console.error(`Migration ${s}: Missing SelectedNetworkController domains state`),void delete e.SelectedNetworkController;if(!(0,f.isObject)(e.SelectedNetworkController.domains))return console.error(`Migration ${s}: Invalid SelectedNetworkController domains state of type '${typeof e.SelectedNetworkController.domains}'`),void delete e.SelectedNetworkController;if(!(0,f.hasProperty)(e,"NetworkController"))return void delete e.SelectedNetworkController;if(!(0,f.isObject)(e.NetworkController))return console.error(new Error(`Migration ${s}: Invalid NetworkController state of type '${typeof e.NetworkController}'`)),void delete e.SelectedNetworkController;if(!(0,f.hasProperty)(e.NetworkController,"networkConfigurations"))return void delete e.SelectedNetworkController;if(!(0,f.isObject)(e.NetworkController.networkConfigurations))return console.error(new Error(`Migration ${s}: Invalid NetworkController networkConfigurations state of type '${typeof e.NetworkController}'`)),void delete e.SelectedNetworkController;const t=[...a,...Object.keys(e.NetworkController.networkConfigurations)],n=Object.values(e.SelectedNetworkController.domains);for(const f of n)if("string"!=typeof f||!t.includes(f))return console.error(new Error(`Migration ${s}: Invalid networkConfigurationId found in SelectedNetworkController state: '${f}'`)),void delete e.SelectedNetworkController}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=120.5;const a=["mainnet","goerli","sepolia","linea-goerli","linea-sepolia","linea-mainnet"]}}},{package:"$root$",file:"app/scripts/migrations/120.5.ts"}],[265,{"@metamask/utils":2620,lodash:4111,loglevel:4117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=i,function(e){if(!(0,r.hasProperty)(e,"TransactionController"))return void a.default.warn(`Migration ${i}: Missing TransactionController state`);var t;if(!(0,r.isObject)(e.TransactionController))return void(null===(t=global.sentry)||void 0===t||t.captureException(`Migration ${i}: Invalid TransactionController state of type '${typeof e.TransactionController}'`));const n=e.TransactionController;if(!(0,r.hasProperty)(n,"transactions"))return void a.default.warn(`Migration ${i}: Missing TransactionController transactions`);if(!Array.isArray(n.transactions))return a.default.error(new Error(`Migration ${i}: Invalid TransactionController transactions state of type '${typeof n.transactions}'`)),void delete n.transactions;const{transactions:f}=n,s=f.filter(r.isObject);if(f.length!==s.length){var l;const e=f.find((e=>!(0,r.isObject)(e)));return void(null===(l=global.sentry)||void 0===l||l.captureException(`Migration ${i}: Invalid transaction of type '${typeof e}'`))}const u=s.filter(c);if(u.length!==s.length){var d;const e=s.find((e=>!c(e)));return void(null===(d=global.sentry)||void 0===d||d.captureException(`Migration ${i}: Invalid transaction history of type '${typeof(null==e?void 0:e.history)}'`))}for(const e of u)e.history&&e.history.length>o&&(e.history=e.history.slice(0,o))}(t.data),t},n.version=void 0;var f,r=e("@metamask/utils"),s=e("lodash"),a=(f=e("loglevel"))&&f.__esModule?f:{default:f};const i=n.version=120.6,o=100;function c(e){return!(0,r.hasProperty)(e,"history")||Array.isArray(e.history)}}}},{package:"$root$",file:"app/scripts/migrations/120.6.ts"}],[266,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,function(e){(0,r.hasProperty)(e,"TokenRatesController")&&(delete e.TokenRatesController.contractExchangeRates,delete e.TokenRatesController.contractExchangeRatesByChainId)}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils");const s=n.version=120}}},{package:"$root$",file:"app/scripts/migrations/120.ts"}],[267,{"@metamask/utils":2620,lodash:4111,loglevel:4117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=i,function(e){if(!(0,r.hasProperty)(e,"AccountsController"))return;const t=e.AccountsController;var n,f,o,c,l,u,d;if(!(0,s.isObject)(t))return void(null===(n=global.sentry)||void 0===n||n.captureException(new Error(`Migration ${i}: Invalid AccountsController state of type '${typeof t}'`)));if(!(0,r.hasProperty)(t,"internalAccounts"))return void(null===(f=global.sentry)||void 0===f||f.captureException(new Error(`Migration ${i}: Invalid AccountsController state, missing internalAccounts`)));if(!(0,s.isObject)(t.internalAccounts))return void(null===(o=global.sentry)||void 0===o||o.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts state of type '${typeof t.internalAccounts}'`)));if(!(0,r.hasProperty)(t.internalAccounts,"selectedAccount"))return void(null===(c=global.sentry)||void 0===c||c.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts state, missing selectedAccount`)));if("string"!=typeof t.internalAccounts.selectedAccount)return void(null===(l=global.sentry)||void 0===l||l.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts.selectedAccount state of type '${typeof t.internalAccounts.selectedAccount}'`)));if(!(0,r.hasProperty)(t.internalAccounts,"accounts"))return void(null===(u=global.sentry)||void 0===u||u.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts state, missing accounts`)));if(!(0,s.isObject)(t.internalAccounts.accounts))return void(null===(d=global.sentry)||void 0===d||d.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts.accounts state of type '${typeof t.internalAccounts.accounts}'`)));if(0===Object.keys(t.internalAccounts.accounts).length)return void a.default.warn(`Migration ${i}: Skipping, no accounts found`);if(""===t.internalAccounts.selectedAccount)return void a.default.warn(`Migration ${i}: Skipping, no selected account set`);const h=Object.values(t.internalAccounts.accounts)[0];var p,b,m;if(!(0,s.isObject)(h))return void(null===(p=global.sentry)||void 0===p||p.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts.accounts state, entry found of type '${typeof h}'`)));if(!(0,r.hasProperty)(h,"id"))return void(null===(b=global.sentry)||void 0===b||b.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts.accounts state, entry found that is missing an id`)));if("string"!=typeof h.id)return void(null===(m=global.sentry)||void 0===m||m.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts.accounts state, entry found with an id of type '${typeof h.id}'`)));(0,r.hasProperty)(t.internalAccounts.accounts,t.internalAccounts.selectedAccount)||(t.internalAccounts.selectedAccount=h.id)}(t.data),t},n.version=void 0;var f,r=e("@metamask/utils"),s=e("lodash"),a=(f=e("loglevel"))&&f.__esModule?f:{default:f};const i=n.version=121.1}}},{package:"$root$",file:"app/scripts/migrations/121.1.ts"}],[268,{"../../../shared/constants/network":4993,"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=a,function(e){const t=e.NetworkController;if((0,f.hasProperty)(e,"NetworkController")&&(0,f.isObject)(t)&&(0,f.hasProperty)(t,"networkConfigurations")&&(0,f.isObject)(t.networkConfigurations))for(const e of Object.values(t.networkConfigurations))(0,f.isObject)(e)&&e.chainId===s.CHAIN_IDS.POLYGON&&((0,f.hasProperty)(e,"rpcPrefs")&&(0,f.isObject)(e.rpcPrefs)&&(0,f.hasProperty)(e.rpcPrefs,"imageUrl")&&"./images/matic-token.svg"===e.rpcPrefs.imageUrl&&(e.rpcPrefs.imageUrl="./images/pol-token.svg"),(0,f.hasProperty)(e,"ticker")&&"MATIC"===e.ticker&&(e.ticker="POL"));(0,f.hasProperty)(e,"NetworkController")&&(0,f.isObject)(t)&&(0,f.hasProperty)(t,"providerConfig")&&(0,f.isObject)(t.providerConfig)&&(0,f.hasProperty)(t.providerConfig,"chainId")&&t.providerConfig.chainId===s.CHAIN_IDS.POLYGON&&((0,f.hasProperty)(t.providerConfig,"rpcPrefs")&&(0,f.isObject)(t.providerConfig.rpcPrefs)&&(0,f.hasProperty)(t.providerConfig.rpcPrefs,"imageUrl")&&"./images/matic-token.svg"===t.providerConfig.rpcPrefs.imageUrl&&(t.providerConfig.rpcPrefs.imageUrl="./images/pol-token.svg"),(0,f.hasProperty)(t.providerConfig,"ticker")&&"MATIC"===t.providerConfig.ticker&&(t.providerConfig.ticker="POL"))}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash"),s=e("../../../shared/constants/network");const a=n.version=121.2}}},{package:"$root$",file:"app/scripts/migrations/121.2.ts"}],[269,{"../../../shared/constants/network":4993,"@metamask/controller-utils":1375,"@metamask/network-controller":1887,"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=o,function(e){const t=(null==e?void 0:e.NetworkController)||{},n=(null==t?void 0:t.providerConfig)||{};if((null==n?void 0:n.chainId)!==i.CHAIN_IDS.LINEA_GOERLI)return e;const o=e.NetworkController;(0,s.hasProperty)(e,"NetworkController")&&(0,f.isObject)(e.NetworkController)&&(0,s.hasProperty)(e.NetworkController,"providerConfig")&&(0,f.isObject)(e.NetworkController.providerConfig)&&(0,s.hasProperty)(e.NetworkController.providerConfig,"chainId")&&e.NetworkController.providerConfig.chainId===i.CHAIN_IDS.LINEA_GOERLI&&(o.providerConfig={type:r.NetworkType["linea-sepolia"],rpcPrefs:{},chainId:i.CHAIN_IDS.LINEA_SEPOLIA,nickname:i.LINEA_SEPOLIA_DISPLAY_NAME,rpcUrl:i.CHAIN_ID_TO_RPC_URL_MAP[i.CHAIN_IDS.LINEA_SEPOLIA],providerType:i.NETWORK_TYPES.LINEA_SEPOLIA,ticker:i.TEST_NETWORK_TICKER_MAP[i.NETWORK_TYPES.LINEA_SEPOLIA],id:i.NETWORK_TYPES.LINEA_SEPOLIA},o.selectedNetworkClientId=i.NETWORK_TYPES.LINEA_SEPOLIA,o.networksMetadata={...o.networksMetadata,"linea-sepolia":{EIPS:{1559:!0},status:a.NetworkStatus.Available}})}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/controller-utils"),s=e("@metamask/utils"),a=e("@metamask/network-controller"),i=e("../../../shared/constants/network");const o=n.version=121}}},{package:"$root$",file:"app/scripts/migrations/121.ts"}],[270,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=s,function(e){var t;if(!(0,r.hasProperty)(e,"PreferencesController"))return;if(!(0,r.isObject)(e.PreferencesController)){var n,f;const t=typeof e.PreferencesController;null===(n=global.sentry)||void 0===n||null===(f=n.captureException)||void 0===f||f.call(n,new Error(`state.PreferencesController is type: ${t}`))}(0,r.isObject)(null===(t=e.PreferencesController)||void 0===t?void 0:t.preferences)||(e.PreferencesController={preferences:{}});e.PreferencesController.preferences.redesignedConfirmationsEnabled=!0}(t.data),t},n.version=void 0;var f=e("lodash"),r=e("@metamask/utils");const s=n.version=122}}},{package:"$root$",file:"app/scripts/migrations/122.ts"}],[2708,{assert:3388,buffer:3392,"component-type":3451,"join-component":3957},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var f=e("component-type"),r=e("join-component"),s=e("assert"),a=32768;t.exports=function(e,t){switch(o(e),t=t||e.type,s(t,"You must pass an event type."),t){case"track":return function(e){s(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".'),s(e.event,'You must pass an "event".')}(e);case"group":return function(e){s(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".'),s(e.groupId,'You must pass a "groupId".')}(e);case"identify":case"page":case"screen":return function(e){s(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".')}(e);case"alias":return function(e){s(e.userId,'You must pass a "userId".'),s(e.previousId,'You must pass a "previousId".')}(e);default:s(0,'Invalid event type: "'+t+'"')}};var i={anonymousId:["string","number"],category:"string",context:"object",event:"string",groupId:["string","number"],integrations:"object",name:"string",previousId:["string","number"],timestamp:"date",userId:["string","number"],type:"string"};function o(e){s("object"===f(e),"You must pass a message object.");var t=JSON.stringify(e);for(var o in s(n.byteLength(t,"utf8")<a,"Your message must be < 32kb."),i){var c=e[o];if(c){var l=i[o];"array"!==f(l)&&(l=[l]);var u="object"===l[0]?"an":"a";s(l.some((function(e){return f(c)===e})),'"'+o+'" must be '+u+" "+r(l,"or")+".")}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@segment/loosely-validate-event",file:"node_modules/@segment/loosely-validate-event/index.js"}],[271,{lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=r,function(e){const t=null==e?void 0:e.PreferencesController;if(null!=t&&t.preferences){var n;const e=null==t?void 0:t.useNonceField,f=null==t||null===(n=t.featureFlags)||void 0===n?void 0:n.sendHexData;t.preferences.showConfirmationAdvancedDetails=e||f}}(t.data),t},n.version=void 0;var f=e("lodash");const r=n.version=123}}},{package:"$root$",file:"app/scripts/migrations/123.ts"}],[272,{lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,f.cloneDeep)(e);return t.meta.version=r,function(e){const t=null==e?void 0:e.PreferencesController,n=null==t?void 0:t.preferences;n&&(n.redesignedTransactionsEnabled=!1)}(t.data),t},n.version=void 0;var f=e("lodash");const r=n.version=124}}},{package:"$root$",file:"app/scripts/migrations/124.ts"}],[273,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){(0,f.hasProperty)(e,"PreferencesController")&&(0,f.isObject)(e.PreferencesController)&&!0===e.PreferencesController.useExternalServices&&(e.PreferencesController.useTokenDetection=!0);(0,f.hasProperty)(e,"AppMetadataController")&&(0,f.isObject)(e.AppMetadataController)&&delete e.AppMetadataController.showTokenAutodetectModalOnUpgrade}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=125.1}}},{package:"$root$",file:"app/scripts/migrations/125.1.ts"}],[274,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){(0,f.hasProperty)(e,"TxController")&&delete e.TxController}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=125}}},{package:"$root$",file:"app/scripts/migrations/125.ts"}],[275,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){if((0,f.hasProperty)(e,"PhishingController")&&(0,f.isObject)(e.PhishingController)&&(0,f.hasProperty)(e.PhishingController,"phishingLists")){const t=e.PhishingController;if(!Array.isArray(t.phishingLists))return console.error(`Migration ${s}: Invalid PhishingController.phishingLists state`),e;t.phishingLists=t.phishingLists.filter((e=>"MetaMask"===e.name)),e.PhishingController=t}}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=126.1}}},{package:"$root$",file:"app/scripts/migrations/126.1.ts"}],[276,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){(0,f.hasProperty)(e,"NetworkController")&&(0,f.isObject)(e.NetworkController)&&delete e.NetworkController.providerConfig}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=126}}},{package:"$root$",file:"app/scripts/migrations/126.ts"}],[277,{"../../../shared/constants/network":4993,"@metamask/utils":2620,lodash:4111,"uri-js":4879},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=o,function(e){var t;var n,r,i,o,c,l,u,d;if(!(0,f.hasProperty)(e,"NetworkController"))return null===(n=global.sentry)||void 0===n||null===(r=n.captureException)||void 0===r||r.call(n,new Error("state.NetworkController is not defined")),e;if(!(0,f.isObject)(e.NetworkController))return null===(i=global.sentry)||void 0===i||null===(o=i.captureException)||void 0===o||o.call(i,new Error("typeof state.NetworkController is "+typeof e.NetworkController)),e;if(!(0,f.hasProperty)(e,"TransactionController"))return null===(c=global.sentry)||void 0===c||null===(l=c.captureException)||void 0===l||l.call(c,new Error("state.TransactionController is not defined")),e;if(!(0,f.isObject)(e.TransactionController))return null===(u=global.sentry)||void 0===u||null===(d=u.captureException)||void 0===d||d.call(u,new Error("typeof state.TransactionController is "+typeof e.TransactionController)),e;const h=e.NetworkController;let p=(0,f.isObject)(h.networkConfigurations)?Object.values(h.networkConfigurations):[];p=[{type:"infura",id:"mainnet",chainId:"0x1",ticker:"ETH",nickname:a.MAINNET_DISPLAY_NAME,rpcUrl:"https://mainnet.infura.io/v3/{infuraProjectId}",rpcPrefs:{blockExplorerUrl:"https://etherscan.io"}},{type:"infura",id:"sepolia",chainId:"0xaa36a7",ticker:"SepoliaETH",nickname:a.SEPOLIA_DISPLAY_NAME,rpcUrl:"https://sepolia.infura.io/v3/{infuraProjectId}",rpcPrefs:{blockExplorerUrl:"https://sepolia.etherscan.io"}},{type:"infura",id:"linea-sepolia",chainId:"0xe705",ticker:"LineaETH",nickname:a.LINEA_SEPOLIA_DISPLAY_NAME,rpcUrl:"https://linea-sepolia.infura.io/v3/{infuraProjectId}",rpcPrefs:{blockExplorerUrl:"https://sepolia.lineascan.build"}},{type:"infura",id:"linea-mainnet",chainId:"0xe708",ticker:"ETH",nickname:a.LINEA_MAINNET_DISPLAY_NAME,rpcUrl:"https://linea-mainnet.infura.io/v3/{infuraProjectId}",rpcPrefs:{blockExplorerUrl:"https://lineascan.build"}},...p];const b=p.reduce(((e,t)=>{var n;(0,f.isObject)(t)&&"string"==typeof t.chainId&&(e[n=t.chainId]??(e[n]=[])).push(t);return e}),{}),m=Array.isArray(e.TransactionController.transactions)?e.TransactionController.transactions.filter((e=>(0,f.isObject)(e)&&"number"==typeof e.time&&"string"==typeof e.networkClientId)).sort(((e,t)=>t.time-e.time)):[],g=Object.entries(b).reduce(((e,[t,n])=>{var r,i,o,c;let l;l=n.find((e=>e.id===h.selectedNetworkClientId)),l||m.filter((e=>e.chainId===t)).some((e=>l=n.find((t=>t.id===e.networkClientId)))),l||(l=n.find((e=>"infura"!==e.type)));const u=n.reduce(((t,n)=>{if(n.id&&n.rpcUrl&&"string"==typeof n.rpcUrl&&function(e){const t=s.parse(e);return t.error===undefined&&("http"===t.scheme||"https"===t.scheme)}(n.rpcUrl)){const r=p.some((e=>(0,f.isObject)(e)&&"string"==typeof e.rpcUrl&&"string"==typeof n.rpcUrl&&e.id!==n.id&&s.equal(e.rpcUrl,n.rpcUrl)&&e.id===h.selectedNetworkClientId)),a=[...Object.values(e).flatMap((e=>(0,f.isObject)(e)?e.rpcEndpoints:[])),...t].some((e=>(0,f.isObject)(e)&&"string"==typeof e.url&&"string"==typeof n.rpcUrl&&s.equal(e.url,n.rpcUrl)));r||a||t.push({networkClientId:n.id,url:n.rpcUrl,type:"infura"===n.type?"infura":"custom",..."infura"!==n.type&&"string"==typeof n.nickname&&n.nickname&&{name:n.nickname}})}return t}),[]);if(0===u.length)return e;const d=Math.max(u.findIndex((e=>{var t;return e.networkClientId===(null===(t=l)||void 0===t?void 0:t.id)})),0),b=[...n.reduce(((e,t)=>((0,f.isObject)(t.rpcPrefs)&&"string"==typeof t.rpcPrefs.blockExplorerUrl&&t.rpcPrefs.blockExplorerUrl&&e.add(t.rpcPrefs.blockExplorerUrl),e)),new Set)],g=0===b.length?undefined:Math.max(b.findIndex((e=>{var t;return(0,f.isObject)(null===(t=l)||void 0===t?void 0:t.rpcPrefs)&&e===l.rpcPrefs.blockExplorerUrl})),0),y=a.NETWORK_TO_NAME_MAP[t]??(null===(r=l)||void 0===r?void 0:r.nickname)??(null===(i=n.find((e=>e.nickname)))||void 0===i?void 0:i.nickname),v=a.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[t]??(null===(o=l)||void 0===o?void 0:o.ticker)??(null===(c=n.find((e=>e.ticker)))||void 0===c?void 0:c.ticker);return e[t]={chainId:t,rpcEndpoints:u,defaultRpcEndpointIndex:d,blockExplorerUrls:b,...g!==undefined&&{defaultBlockExplorerUrlIndex:g},name:y,nativeCurrency:v},e}),{}),y=e=>{const t=p.find((t=>(0,f.isObject)(t)&&t.id===e));return(0,f.isObject)(t)&&"string"==typeof(null==t?void 0:t.chainId)?null==t?void 0:t.chainId:undefined};let v=null===(t=Object.values(g).flatMap((e=>(0,f.isObject)(e)&&Array.isArray(e.rpcEndpoints)?e.rpcEndpoints:[])).find((e=>e.networkClientId===h.selectedNetworkClientId)))||void 0===t?void 0:t.networkClientId;if(!v){const e=g[y(h.selectedNetworkClientId)??"0x1"];v=(0,f.isObject)(e)&&Array.isArray(e.rpcEndpoints)&&"number"==typeof e.defaultRpcEndpointIndex?e.rpcEndpoints[e.defaultRpcEndpointIndex].networkClientId:"mainnet"}if((0,f.hasProperty)(e,"SelectedNetworkController")&&(0,f.isObject)(e.SelectedNetworkController)&&(0,f.hasProperty)(e.SelectedNetworkController,"domains")&&(0,f.isObject)(e.SelectedNetworkController.domains))for(const[t,n]of Object.entries(e.SelectedNetworkController.domains)){let r;const s=y(n);if(s){const e=g[s];(0,f.isObject)(e)&&Array.isArray(e.rpcEndpoints)&&"number"==typeof e.defaultRpcEndpointIndex&&(r=e.rpcEndpoints[e.defaultRpcEndpointIndex].networkClientId)}r?e.SelectedNetworkController.domains[t]=r:delete e.SelectedNetworkController.domains[t]}e.NetworkController={selectedNetworkClientId:v,networkConfigurationsByChainId:g,networksMetadata:h.networksMetadata??{}},(0,f.hasProperty)(e,"PreferencesController")&&(0,f.isObject)(e.PreferencesController)&&(0,f.hasProperty)(e.PreferencesController,"preferences")&&(0,f.isObject)(e.PreferencesController.preferences)&&(e.PreferencesController.preferences.showMultiRpcModal=Object.values(g).some((e=>(0,f.isObject)(e)&&Array.isArray(e.rpcEndpoints)&&e.rpcEndpoints.length>1)));(0,f.hasProperty)(e,"NetworkOrderController")&&(0,f.isObject)(e.NetworkOrderController)&&Array.isArray(e.NetworkOrderController.orderedNetworkList)&&(e.NetworkOrderController.orderedNetworkList=[...new Set(e.NetworkOrderController.orderedNetworkList.map((e=>e.networkId)))].map((e=>({networkId:e}))))}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var f={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(f,s,a):f[s]=e[s]}return f.default=e,n&&n.set(e,f),f}(e("uri-js")),a=e("../../../shared/constants/network");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}const o=n.version=127}}},{package:"$root$",file:"app/scripts/migrations/127.ts"}],[278,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){(0,f.hasProperty)(e,"PreferencesController")&&(0,f.isObject)(e.PreferencesController)&&(0,f.isObject)(e.PreferencesController.preferences)&&delete e.PreferencesController.preferences.useNativeCurrencyAsPrimaryCurrency}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=128}}},{package:"$root$",file:"app/scripts/migrations/128.ts"}],[279,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){(0,f.hasProperty)(e,"PreferencesController")&&(0,f.isObject)(e.PreferencesController)&&(0,f.isObject)(e.PreferencesController.preferences)&&e.PreferencesController.preferences.shouldShowAggregatedBalancePopover===undefined&&(e.PreferencesController.preferences.shouldShowAggregatedBalancePopover=!0)}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=129}}},{package:"$root$",file:"app/scripts/migrations/129.ts"}],[280,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){(0,f.hasProperty)(e,"PreferencesController")&&(0,f.isObject)(e.PreferencesController)&&(0,f.hasProperty)(e.PreferencesController,"preferences")&&(0,f.isObject)(e.PreferencesController.preferences)&&!e.PreferencesController.preferences.tokenSortConfig&&(e.PreferencesController.preferences.tokenSortConfig={key:"tokenFiatAmount",order:"dsc",sortCallback:"stringNumeric"})}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=130}}},{package:"$root$",file:"app/scripts/migrations/130.ts"}],[281,{"@metamask/utils":2620,lodash:4111,loglevel:4117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=i,function(e){if(!(0,r.hasProperty)(e,"AccountsController"))return;const t=e.AccountsController;var n,f,o,c,l,u,d;if(!(0,s.isObject)(t))return void(null===(n=global.sentry)||void 0===n||n.captureException(new Error(`Migration ${i}: Invalid AccountsController state of type '${typeof t}'`)));if(!(0,r.hasProperty)(t,"internalAccounts"))return void(null===(f=global.sentry)||void 0===f||f.captureException(new Error(`Migration ${i}: Invalid AccountsController state, missing internalAccounts`)));if(!(0,s.isObject)(t.internalAccounts))return void(null===(o=global.sentry)||void 0===o||o.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts state of type '${typeof t.internalAccounts}'`)));if(!(0,r.hasProperty)(t.internalAccounts,"selectedAccount"))return void(null===(c=global.sentry)||void 0===c||c.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts state, missing selectedAccount`)));if("string"!=typeof t.internalAccounts.selectedAccount)return void(null===(l=global.sentry)||void 0===l||l.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts.selectedAccount state of type '${typeof t.internalAccounts.selectedAccount}'`)));if(!(0,r.hasProperty)(t.internalAccounts,"accounts"))return void(null===(u=global.sentry)||void 0===u||u.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts state, missing accounts`)));if(!(0,s.isObject)(t.internalAccounts.accounts))return void(null===(d=global.sentry)||void 0===d||d.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts.accounts state of type '${typeof t.internalAccounts.accounts}'`)));if(0===Object.keys(t.internalAccounts.accounts).length)return void(t.internalAccounts.selectedAccount="");if(""===t.internalAccounts.selectedAccount)return void a.default.warn(`Migration ${i}: Skipping, no selected account set`);const h=Object.values(t.internalAccounts.accounts)[0];var p,b,m;if(!(0,s.isObject)(h))return void(null===(p=global.sentry)||void 0===p||p.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts.accounts state, entry found of type '${typeof h}'`)));if(!(0,r.hasProperty)(h,"id"))return void(null===(b=global.sentry)||void 0===b||b.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts.accounts state, entry found that is missing an id`)));if("string"!=typeof h.id)return void(null===(m=global.sentry)||void 0===m||m.captureException(new Error(`Migration ${i}: Invalid AccountsController internalAccounts.accounts state, entry found with an id of type '${typeof h.id}'`)));(0,r.hasProperty)(t.internalAccounts.accounts,t.internalAccounts.selectedAccount)||(t.internalAccounts.selectedAccount=h.id)}(t.data),t},n.version=void 0;var f,r=e("@metamask/utils"),s=e("lodash"),a=(f=e("loglevel"))&&f.__esModule?f:{default:f};const i=n.version=131}}},{package:"$root$",file:"app/scripts/migrations/131.ts"}],[282,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){var t;if(!(0,f.isObject)(null==e?void 0:e.PreferencesController))return e;(0,f.isObject)(null===(t=e.PreferencesController)||void 0===t?void 0:t.preferences)||(e.PreferencesController={...e.PreferencesController,preferences:{}});const n=e.PreferencesController;n.preferences.redesignedTransactionsEnabled=!0}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=132}}},{package:"$root$",file:"app/scripts/migrations/132.ts"}],[283,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){(0,f.hasProperty)(e,"NotificationController")&&delete e.NotificationController}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=133}}},{package:"$root$",file:"app/scripts/migrations/133.ts"}],[284,{"@metamask/utils":2620,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.migrate=async function(e){const t=(0,r.cloneDeep)(e);return t.meta.version=s,function(e){(0,f.hasProperty)(e,"AppStateController")&&(0,f.isObject)(e.AppStateController)&&(0,f.hasProperty)(e.AppStateController,"usedNetworks")&&(console.log("Removing usedNetworks from AppStateController"),delete e.AppStateController.usedNetworks)}(t.data),t},n.version=void 0;var f=e("@metamask/utils"),r=e("lodash");const s=n.version=134}}},{package:"$root$",file:"app/scripts/migrations/134.ts"}],[285,{"@metamask/transaction-controller":2523,lodash:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return function(s){const a=(0,f.cloneDeep)(s);a.meta.version=e;try{const e=function(e,t,n){const f=e,{TransactionController:s}=f;if(s&&s.transactions){const{transactions:e}=s;f.TransactionController.transactions=e.map((e=>t(e)?(e.status=r.TransactionStatus.failed,e.err={message:n,note:`Tx automatically failed by migration because ${n}`},e):e))}return f}(a.data,n,t);a.data=e}catch(t){console.warn(`MetaMask Migration #${e}${t.stack}`)}return Promise.resolve(a)}};var f=e("lodash"),r=e("@metamask/transaction-controller")}}},{package:"$root$",file:"app/scripts/migrations/fail-tx.js"}],[286,{"./002":136,"./003":137,"./004":138,"./005":139,"./006":140,"./007":141,"./008":142,"./009":143,"./010":144,"./011":145,"./012":146,"./013":147,"./014":148,"./015":149,"./016":150,"./017":151,"./018":152,"./019":153,"./020":154,"./021":155,"./022":156,"./023":157,"./024":158,"./025":159,"./026":160,"./027":161,"./028":162,"./029":163,"./030":164,"./031":165,"./032":166,"./033":167,"./034":168,"./035":169,"./036":170,"./037":171,"./038":172,"./039":173,"./040":174,"./041":175,"./042":176,"./043":177,"./044":178,"./045":179,"./046":180,"./047":181,"./048":182,"./049":183,"./050":184,"./051":185,"./052":186,"./053":187,"./054":188,"./055":189,"./056":190,"./057":191,"./058":192,"./059":193,"./060":194,"./061":195,"./062":196,"./063":197,"./064":198,"./065":199,"./066":200,"./067":201,"./068":202,"./069":203,"./070":204,"./071":205,"./072":206,"./073":207,"./074":208,"./075":209,"./076":210,"./077":215,"./078":216,"./079":217,"./080":218,"./081":219,"./082":220,"./083":221,"./084":222,"./085":223,"./086":224,"./087":225,"./088":226,"./089":227,"./090":228,"./091":229,"./092":233,"./092.1":230,"./092.2":231,"./092.3":232,"./093":234,"./094":235,"./095":236,"./096":237,"./097":238,"./098":239,"./099":240,"./100":241,"./101":242,"./102":243,"./103":244,"./104":245,"./105":246,"./106":247,"./107":248,"./108":249,"./109":250,"./110":251,"./111":252,"./112":253,"./113":254,"./114":255,"./115":256,"./116":257,"./117":258,"./118":259,"./119":260,"./120":266,"./120.1":261,"./120.2":262,"./120.4":263,"./120.5":264,"./120.6":265,"./121":269,"./121.1":267,"./121.2":268,"./122":270,"./123":271,"./124":272,"./125":274,"./125.1":273,"./126":276,"./126.1":275,"./127":277,"./128":278,"./129":279,"./130":280,"./131":281,"./132":282,"./133":283,"./134":284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const f=[e("./002").default,e("./003").default,e("./004").default,e("./005").default,e("./006").default,e("./007").default,e("./008").default,e("./009").default,e("./010").default,e("./011").default,e("./012").default,e("./013").default,e("./014").default,e("./015").default,e("./016").default,e("./017").default,e("./018").default,e("./019").default,e("./020").default,e("./021").default,e("./022").default,e("./023").default,e("./024").default,e("./025").default,e("./026").default,e("./027").default,e("./028").default,e("./029").default,e("./030").default,e("./031").default,e("./032").default,e("./033").default,e("./034").default,e("./035").default,e("./036").default,e("./037").default,e("./038").default,e("./039").default,e("./040").default,e("./041").default,e("./042").default,e("./043").default,e("./044").default,e("./045").default,e("./046").default,e("./047").default,e("./048").default,e("./049").default,e("./050").default,e("./051").default,e("./052").default,e("./053").default,e("./054").default,e("./055").default,e("./056").default,e("./057").default,e("./058").default,e("./059").default,e("./060").default,e("./061").default,e("./062").default,e("./063").default,e("./064").default,e("./065").default,e("./066").default,e("./067").default,e("./068").default,e("./069").default,e("./070").default,e("./071").default,e("./072").default,e("./073").default,e("./074").default,e("./075").default,e("./076").default,e("./077").default,e("./078"),e("./079").default,e("./080").default,e("./081"),e("./082"),e("./083"),e("./084"),e("./085"),e("./086"),e("./087"),e("./088"),e("./089"),e("./090"),e("./091"),e("./092"),e("./092.1"),e("./092.2"),e("./092.3"),e("./093"),e("./094"),e("./095"),e("./096"),e("./097"),e("./098"),e("./099"),e("./100"),e("./101"),e("./102"),e("./103"),e("./104"),e("./105"),e("./106"),e("./107"),e("./108"),e("./109"),e("./110"),e("./111"),e("./112"),e("./113"),e("./114"),e("./115"),e("./116"),e("./117"),e("./118"),e("./119"),e("./120"),e("./120.1"),e("./120.2"),e("./120.4"),e("./120.5"),e("./120.6"),e("./121"),e("./121.1"),e("./121.2"),e("./122"),e("./123"),e("./124"),e("./125"),e("./125.1"),e("./126"),e("./126.1"),e("./127"),e("./128"),e("./129"),e("./130"),e("./131"),e("./132"),e("./133"),e("./134")];n.default=f}}},{package:"$root$",file:"app/scripts/migrations/index.js"}],[287,{"../../shared/constants/offscreen-communication":4995,"../../test/e2e/background-socket/socket-background-to-mocha":5060,"@sentry/browser":2747},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createOffscreen=async function(){const{chrome:e}=globalThis;if(!e.offscreen)return;let t;const n=new Promise((n=>{t=f=>{f.target===r.OffscreenCommunicationTarget.extensionMain&&f.isBooted&&(e.runtime.onMessage.removeListener(t),n())},e.runtime.onMessage.addListener(t)}));try{const t=await async function(){const{chrome:e,clients:t}=globalThis;if("getContexts"in e.runtime){return(await e.runtime.getContexts({contextTypes:["OFFSCREEN_DOCUMENT"]})).length>0}const n=await t.matchAll(),f=e.runtime.getURL("offscreen.html");return n.some((e=>e.url===f))}();t&&(console.debug("Found existing offscreen document, closing."),await e.offscreen.closeDocument()),await e.offscreen.createDocument({url:"./offscreen.html",reasons:["IFRAME_SCRIPTING"],justification:"Used for Hardware Wallet and Snaps scripts to communicate with the extension."})}catch(n){return t&&e.runtime.onMessage.removeListener(t),void(0,f.captureException)(n)}const s=new Promise((e=>{setTimeout(e,r.OFFSCREEN_LOAD_TIMEOUT)}));await Promise.race([n,s]),console.debug("Offscreen iframe loaded")};var f=e("@sentry/browser"),r=e("../../shared/constants/offscreen-communication");e("../../test/e2e/background-socket/socket-background-to-mocha")}}},{package:"$root$",file:"app/scripts/offscreen.js"}],[289,{"../../../shared/modules/fetch-with-timeout":5034,"@metamask/utils":2620,cockatiel:3442},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RETRIES=n.MAX_CONSECUTIVE_FAILURES=n.DataDeletionService=void 0;var f,r=e("@metamask/utils"),s=e("cockatiel"),a=(f=e("../../../shared/modules/fetch-with-timeout"))&&f.__esModule?f:{default:f};function i(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function o(e,t){return e.get(l(e,t))}function c(e,t,n){return e.set(l(e,t),n),n}function l(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const u="test",d="https://metametrics.metamask.test",h=u,p=d,b=n.RETRIES=3,m=n.MAX_CONSECUTIVE_FAILURES=3*(1+b);function g(e){return function(e){return(0,r.isObject)(e)&&(0,r.hasProperty)(e,"statusCode")&&"number"==typeof e.statusCode}(e)&&e.statusCode>=500}function y({circuitBreakDuration:e,degradedThreshold:t,maximumConsecutiveFailures:n,onBreak:f,onDegraded:r,retries:a}){const i=(0,s.retry)(s.handleAll.orWhenResult(g),{maxAttempts:a,backoff:new s.ExponentialBackoff}),o=(0,s.circuitBreaker)(s.handleAll,{halfOpenAfter:e,breaker:new s.ConsecutiveBreaker(n)});return f&&o.onBreak(f),r&&(i.onGiveUp((()=>{o.state===s.CircuitState.Closed&&r()})),i.onSuccess((({duration:e})=>{o.state===s.CircuitState.Closed&&e>t&&r()}))),(0,s.wrap)(i,o)}var v=new WeakMap,w=new WeakMap,k=new WeakMap,S=new WeakMap,E=new WeakMap;n.DataDeletionService=class{constructor({analyticsDataDeletionEndpoint:e=p,analyticsDataDeletionSourceId:t=h,circuitBreakDuration:n=18e5,degradedThreshold:f=5e3,onBreak:r,onDegraded:s,timeout:o}={}){if(i(this,v,void 0),i(this,w,void 0),i(this,k,void 0),i(this,S,void 0),i(this,E,void 0),!e)throw new Error("Missing ANALYTICS_DATA_DELETION_ENDPOINT");if(!t)throw new Error("Missing ANALYTICS_DATA_DELETION_SOURCE_ID");c(E,this,(0,a.default)(o)),c(v,this,e),c(w,this,t),c(S,this,y({circuitBreakDuration:n,degradedThreshold:f,maximumConsecutiveFailures:m,onBreak:r,onDegraded:s,retries:b})),c(k,this,y({circuitBreakDuration:n,degradedThreshold:f,maximumConsecutiveFailures:m,onBreak:r,onDegraded:s,retries:b}))}async createDataDeletionRegulationTask(e){const t=await o(S,this).execute((()=>o(E,this).call(this,`${o(v,this)}/regulations/sources/${o(w,this)}`,{method:"POST",headers:{"Content-Type":"application/vnd.segment.v1+json"},body:JSON.stringify({regulationType:"DELETE_ONLY",subjectType:"USER_ID",subjectIds:[e]})})));if(!t.ok)throw new Error(`Fetch failed with status '${t.status}' for request`);return(await t.json()).data.regulateId}async fetchDeletionRegulationStatus(e){const t=await o(k,this).execute((()=>o(E,this).call(this,`${o(v,this)}/regulations/${e}`,{method:"GET",headers:{"Content-Type":"application/vnd.segment.v1+json"}})));if(!t.ok)throw new Error(`Fetch failed with status '${t.status}' for request`);return(await t.json()).data.regulation.overallStatus}}}}},{package:"$root$",file:"app/scripts/services/data-deletion-service.ts"}],[290,{"@metamask/ens-resolver-snap/dist/preinstalled-snap.json":1404,"@metamask/message-signing-snap/dist/preinstalled-snap.json":1839},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var f=s(e("@metamask/message-signing-snap/dist/preinstalled-snap.json")),r=s(e("@metamask/ens-resolver-snap/dist/preinstalled-snap.json"));function s(e){return e&&e.__esModule?e:{default:e}}const a=Object.freeze([f.default,r.default]);n.default=a}}},{package:"$root$",file:"app/scripts/snaps/preinstalled-snaps.ts"}],[2920,{"@metamask/eth-sig-util":1536,tslib:4858},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.transformTypedData=void 0;const f=e("tslib").__importStar(e("@metamask/eth-sig-util"));function r(e){switch(Object.prototype.toString.call(e)){case"[object Object]":{const t=Object.keys(e).map((t=>[t,r(e[t])]));return Object.fromEntries(t)}case"[object Array]":return e.map((e=>r(e)));case"[object BigInt]":return e.toString();default:return e}}n.transformTypedData=(e,t)=>{if(!t)throw new Error("Trezor: Only version 4 of typed data signing is supported");const n=f.SignTypedDataVersion.V4,{types:s,primaryType:a,domain:i,message:o}=f.TypedDataUtils.sanitizeData(e),c=f.TypedDataUtils.hashStruct("EIP712Domain",r(i),s,n).toString("hex");let l=null;return"EIP712Domain"!==a&&(l=f.TypedDataUtils.hashStruct(a,r(o),s,n).toString("hex")),Object.assign({domain_separator_hash:c,message_hash:l},e)},n.default=n.transformTypedData}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-plugin-ethereum",file:"node_modules/@trezor/connect-plugin-ethereum/lib/index.js"}],[3051,{"./types.js":3052},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var f=e("./types.js");const r={type:"xstate.init"},s="xstate.assign";function a(e){return e===undefined?[]:[].concat(e)}function i(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function o(e){return t=>e===t}function c(e){return"string"==typeof e?{type:e}:e}function l(e,t){return{value:e,context:t,actions:[],changed:!1,matches:o(e)}}function u(e,t,n){let f=t,r=!1;return[e.filter((e=>{if(e.type===s){r=!0;let t=Object.assign({},f);return"function"==typeof e.assignment?t=e.assignment(f,n):Object.keys(e.assignment).forEach((r=>{t[r]="function"==typeof e.assignment[r]?e.assignment[r](f,n):e.assignment[r]})),f=t,!1}return!0})),f,r]}const d=(e,t)=>e.actions.forEach((({exec:n})=>n&&n(e.context,t)));Object.defineProperty(n,"InterpreterStatus",{enumerable:!0,get:function(){return f.InterpreterStatus}}),n.assign=function(e){return{type:s,assignment:e}},n.createMachine=function(e,t={}){const[n,f]=u(a(e.states[e.initial].entry).map((e=>i(e,t.actions))),e.context,r),s={config:e,_options:t,initialState:{value:e.initial,actions:n,context:f,matches:o(e.initial)},transition:(t,n)=>{const{value:f,context:r}="string"==typeof t?{value:t,context:e.context}:t,d=c(n),h=e.states[f];if(h.on){const t=a(h.on[d.type]);for(const n of t){if(n===undefined)return l(f,r);const{target:t,actions:c=[],cond:p=(()=>!0)}="string"==typeof n?{target:n}:n,b=t===undefined,m=null!=t?t:f,g=e.states[m];if(p(r,d)){const e=(b?a(c):[].concat(h.exit,c,g.entry).filter((e=>e))).map((e=>i(e,s._options.actions))),[n,l,p]=u(e,r,d),m=null!=t?t:f;return{value:m,context:l,actions:n,changed:t!==f||n.length>0||p,matches:o(m)}}}}return l(f,r)}};return s},n.interpret=function(e){let t=e.initialState,n=f.InterpreterStatus.NotStarted;const s=new Set,a={_machine:e,send:r=>{n===f.InterpreterStatus.Running&&(t=e.transition(t,r),d(t,c(r)),s.forEach((e=>e(t))))},subscribe:e=>(s.add(e),e(t),{unsubscribe:()=>s.delete(e)}),start:s=>{if(s){const n="object"==typeof s?s:{context:e.config.context,value:s};t={value:n.value,actions:[],context:n.context,matches:o(n.value)}}else t=e.initialState;return n=f.InterpreterStatus.Running,d(t,r),a},stop:()=>(n=f.InterpreterStatus.Stopped,s.clear(),a),get state(){return t},get status(){return n}};return a}}}},{package:"@metamask/snaps-controllers>@xstate/fsm",file:"node_modules/@xstate/fsm/lib/index.js"}],[3052,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f;Object.defineProperty(n,"__esModule",{value:!0}),n.InterpreterStatus=void 0,(f=n.InterpreterStatus||(n.InterpreterStatus={}))[f.NotStarted=0]="NotStarted",f[f.Running=1]="Running",f[f.Stopped=2]="Stopped"}}},{package:"@metamask/snaps-controllers>@xstate/fsm",file:"node_modules/@xstate/fsm/lib/types.js"}],[33,{"../../../shared/constants/hardware-wallets":4985,"../../../shared/constants/network":4993,"../../../shared/constants/preferences":4998,"@metamask/base-controller":1349,"@metamask/preferences-controller":2039},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDefaultPreferencesControllerState=n.PreferencesController=void 0;var f=e("@metamask/base-controller"),r=e("@metamask/preferences-controller"),s=e("../../../shared/constants/network"),a=e("../../../shared/constants/hardware-wallets"),i=e("../../../shared/constants/preferences");function o(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}const c={[s.CHAIN_IDS.MAINNET]:!0,[s.CHAIN_IDS.LINEA_MAINNET]:!0},l={[s.CHAIN_IDS.GOERLI]:!0,[s.CHAIN_IDS.SEPOLIA]:!0,[s.CHAIN_IDS.LINEA_SEPOLIA]:!0},u=()=>({selectedAddress:"",useBlockie:!1,useNonceField:!1,usePhishDetect:!0,dismissSeedBackUpReminder:!1,overrideContentSecurityPolicyHeader:!0,useMultiAccountBalanceChecker:!0,useSafeChainsListValidation:!0,useTokenDetection:!0,useNftDetection:!0,use4ByteResolution:!0,useCurrencyRateCheck:!0,useRequestQueue:!0,openSeaEnabled:!0,securityAlertsEnabled:!0,watchEthereumAccountEnabled:!1,bitcoinSupportEnabled:!1,bitcoinTestnetSupportEnabled:!1,addSnapAccountEnabled:!1,advancedGasFee:{},featureFlags:{},incomingTransactionsPreferences:{...c,...l},knownMethodData:{},currentLocale:"",identities:{},lostIdentities:{},forgottenPassword:!1,preferences:{autoLockTimeLimit:undefined,showExtensionInFullSizeView:!1,showFiatInTestnets:!1,showTestNetworks:!1,smartTransactionsOptInStatus:!0,showNativeTokenAsMainBalance:!1,useNativeCurrencyAsPrimaryCurrency:!0,hideZeroBalanceTokens:!1,petnamesEnabled:!0,redesignedConfirmationsEnabled:!0,redesignedTransactionsEnabled:!0,featureNotificationsEnabled:!1,isRedesignedConfirmationsDeveloperEnabled:!1,showConfirmationAdvancedDetails:!1,showMultiRpcModal:!1,privacyMode:!1,shouldShowAggregatedBalancePopover:!0,tokenSortConfig:{key:"tokenFiatAmount",order:"dsc",sortCallback:"stringNumeric"},tokenNetworkFilter:{}},ipfsGateway:s.IPFS_DEFAULT_GATEWAY_URL,isIpfsGatewayEnabled:!0,useAddressBarEnsResolution:!0,ledgerTransportType:window.navigator.hid?a.LedgerTransportTypes.webhid:a.LedgerTransportTypes.u2f,snapRegistryList:{},theme:i.ThemeType.os,snapsAddSnapAccountModalDismissed:!1,useExternalNameSources:!0,useTransactionSimulations:!0,enableMV3TimestampSave:!0,useExternalServices:!0,isMultiAccountBalancesEnabled:!0,showIncomingTransactions:{[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.MAINNET]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.GOERLI]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.BSC]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.BSC_TESTNET]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.OPTIMISM]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.OPTIMISM_SEPOLIA]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.POLYGON]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.POLYGON_TESTNET]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.AVALANCHE]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.AVALANCHE_TESTNET]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.FANTOM]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.FANTOM_TESTNET]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.SEPOLIA]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.LINEA_GOERLI]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.LINEA_SEPOLIA]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.LINEA_MAINNET]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.MOONBEAM]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.MOONBEAM_TESTNET]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.MOONRIVER]:!0,[r.ETHERSCAN_SUPPORTED_CHAIN_IDS.GNOSIS]:!0}});n.getDefaultPreferencesControllerState=u;const d={selectedAddress:{persist:!0,anonymous:!1},useBlockie:{persist:!0,anonymous:!0},useNonceField:{persist:!0,anonymous:!0},usePhishDetect:{persist:!0,anonymous:!0},dismissSeedBackUpReminder:{persist:!0,anonymous:!0},overrideContentSecurityPolicyHeader:{persist:!0,anonymous:!0},useMultiAccountBalanceChecker:{persist:!0,anonymous:!0},useSafeChainsListValidation:{persist:!0,anonymous:!1},useTokenDetection:{persist:!0,anonymous:!0},useNftDetection:{persist:!0,anonymous:!0},use4ByteResolution:{persist:!0,anonymous:!0},useCurrencyRateCheck:{persist:!0,anonymous:!0},useRequestQueue:{persist:!0,anonymous:!0},openSeaEnabled:{persist:!0,anonymous:!0},securityAlertsEnabled:{persist:!0,anonymous:!1},watchEthereumAccountEnabled:{persist:!0,anonymous:!1},solanaSupportEnabled:{persist:!0,anonymous:!1},bitcoinSupportEnabled:{persist:!0,anonymous:!1},bitcoinTestnetSupportEnabled:{persist:!0,anonymous:!1},addSnapAccountEnabled:{persist:!0,anonymous:!1},advancedGasFee:{persist:!0,anonymous:!0},featureFlags:{persist:!0,anonymous:!0},incomingTransactionsPreferences:{persist:!0,anonymous:!0},knownMethodData:{persist:!0,anonymous:!1},currentLocale:{persist:!0,anonymous:!0},identities:{persist:!0,anonymous:!1},lostIdentities:{persist:!0,anonymous:!1},forgottenPassword:{persist:!0,anonymous:!0},preferences:{persist:!0,anonymous:!0},ipfsGateway:{persist:!0,anonymous:!1},isIpfsGatewayEnabled:{persist:!0,anonymous:!1},useAddressBarEnsResolution:{persist:!0,anonymous:!0},ledgerTransportType:{persist:!0,anonymous:!0},snapRegistryList:{persist:!0,anonymous:!1},theme:{persist:!0,anonymous:!0},snapsAddSnapAccountModalDismissed:{persist:!0,anonymous:!1},useExternalNameSources:{persist:!0,anonymous:!1},useTransactionSimulations:{persist:!0,anonymous:!0},enableMV3TimestampSave:{persist:!0,anonymous:!0},useExternalServices:{persist:!0,anonymous:!1},textDirection:{persist:!0,anonymous:!1},isMultiAccountBalancesEnabled:{persist:!0,anonymous:!0},showIncomingTransactions:{persist:!0,anonymous:!0}};var h=new WeakSet;class p extends f.BaseController{constructor({messenger:e,state:t}){const{networkConfigurationsByChainId:n}=e.call("NetworkController:getState"),f=Object.values(n??{}).reduce(((e,t)=>(e[t.chainId]=!0,e)),{});super({messenger:e,metadata:d,name:"PreferencesController",state:{...u(),incomingTransactionsPreferences:{...c,...f,...l},...t}}),o(this,h),this.messagingSystem.subscribe("AccountsController:stateChange",function(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}(h,this,b).bind(this)),globalThis.setPreference=(e,t)=>this.setFeatureFlag(e,t)}setPasswordForgotten(e){this.update((t=>{t.forgottenPassword=e}))}setUseBlockie(e){this.update((t=>{t.useBlockie=e}))}setUseNonceField(e){this.update((t=>{t.useNonceField=e}))}setUsePhishDetect(e){this.update((t=>{t.usePhishDetect=e}))}setUseMultiAccountBalanceChecker(e){this.update((t=>{t.useMultiAccountBalanceChecker=e}))}setUseSafeChainsListValidation(e){this.update((t=>{t.useSafeChainsListValidation=e}))}toggleExternalServices(e){this.update((t=>{t.useExternalServices=e})),this.setUseTokenDetection(e),this.setUseCurrencyRateCheck(e),this.setUsePhishDetect(e),this.setUseAddressBarEnsResolution(e),this.setOpenSeaEnabled(e),this.setUseNftDetection(e)}setUseTokenDetection(e){this.update((t=>{t.useTokenDetection=e}))}setUseNftDetection(e){this.update((t=>{t.useNftDetection=e}))}setUse4ByteResolution(e){this.update((t=>{t.use4ByteResolution=e}))}setUseCurrencyRateCheck(e){this.update((t=>{t.useCurrencyRateCheck=e}))}setUseRequestQueue(e){this.update((t=>{t.useRequestQueue=e}))}setOpenSeaEnabled(e){this.update((t=>{t.openSeaEnabled=e}))}setSecurityAlertsEnabled(e){this.update((t=>{t.securityAlertsEnabled=e}))}setAddSnapAccountEnabled(e){this.update((t=>{t.addSnapAccountEnabled=e}))}setBitcoinSupportEnabled(e){this.update((t=>{t.bitcoinSupportEnabled=e}))}setBitcoinTestnetSupportEnabled(e){this.update((t=>{t.bitcoinTestnetSupportEnabled=e}))}setUseExternalNameSources(e){this.update((t=>{t.useExternalNameSources=e}))}setUseTransactionSimulations(e){this.update((t=>{t.useTransactionSimulations=e}))}setAdvancedGasFee({chainId:e,gasFeePreferences:t}){const{advancedGasFee:n}=this.state;this.update((f=>{f.advancedGasFee={...n,[e]:t}}))}setTheme(e){this.update((t=>{t.theme=e}))}addKnownMethodData(e,t){const{knownMethodData:n}=this.state,f={...n};f[e]=t,this.update((e=>{e.knownMethodData=f}))}setCurrentLocale(e){const t=["ar","dv","fa","he","ku"].includes(e)?"rtl":"auto";return this.update((n=>{n.currentLocale=e,n.textDirection=t})),t}setSelectedAddress(e){const t=this.messagingSystem.call("AccountsController:getAccountByAddress",e);if(!t)throw new Error(`Identity for '${e} not found`);this.messagingSystem.call("AccountsController:setSelectedAccount",t.id)}getSelectedAddress(){return this.messagingSystem.call("AccountsController:getSelectedAccount").address}getUseRequestQueue(){return this.state.useRequestQueue}setAccountLabel(e,t){if(!e)throw new Error(`setAccountLabel requires a valid address, got ${String(e)}`);const n=this.messagingSystem.call("AccountsController:getAccountByAddress",e);return n?(this.messagingSystem.call("AccountsController:setAccountName",n.id,t),t):undefined}setFeatureFlag(e,t){const n={...this.state.featureFlags,[e]:t};return this.update((e=>{e.featureFlags=n})),n}setPreference(e,t){const n={...this.getPreferences(),[e]:t};return this.update((e=>{e.preferences=n})),n}getPreferences(){return this.state.preferences}getIpfsGateway(){return this.state.ipfsGateway}setIpfsGateway(e){return this.update((t=>{t.ipfsGateway=e})),e}setIsIpfsGatewayEnabled(e){this.update((t=>{t.isIpfsGatewayEnabled=e}))}setUseAddressBarEnsResolution(e){this.update((t=>{t.useAddressBarEnsResolution=e}))}setLedgerTransportPreference(e){return this.update((t=>{t.ledgerTransportType=e})),e}setDismissSeedBackUpReminder(e){this.update((t=>{t.dismissSeedBackUpReminder=e}))}setOverrideContentSecurityPolicyHeader(e){this.update((t=>{t.overrideContentSecurityPolicyHeader=e}))}setIncomingTransactionsPreferences(e,t){const n={...this.state.incomingTransactionsPreferences,[e]:t};this.update((e=>{e.incomingTransactionsPreferences=n}))}setServiceWorkerKeepAlivePreference(e){this.update((t=>{t.enableMV3TimestampSave=e}))}setSnapsAddSnapAccountModalDismissed(e){this.update((t=>{t.snapsAddSnapAccountModalDismissed=e}))}}function b(e){const{accounts:t,selectedAccount:n}=e.internalAccounts,f=t[n],{identities:r,lostIdentities:s}=this.state,a=Object.values(t).map((e=>e.address.toLowerCase())),i=Object.keys(r).reduce(((e,t)=>(a.includes(t.toLowerCase())&&(e[t]=r[t]),e)),{...s??{}}),o=Object.values(t).reduce(((e,t)=>(e[t.address]={address:t.address,name:t.metadata.name,lastSelected:t.metadata.lastSelected},e)),{});this.update((e=>{e.identities=o,e.lostIdentities=i,e.selectedAddress=(null==f?void 0:f.address)||""}))}n.PreferencesController=p}}},{package:"$root$",file:"app/scripts/controllers/preferences-controller.ts"}],[330,{buffer:3392},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Buffer:f}=e("buffer");t.exports=class{constructor(e,t,n,r){this.name=e,this.code=t,this.codeBuf=f.from(this.code),this.alphabet=r,this.engine=n(r)}encode(e){return this.engine.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.engine.decode(e)}}}}},{package:"@ensdomains/content-hash>multihashes>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/base.js"}],[331,{"./base.js":330,"./rfc4648":333,"./util":334,"base-x":3337},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f=e("base-x"),r=e("./base.js"),s=e("./rfc4648"),{decodeText:a,encodeText:i}=e("./util"),o=[["identity","\0",()=>({encode:a,decode:i}),""],["base2","0",s(1),"01"],["base8","7",s(3),"01234567"],["base10","9",f,"0123456789"],["base16","f",s(4),"0123456789abcdef"],["base16upper","F",s(4),"0123456789ABCDEF"],["base32hex","v",s(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",s(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",s(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",s(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",s(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",f,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",f,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",f,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",f,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],c=o.reduce(((e,t)=>(e[t[0]]=new r(t[0],t[1],t[2],t[3]),e)),{}),l=o.reduce(((e,t)=>(e[t[1]]=c[t[0]],e)),{});t.exports={names:c,codes:l}}}},{package:"@ensdomains/content-hash>multihashes>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/constants.js"}],[332,{"./constants":331,"./util":334,buffer:3392},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Buffer:f}=e("buffer"),r=e("./constants"),{decodeText:s,asBuffer:a}=e("./util");function i(e){if(r.names[e])return r.names[e];if(r.codes[e])return r.codes[e];throw new Error(`Unsupported encoding: ${e}`)}(n=t.exports=function(e,t){if(!t)throw new Error("requires an encoded buffer");const{name:n,codeBuf:r}=i(e);!function(e,t){const n=i(e);n.decode(s(t))}(n,t);const a=f.alloc(r.length+t.length);return a.set(r,0),a.set(t,r.length),a}).encode=function(e,t){const n=i(e);return f.concat([n.codeBuf,f.from(n.encode(t))])},n.decode=function(e){ArrayBuffer.isView(e)&&(e=s(e));const t=e[0];["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase());const n=i(e[0]);return a(n.decode(e.substring(1)))},n.isEncoded=function(e){if(e instanceof Uint8Array&&(e=s(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return i(e[0]).name}catch(e){return!1}},n.encoding=i,n.encodingFromData=function(e){return e instanceof Uint8Array&&(e=s(e)),i(e[0])},n.names=Object.freeze(r.names),n.codes=Object.freeze(r.codes)}}},{package:"@ensdomains/content-hash>multihashes>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/index.js"}],[333,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e=>t=>({encode:n=>((e,t,n)=>{const f="="===t[t.length-1],r=(1<<n)-1;let s="",a=0,i=0;for(let f=0;f<e.length;++f)for(i=i<<8|e[f],a+=8;a>n;)a-=n,s+=t[r&i>>a];if(a&&(s+=t[r&i<<n-a]),f)for(;s.length*n&7;)s+="=";return s})(n,t,e),decode:n=>((e,t,n)=>{const f={};for(let e=0;e<t.length;++e)f[t[e]]=e;let r=e.length;for(;"="===e[r-1];)--r;const s=new Uint8Array(r*n/8|0);let a=0,i=0,o=0;for(let t=0;t<r;++t){const r=f[e[t]];if(r===undefined)throw new SyntaxError("Invalid character "+e[t]);i=i<<n|r,a+=n,a>=8&&(a-=8,s[o++]=255&i>>a)}if(a>=n||255&i<<8-a)throw new SyntaxError("Unexpected end of data");return s})(n,t,e)})}}},{package:"@ensdomains/content-hash>multihashes>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/rfc4648.js"}],[3330,{_process:4252,timers:4845},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e,t){(function(){class f{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(e===undefined)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise(((n,f)=>{this.tasks.push((()=>{var e=!1;n((()=>{e||(e=!0,this.count++,this.sched())}))})),e&&e.nextTick?e.nextTick(this.sched.bind(this)):t(this.sched.bind(this))}))}use(e){return this.acquire().then((t=>e().then((e=>(t(),e))).catch((e=>{throw t(),e}))))}}n.Semaphore=f;n.Mutex=class extends f{constructor(){super(1)}}}).call(this)}).call(this,e("_process"),e("timers").setImmediate)}}},{package:"await-semaphore",file:"node_modules/await-semaphore/index.js"}],[3331,{"./lib/ascii":3332,"./lib/base64":3333,"./lib/hex":3334,"./lib/utf16le":3335,"./lib/utf8":3336},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f=e("./lib/ascii"),r=e("./lib/base64"),s=e("./lib/hex"),a=e("./lib/utf8"),i=e("./lib/utf16le"),o=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function c(e){switch(e){case"ascii":return f;case"base64":return r;case"hex":return s;case"utf8":case"utf-8":case undefined:return a;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i;default:throw new Error(`Unknown encoding: ${e}`)}}function l(e){return e instanceof Uint8Array}function u(e,t,n){return"string"==typeof e?function(e,t){const n=c(t),f=new Uint8Array(n.byteLength(e));return n.write(f,e,0,f.byteLength),f}(e,t):Array.isArray(e)?function(e){const t=new Uint8Array(e.length);return t.set(e),t}(e):ArrayBuffer.isView(e)?function(e){const t=new Uint8Array(e.byteLength);return t.set(e),t}(e):function(e,t,n){return new Uint8Array(e,t,n)}(e,t,n)}function d(e,t,n,f,r){if(0===e.byteLength)return-1;if("string"==typeof n?(f=n,n=0):n===undefined?n=r?0:e.length-1:n<0&&(n+=e.byteLength),n>=e.byteLength){if(r)return-1;n=e.byteLength-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t)t=u(t,f);else if("number"==typeof t)return t&=255,r?e.indexOf(t,n):e.lastIndexOf(t,n);if(0===t.byteLength)return-1;if(r){let f=-1;for(let r=n;r<e.byteLength;r++)if(e[r]===t[-1===f?0:r-f]){if(-1===f&&(f=r),r-f+1===t.byteLength)return f}else-1!==f&&(r-=r-f),f=-1}else{n+t.byteLength>e.byteLength&&(n=e.byteLength-t.byteLength);for(let f=n;f>=0;f--){let n=!0;for(let r=0;r<t.byteLength;r++)if(e[f+r]!==t[r]){n=!1;break}if(n)return f}}return-1}function h(e,t,n,f){return d(e,t,n,f,!0)}function p(e,t,n){const f=e[t];e[t]=e[n],e[n]=f}t.exports=n={isBuffer:l,isEncoding:function(e){try{return c(e),!0}catch{return!1}},alloc:function(e,t,f){const r=new Uint8Array(e);return t!==undefined&&n.fill(r,t,0,r.byteLength,f),r},allocUnsafe:function(e){return new Uint8Array(e)},allocUnsafeSlow:function(e){return new Uint8Array(e)},byteLength:function(e,t){return c(t).byteLength(e)},compare:function(e,t){if(e===t)return 0;const n=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let f=0;for(let r=n-n%4;f<r;f+=4){if(e.getUint32(f,o)!==t.getUint32(f,o))break}for(;f<n;f++){const n=e.getUint8(f),r=t.getUint8(f);if(n<r)return-1;if(n>r)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){t===undefined&&(t=e.reduce(((e,t)=>e+t.byteLength),0));const n=new Uint8Array(t);let f=0;for(const t of e){if(f+t.byteLength>n.byteLength){const e=t.subarray(0,n.byteLength-f);return n.set(e,f),n}n.set(t,f),f+=t.byteLength}return n},copy:function(e,t,n=0,f=0,r=e.byteLength){if(r>0&&r<f)return 0;if(r===f)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(n<0)throw new RangeError("targetStart is out of range");if(f<0||f>=e.byteLength)throw new RangeError("sourceStart is out of range");if(r<0)throw new RangeError("sourceEnd is out of range");n>=t.byteLength&&(n=t.byteLength),r>e.byteLength&&(r=e.byteLength),t.byteLength-n<r-f&&(r=t.length-n+f);const s=r-f;return e===t?t.copyWithin(n,f,r):t.set(e.subarray(f,r),n),s},equals:function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const n=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let f=0;for(let r=n-n%4;f<r;f+=4)if(e.getUint32(f,o)!==t.getUint32(f,o))return!1;for(;f<n;f++)if(e.getUint8(f)!==t.getUint8(f))return!1;return!0},fill:function(e,t,n,f,r){if("string"==typeof t?"string"==typeof n?(r=n,n=0,f=e.byteLength):"string"==typeof f&&(r=f,f=e.byteLength):"number"==typeof t?t&=255:"boolean"==typeof t&&(t=+t),n<0||e.byteLength<n||e.byteLength<f)throw new RangeError("Out of range index");if(n===undefined&&(n=0),f===undefined&&(f=e.byteLength),f<=n)return e;if(t||(t=0),"number"==typeof t)for(let r=n;r<f;++r)e[r]=t;else{const s=(t=l(t)?t:u(t,r)).byteLength;for(let r=0;r<f-n;++r)e[r+n]=t[r%s]}return e},from:u,includes:function(e,t,n,f){return-1!==h(e,t,n,f)},indexOf:h,lastIndexOf:function(e,t,n,f){return d(e,t,n,f,!1)},swap16:function(e){const t=e.byteLength;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<t;n+=2)p(e,n,n+1);return e},swap32:function(e){const t=e.byteLength;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<t;n+=4)p(e,n,n+3),p(e,n+1,n+2);return e},swap64:function(e){const t=e.byteLength;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<t;n+=8)p(e,n,n+7),p(e,n+1,n+6),p(e,n+2,n+5),p(e,n+3,n+4);return e},toBuffer:function(e){return e},toString:function(e,t,n=0,f=e.byteLength){const r=e.byteLength;return n>=r||f<=n?"":(n<0&&(n=0),f>r&&(f=r),(0!==n||f<r)&&(e=e.subarray(n,f)),c(t).toString(e))},write:function(e,t,n,f,r){return n===undefined?r="utf8":f===undefined&&"string"==typeof n?(r=n,n=undefined):r===undefined&&"string"==typeof f&&(r=f,f=undefined),c(r).write(e,t,n,f)},writeDoubleLE:function(e,t,n){return n===undefined&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(n,t,!0),n+8},writeFloatLE:function(e,t,n){return n===undefined&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(n,t,!0),n+4},writeUInt32LE:function(e,t,n){return n===undefined&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(n,t,!0),n+4},writeInt32LE:function(e,t,n){return n===undefined&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(n,t,!0),n+4},readDoubleLE:function(e,t){return t===undefined&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},readFloatLE:function(e,t){return t===undefined&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},readUInt32LE:function(e,t){return t===undefined&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)},readInt32LE:function(e,t){return t===undefined&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}}}}},{package:"@metamask/snaps-controllers>tar-stream>b4a",file:"node_modules/b4a/browser.js"}],[3332,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function f(e){return e.length}t.exports={byteLength:f,toString:function(e){const t=e.byteLength;let n="";for(let f=0;f<t;f++)n+=String.fromCharCode(e[f]);return n},write:function(e,t,n=0,r=f(t)){const s=Math.min(r,e.byteLength-n);for(let f=0;f<s;f++)e[n+f]=t.charCodeAt(f);return s}}}}},{package:"@metamask/snaps-controllers>tar-stream>b4a",file:"node_modules/b4a/lib/ascii.js"}],[3333,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256);for(let e=0;e<64;e++)r[f.charCodeAt(e)]=e;function s(e){let t=e.length;return 61===e.charCodeAt(t-1)&&t--,t>1&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}r[45]=62,r[95]=63,t.exports={byteLength:s,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r+=3)n+=f[e[r]>>2]+f[(3&e[r])<<4|e[r+1]>>4]+f[(15&e[r+1])<<2|e[r+2]>>6]+f[63&e[r+2]];return t%3==2?n=n.substring(0,n.length-1)+"=":t%3==1&&(n=n.substring(0,n.length-2)+"=="),n},write:function(e,t,n=0,f=s(t)){const a=Math.min(f,e.byteLength-n);for(let n=0,f=0;f<a;n+=4){const s=r[t.charCodeAt(n)],a=r[t.charCodeAt(n+1)],i=r[t.charCodeAt(n+2)],o=r[t.charCodeAt(n+3)];e[f++]=s<<2|a>>4,e[f++]=(15&a)<<4|i>>2,e[f++]=(3&i)<<6|63&o}return a}}}}},{package:"@metamask/snaps-controllers>tar-stream>b4a",file:"node_modules/b4a/lib/base64.js"}],[3334,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function f(e){return e.length>>>1}function r(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:void 0}t.exports={byteLength:f,toString:function(e){const t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let n="",f=0;for(let r=t-t%4;f<r;f+=4)n+=e.getUint32(f).toString(16).padStart(8,"0");for(;f<t;f++)n+=e.getUint8(f).toString(16).padStart(2,"0");return n},write:function(e,t,n=0,s=f(t)){const a=Math.min(s,e.byteLength-n);for(let f=0;f<a;f++){const s=r(t.charCodeAt(2*f)),a=r(t.charCodeAt(2*f+1));if(s===undefined||a===undefined)return e.subarray(0,f);e[n+f]=s<<4|a}return a}}}}},{package:"@metamask/snaps-controllers>tar-stream>b4a",file:"node_modules/b4a/lib/hex.js"}],[3335,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function f(e){return 2*e.length}t.exports={byteLength:f,toString:function(e){const t=e.byteLength;let n="";for(let f=0;f<t-1;f+=2)n+=String.fromCharCode(e[f]+256*e[f+1]);return n},write:function(e,t,n=0,r=f(t)){const s=Math.min(r,e.byteLength-n);let a=s;for(let f=0;f<t.length&&!((a-=2)<0);++f){const r=t.charCodeAt(f),s=r>>8,a=r%256;e[n+2*f]=a,e[n+2*f+1]=s}return s}}}}},{package:"@metamask/snaps-controllers>tar-stream>b4a",file:"node_modules/b4a/lib/utf16le.js"}],[3336,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function f(e){let t=0;for(let n=0,f=e.length;n<f;n++){const r=e.charCodeAt(n);if(r>=55296&&r<=56319&&n+1<f){const f=e.charCodeAt(n+1);if(f>=56320&&f<=57343){t+=4,n++;continue}}t+=r<=127?1:r<=2047?2:3}return t}let r,s;if("undefined"!=typeof TextDecoder){const e=new TextDecoder;r=function(t){return e.decode(t)}}else r=function(e){const t=e.byteLength;let n="",f=0;for(;f<t;){let r=e[f];if(r<=127){n+=String.fromCharCode(r),f++;continue}let s=0,a=0;if(r<=223?(s=1,a=31&r):r<=239?(s=2,a=15&r):r<=244&&(s=3,a=7&r),t-f-s>0){let t=0;for(;t<s;)r=e[f+t+1],a=a<<6|63&r,t+=1}else a=65533,s=t-f;n+=String.fromCodePoint(a),f+=s+1}return n};if("undefined"!=typeof TextEncoder){const e=new TextEncoder;s=function(t,n,r=0,s=f(n)){const a=Math.min(s,t.byteLength-r);return e.encodeInto(n,t.subarray(r,r+a)),a}}else s=function(e,t,n=0,r=f(t)){const s=Math.min(r,e.byteLength-n);e=e.subarray(n,n+s);let a=0,i=0;for(;a<t.length;){const n=t.codePointAt(a);if(n<=127){e[i++]=n,a++;continue}let f=0,r=0;for(n<=2047?(f=6,r=192):n<=65535?(f=12,r=224):n<=2097151&&(f=18,r=240),e[i++]=r|n>>f,f-=6;f>=0;)e[i++]=128|n>>f&63,f-=6;a+=n>=65536?2:1}return s};t.exports={byteLength:f,toString:r,write:s}}}},{package:"@metamask/snaps-controllers>tar-stream>b4a",file:"node_modules/b4a/lib/utf8.js"}],[3338,{"to-data-view":4848},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=e("to-data-view");t.exports=function(e,t,n){var r,s;switch(n=n||{},t){case"RFC3548":case"RFC4648":r="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",s=!0;break;case"RFC4648-HEX":r="0123456789ABCDEFGHIJKLMNOPQRSTUV",s=!0;break;case"Crockford":r="0123456789ABCDEFGHJKMNPQRSTVWXYZ",s=!1;break;default:throw new Error("Unknown base32 variant: "+t)}for(var a=n.padding!==undefined?n.padding:s,i=f(e),o=0,c=0,l="",u=0;u<i.byteLength;u++)for(c=c<<8|i.getUint8(u),o+=8;o>=5;)l+=r[c>>>o-5&31],o-=5;if(o>0&&(l+=r[c<<5-o&31]),a)for(;l.length%8!=0;)l+="=";return l}}}},{package:"base32-encode",file:"node_modules/base32-encode/index.js"}],[334,{buffer:3392,"web-encoding":4936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Buffer:f}=e("buffer"),{TextEncoder:r,TextDecoder:s}=e("web-encoding"),a=new s,i=new r;t.exports={decodeText:e=>a.decode(e),encodeText:e=>i.encode(e),asBuffer:({buffer:e,byteLength:t,byteOffset:n})=>f.from(e,n,t)}}}},{package:"@ensdomains/content-hash>multihashes>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/util.js"}],[3345,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){var n,f=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,r=Math.ceil,s=Math.floor,a="[BigNumber Error] ",i=a+"Number primitive has more than 15 significant digits: ",o=1e14,c=14,l=9007199254740991,u=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,h=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function b(e){for(var t,n,f=1,r=e.length,s=e[0]+"";f<r;){for(t=e[f++]+"",n=c-t.length;n--;t="0"+t);s+=t}for(r=s.length;48===s.charCodeAt(--r););return s.slice(0,r+1||1)}function m(e,t){var n,f,r=e.c,s=t.c,a=e.s,i=t.s,o=e.e,c=t.e;if(!a||!i)return null;if(n=r&&!r[0],f=s&&!s[0],n||f)return n?f?0:-i:a;if(a!=i)return a;if(n=a<0,f=o==c,!r||!s)return f?0:!r^n?1:-1;if(!f)return o>c^n?1:-1;for(i=(o=r.length)<(c=s.length)?o:c,a=0;a<i;a++)if(r[a]!=s[a])return r[a]>s[a]^n?1:-1;return o==c?0:o>c^n?1:-1}function g(e,t,n,f){if(e<t||e>n||e!==s(e))throw Error(a+(f||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return p(e.e/c)==t&&e.c[t]%2!=0}function v(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var f,r;if(t<0){for(r=n+".";++t;r+=n);e=r+e}else if(++t>(f=e.length)){for(r=n,t-=f;--t;r+=n);e+=r}else t<f&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,k,S,E,T,_,C,P,I,O,A=q.prototype={constructor:q,toString:null,valueOf:null},j=new q(1),x=20,N=4,M=-7,R=21,D=-1e7,L=1e7,B=!1,U=1,F=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},$="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function q(e,t){var n,r,a,o,u,d,h,p,b=this;if(!(b instanceof q))return new q(e,t);if(null==t){if(e&&!0===e._isBigNumber)return b.s=e.s,void(!e.c||e.e>L?b.c=b.e=null:e.e<D?b.c=[b.e=0]:(b.e=e.e,b.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(b.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,u=e;u>=10;u/=10,o++);return void(o>L?b.c=b.e=null:(b.e=o,b.c=[e]))}p=String(e)}else{if(!f.test(p=String(e)))return S(b,p,d);b.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(o=p.indexOf("."))>-1&&(p=p.replace(".","")),(u=p.search(/e/i))>0?(o<0&&(o=u),o+=+p.slice(u+1),p=p.substring(0,u)):o<0&&(o=p.length)}else{if(g(t,2,$.length,"Base"),10==t&&G)return Y(b=new q(e),x+b.e+1,N);if(p=String(e),d="number"==typeof e){if(0*e!=0)return S(b,p,d,t);if(b.s=1/e<0?(p=p.slice(1),-1):1,q.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(i+e)}else b.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=$.slice(0,t),o=u=0,h=p.length;u<h;u++)if(n.indexOf(r=p.charAt(u))<0){if("."==r){if(u>o){o=h;continue}}else if(!a&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){a=!0,u=-1,o=0;continue}return S(b,String(e),d,t)}d=!1,(o=(p=k(p,t,10,b.s)).indexOf("."))>-1?p=p.replace(".",""):o=p.length}for(u=0;48===p.charCodeAt(u);u++);for(h=p.length;48===p.charCodeAt(--h););if(p=p.slice(u,++h)){if(h-=u,d&&q.DEBUG&&h>15&&(e>l||e!==s(e)))throw Error(i+b.s*e);if((o=o-u-1)>L)b.c=b.e=null;else if(o<D)b.c=[b.e=0];else{if(b.e=o,b.c=[],u=(o+1)%c,o<0&&(u+=c),u<h){for(u&&b.c.push(+p.slice(0,u)),h-=c;u<h;)b.c.push(+p.slice(u,u+=c));u=c-(p=p.slice(u)).length}else u-=h;for(;u--;p+="0");b.c.push(+p)}}else b.c=[b.e=0]}function V(e,t,n,f){var r,s,a,i,o;if(null==n?n=N:g(n,0,8),!e.c)return e.toString();if(r=e.c[0],a=e.e,null==t)o=b(e.c),o=1==f||2==f&&(a<=M||a>=R)?v(o,a):w(o,a,"0");else if(s=(e=Y(new q(e),t,n)).e,i=(o=b(e.c)).length,1==f||2==f&&(t<=s||s<=M)){for(;i<t;o+="0",i++);o=v(o,s)}else if(t-=a,o=w(o,s,"0"),s+1>i){if(--t>0)for(o+=".";t--;o+="0");}else if((t+=s-i)>0)for(s+1==i&&(o+=".");t--;o+="0");return e.s<0&&r?"-"+o:o}function z(e,t){for(var n,f,r=1,s=new q(e[0]);r<e.length;r++)(!(f=new q(e[r])).s||(n=m(s,f))===t||0===n&&s.s===t)&&(s=f);return s}function W(e,t,n){for(var f=1,r=t.length;!t[--r];t.pop());for(r=t[0];r>=10;r/=10,f++);return(n=f+n*c-1)>L?e.c=e.e=null:n<D?e.c=[e.e=0]:(e.e=n,e.c=t),e}function Y(e,t,n,f){var a,i,l,d,h,p,b,m=e.c,g=u;if(m){e:{for(a=1,d=m[0];d>=10;d/=10,a++);if((i=t-a)<0)i+=c,l=t,h=m[p=0],b=s(h/g[a-l-1]%10);else if((p=r((i+1)/c))>=m.length){if(!f)break e;for(;m.length<=p;m.push(0));h=b=0,a=1,l=(i%=c)-c+1}else{for(h=d=m[p],a=1;d>=10;d/=10,a++);b=(l=(i%=c)-c+a)<0?0:s(h/g[a-l-1]%10)}if(f=f||t<0||null!=m[p+1]||(l<0?h:h%g[a-l-1]),f=n<4?(b||f)&&(0==n||n==(e.s<0?3:2)):b>5||5==b&&(4==n||f||6==n&&(i>0?l>0?h/g[a-l]:0:m[p-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,f?(t-=e.e+1,m[0]=g[(c-t%c)%c],e.e=-t||0):m[0]=e.e=0,e;if(0==i?(m.length=p,d=1,p--):(m.length=p+1,d=g[c-i],m[p]=l>0?s(h/g[a-l]%g[l])*d:0),f)for(;;){if(0==p){for(i=1,l=m[0];l>=10;l/=10,i++);for(l=m[0]+=d,d=1;l>=10;l/=10,d++);i!=d&&(e.e++,m[0]==o&&(m[0]=1));break}if(m[p]+=d,m[p]!=o)break;m[p--]=0,d=1}for(i=m.length;0===m[--i];m.pop());}e.e>L?e.c=e.e=null:e.e<D&&(e.c=[e.e=0])}return e}function K(e){var t,n=e.e;return null===n?e.toString():(t=b(e.c),t=n<=M||n>=R?v(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(g(n=e[t],0,h,t),x=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(g(n=e[t],0,8,t),N=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(g(n[0],-h,0,t),g(n[1],0,h,t),M=n[0],R=n[1]):(g(n,-h,h,t),M=-(R=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)g(n[0],-h,-1,t),g(n[1],1,h,t),D=n[0],L=n[1];else{if(g(n,-h,h,t),!n)throw Error(a+t+" cannot be zero: "+n);D=-(L=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!n,Error(a+"crypto unavailable");B=n}else B=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(g(n=e[t],0,9,t),U=n),e.hasOwnProperty(t="POW_PRECISION")&&(g(n=e[t],0,h,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);H=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);G="0123456789"==n.slice(0,10),$=n}}return{DECIMAL_PLACES:x,ROUNDING_MODE:N,EXPONENTIAL_AT:[M,R],RANGE:[D,L],CRYPTO:B,MODULO_MODE:U,POW_PRECISION:F,FORMAT:H,ALPHABET:$}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,n,f=e.c,r=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(f)){if((1===i||-1===i)&&r>=-h&&r<=h&&r===s(r)){if(0===f[0]){if(0===r&&1===f.length)return!0;break e}if((t=(r+1)%c)<1&&(t+=c),String(f[0]).length==t){for(t=0;t<f.length;t++)if((n=f[t])<0||n>=o||n!==s(n))break e;if(0!==n)return!0}}}else if(null===f&&null===r&&(null===i||1===i||-1===i))return!0;throw Error(a+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return z(arguments,-1)},q.minimum=q.min=function(){return z(arguments,1)},q.random=(E=9007199254740992,T=Math.random()*E&2097151?function(){return s(Math.random()*E)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,f,i,o,l=0,d=[],p=new q(j);if(null==e?e=x:g(e,0,h),i=r(e/c),B)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));l<i;)(o=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(d.push(o%1e14),l+=2);l=i/2}else{if(!crypto.randomBytes)throw B=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(i*=7);l<i;)(o=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(d.push(o%1e14),l+=7);l=i/7}if(!B)for(;l<i;)(o=T())<9e15&&(d[l++]=o%1e14);for(i=d[--l],e%=c,i&&e&&(o=u[c-e],d[l]=s(i/o)*o);0===d[l];d.pop(),l--);if(l<0)d=[f=0];else{for(f=-1;0===d[0];d.splice(0,1),f-=c);for(l=1,o=d[0];o>=10;o/=10,l++);l<c&&(f-=c-l)}return p.e=f,p.c=d,p}),q.sum=function(){for(var e=1,t=arguments,n=new q(t[0]);e<t.length;)n=n.plus(t[e++]);return n},k=function(){var e="0123456789";function t(e,t,n,f){for(var r,s,a=[0],i=0,o=e.length;i<o;){for(s=a.length;s--;a[s]*=t);for(a[0]+=f.indexOf(e.charAt(i++)),r=0;r<a.length;r++)a[r]>n-1&&(null==a[r+1]&&(a[r+1]=0),a[r+1]+=a[r]/n|0,a[r]%=n)}return a.reverse()}return function(f,r,s,a,i){var o,c,l,u,d,h,p,m,g=f.indexOf("."),y=x,v=N;for(g>=0&&(u=F,F=0,f=f.replace(".",""),h=(m=new q(r)).pow(f.length-g),F=u,m.c=t(w(b(h.c),h.e,"0"),10,s,e),m.e=m.c.length),l=u=(p=t(f,r,s,i?(o=$,e):(o=e,$))).length;0==p[--u];p.pop());if(!p[0])return o.charAt(0);if(g<0?--l:(h.c=p,h.e=l,h.s=a,p=(h=n(h,m,y,v,s)).c,d=h.r,l=h.e),g=p[c=l+y+1],u=s/2,d=d||c<0||null!=p[c+1],d=v<4?(null!=g||d)&&(0==v||v==(h.s<0?3:2)):g>u||g==u&&(4==v||d||6==v&&1&p[c-1]||v==(h.s<0?8:7)),c<1||!p[0])f=d?w(o.charAt(1),-y,o.charAt(0)):o.charAt(0);else{if(p.length=c,d)for(--s;++p[--c]>s;)p[c]=0,c||(++l,p=[1].concat(p));for(u=p.length;!p[--u];);for(g=0,f="";g<=u;f+=o.charAt(p[g++]));f=w(f,l,o.charAt(0))}return f}}(),n=function(){function e(e,t,n){var f,r,s,a,i=0,o=e.length,c=t%d,l=t/d|0;for(e=e.slice();o--;)i=((r=c*(s=e[o]%d)+(f=l*s+(a=e[o]/d|0)*c)%d*d+i)/n|0)+(f/d|0)+l*a,e[o]=r%n;return i&&(e=[i].concat(e)),e}function t(e,t,n,f){var r,s;if(n!=f)s=n>f?1:-1;else for(r=s=0;r<n;r++)if(e[r]!=t[r]){s=e[r]>t[r]?1:-1;break}return s}function n(e,t,n,f){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*f+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(f,r,a,i,l){var u,d,h,b,m,g,y,v,w,k,S,E,T,_,C,P,I,O=f.s==r.s?1:-1,A=f.c,j=r.c;if(!(A&&A[0]&&j&&j[0]))return new q(f.s&&r.s&&(A?!j||A[0]!=j[0]:j)?A&&0==A[0]||!j?0*O:O/0:NaN);for(w=(v=new q(O)).c=[],O=a+(d=f.e-r.e)+1,l||(l=o,d=p(f.e/c)-p(r.e/c),O=O/c|0),h=0;j[h]==(A[h]||0);h++);if(j[h]>(A[h]||0)&&d--,O<0)w.push(1),b=!0;else{for(_=A.length,P=j.length,h=0,O+=2,(m=s(l/(j[0]+1)))>1&&(j=e(j,m,l),A=e(A,m,l),P=j.length,_=A.length),T=P,S=(k=A.slice(0,P)).length;S<P;k[S++]=0);I=j.slice(),I=[0].concat(I),C=j[0],j[1]>=l/2&&C++;do{if(m=0,(u=t(j,k,P,S))<0){if(E=k[0],P!=S&&(E=E*l+(k[1]||0)),(m=s(E/C))>1)for(m>=l&&(m=l-1),y=(g=e(j,m,l)).length,S=k.length;1==t(g,k,y,S);)m--,n(g,P<y?I:j,y,l),y=g.length,u=1;else 0==m&&(u=m=1),y=(g=j.slice()).length;if(y<S&&(g=[0].concat(g)),n(k,g,S,l),S=k.length,-1==u)for(;t(j,k,P,S)<1;)m++,n(k,P<S?I:j,S,l),S=k.length}else 0===u&&(m++,k=[0]);w[h++]=m,k[0]?k[S++]=A[T]||0:(k=[A[T]],S=1)}while((T++<_||null!=k[0])&&O--);b=null!=k[0],w[0]||w.splice(0,1)}if(l==o){for(h=1,O=w[0];O>=10;O/=10,h++);Y(v,a+(v.e=h+d*c-1)+1,i,b)}else v.e=d,v.r=+b;return v}}(),_=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,P=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,n,f){var r,s=n?t:t.replace(O,"");if(I.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(_,(function(e,t,n){return r="x"==(n=n.toLowerCase())?16:"b"==n?2:8,f&&f!=r?e:t})),f&&(r=f,s=s.replace(C,"$1").replace(P,"0.$1")),t!=s))return new q(s,r);if(q.DEBUG)throw Error(a+"Not a"+(f?" base "+f:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return m(this,new q(e,t))},A.decimalPlaces=A.dp=function(e,t){var n,f,r,s=this;if(null!=e)return g(e,0,h),null==t?t=N:g(t,0,8),Y(new q(s),e+s.e+1,t);if(!(n=s.c))return null;if(f=((r=n.length-1)-p(this.e/c))*c,r=n[r])for(;r%10==0;r/=10,f--);return f<0&&(f=0),f},A.dividedBy=A.div=function(e,t){return n(this,new q(e,t),x,N)},A.dividedToIntegerBy=A.idiv=function(e,t){return n(this,new q(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var n,f,i,o,l,u,d,h,p=this;if((e=new q(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+K(e));if(null!=t&&(t=new q(t)),l=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new q(Math.pow(+K(p),l?e.s*(2-y(e)):+K(e))),t?h.mod(t):h;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new q(NaN);(f=!u&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return o=p.s<0&&y(e)?-0:0,p.e>-1&&(o=1/o),new q(u?1/o:o);F&&(o=r(F/c+2))}for(l?(n=new q(.5),u&&(e.s=1),d=y(e)):d=(i=Math.abs(+K(e)))%2,h=new q(j);;){if(d){if(!(h=h.times(p)).c)break;o?h.c.length>o&&(h.c.length=o):f&&(h=h.mod(t))}if(i){if(0===(i=s(i/2)))break;d=i%2}else if(Y(e=e.times(n),e.e+1,1),e.e>14)d=y(e);else{if(0===(i=+K(e)))break;d=i%2}p=p.times(p),o?p.c&&p.c.length>o&&(p.c.length=o):f&&(p=p.mod(t))}return f?h:(u&&(h=j.div(h)),t?h.mod(t):o?Y(h,F,N,undefined):h)},A.integerValue=function(e){var t=new q(this);return null==e?e=N:g(e,0,8),Y(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===m(this,new q(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return m(this,new q(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=m(this,new q(e,t)))||0===t},A.isInteger=function(){return!!this.c&&p(this.e/c)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return m(this,new q(e,t))<0},A.isLessThanOrEqualTo=A.lte=function(e,t){return-1===(t=m(this,new q(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var n,f,r,s,a=this,i=a.s;if(t=(e=new q(e,t)).s,!i||!t)return new q(NaN);if(i!=t)return e.s=-t,a.plus(e);var l=a.e/c,u=e.e/c,d=a.c,h=e.c;if(!l||!u){if(!d||!h)return d?(e.s=-t,e):new q(h?a:NaN);if(!d[0]||!h[0])return h[0]?(e.s=-t,e):new q(d[0]?a:3==N?-0:0)}if(l=p(l),u=p(u),d=d.slice(),i=l-u){for((s=i<0)?(i=-i,r=d):(u=l,r=h),r.reverse(),t=i;t--;r.push(0));r.reverse()}else for(f=(s=(i=d.length)<(t=h.length))?i:t,i=t=0;t<f;t++)if(d[t]!=h[t]){s=d[t]<h[t];break}if(s&&(r=d,d=h,h=r,e.s=-e.s),(t=(f=h.length)-(n=d.length))>0)for(;t--;d[n++]=0);for(t=o-1;f>i;){if(d[--f]<h[f]){for(n=f;n&&!d[--n];d[n]=t);--d[n],d[f]+=o}d[f]-=h[f]}for(;0==d[0];d.splice(0,1),--u);return d[0]?W(e,d,u):(e.s=3==N?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var f,r,s=this;return e=new q(e,t),!s.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||s.c&&!s.c[0]?new q(s):(9==U?(r=e.s,e.s=1,f=n(s,e,0,3),e.s=r,f.s*=r):f=n(s,e,0,U),(e=s.minus(f.times(e))).c[0]||1!=U||(e.s=s.s),e)},A.multipliedBy=A.times=function(e,t){var n,f,r,s,a,i,l,u,h,b,m,g,y,v,w,k=this,S=k.c,E=(e=new q(e,t)).c;if(!(S&&E&&S[0]&&E[0]))return!k.s||!e.s||S&&!S[0]&&!E||E&&!E[0]&&!S?e.c=e.e=e.s=null:(e.s*=k.s,S&&E?(e.c=[0],e.e=0):e.c=e.e=null),e;for(f=p(k.e/c)+p(e.e/c),e.s*=k.s,(l=S.length)<(b=E.length)&&(y=S,S=E,E=y,r=l,l=b,b=r),r=l+b,y=[];r--;y.push(0));for(v=o,w=d,r=b;--r>=0;){for(n=0,m=E[r]%w,g=E[r]/w|0,s=r+(a=l);s>r;)n=((u=m*(u=S[--a]%w)+(i=g*u+(h=S[a]/w|0)*m)%w*w+y[s]+n)/v|0)+(i/w|0)+g*h,y[s--]=u%v;y[s]=n}return n?++f:y.splice(0,1),W(e,y,f)},A.negated=function(){var e=new q(this);return e.s=-e.s||null,e},A.plus=function(e,t){var n,f=this,r=f.s;if(t=(e=new q(e,t)).s,!r||!t)return new q(NaN);if(r!=t)return e.s=-t,f.minus(e);var s=f.e/c,a=e.e/c,i=f.c,l=e.c;if(!s||!a){if(!i||!l)return new q(r/0);if(!i[0]||!l[0])return l[0]?e:new q(i[0]?f:0*r)}if(s=p(s),a=p(a),i=i.slice(),r=s-a){for(r>0?(a=s,n=l):(r=-r,n=i),n.reverse();r--;n.push(0));n.reverse()}for((r=i.length)-(t=l.length)<0&&(n=l,l=i,i=n,t=r),r=0;t;)r=(i[--t]=i[t]+l[t]+r)/o|0,i[t]=o===i[t]?0:i[t]%o;return r&&(i=[r].concat(i),++a),W(e,i,a)},A.precision=A.sd=function(e,t){var n,f,r,s=this;if(null!=e&&e!==!!e)return g(e,1,h),null==t?t=N:g(t,0,8),Y(new q(s),e,t);if(!(n=s.c))return null;if(f=(r=n.length-1)*c+1,r=n[r]){for(;r%10==0;r/=10,f--);for(r=n[0];r>=10;r/=10,f++);}return e&&s.e+1>f&&(f=s.e+1),f},A.shiftedBy=function(e){return g(e,-9007199254740991,l),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,f,r,s,a=this,i=a.c,o=a.s,c=a.e,l=x+4,u=new q("0.5");if(1!==o||!i||!i[0])return new q(!o||o<0&&(!i||i[0])?NaN:i?a:1/0);if(0==(o=Math.sqrt(+K(a)))||o==1/0?(((t=b(i)).length+c)%2==0&&(t+="0"),o=Math.sqrt(+t),c=p((c+1)/2)-(c<0||c%2),f=new q(t=o==1/0?"5e"+c:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+c)):f=new q(o+""),f.c[0])for((o=(c=f.e)+l)<3&&(o=0);;)if(s=f,f=u.times(s.plus(n(a,s,l,1))),b(s.c).slice(0,o)===(t=b(f.c)).slice(0,o)){if(f.e<c&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(Y(f,f.e+x+2,1),e=!f.times(f).eq(a));break}if(!r&&(Y(s,s.e+x+2,0),s.times(s).eq(a))){f=s;break}l+=4,o+=4,r=1}return Y(f,f.e+x+1,N,e)},A.toExponential=function(e,t){return null!=e&&(g(e,0,h),e++),V(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(g(e,0,h),e=e+this.e+1),V(this,e,t)},A.toFormat=function(e,t,n){var f,r=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=H;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(f=r.toFixed(e,t),r.c){var s,i=f.split("."),o=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",u=i[0],d=i[1],h=r.s<0,p=h?u.slice(1):u,b=p.length;if(c&&(s=o,o=c,c=s,b-=s),o>0&&b>0){for(s=b%o||o,u=p.substr(0,s);s<b;s+=o)u+=l+p.substr(s,o);c>0&&(u+=l+p.slice(s)),h&&(u="-"+u)}f=d?u+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):u}return(n.prefix||"")+f+(n.suffix||"")},A.toFraction=function(e){var t,f,r,s,i,o,l,d,h,p,m,g,y=this,v=y.c;if(null!=e&&(!(l=new q(e)).isInteger()&&(l.c||1!==l.s)||l.lt(j)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+K(l));if(!v)return new q(y);for(t=new q(j),h=f=new q(j),r=d=new q(j),g=b(v),i=t.e=g.length-y.e-1,t.c[0]=u[(o=i%c)<0?c+o:o],e=!e||l.comparedTo(t)>0?i>0?t:h:l,o=L,L=1/0,l=new q(g),d.c[0]=0;p=n(l,t,0,1),1!=(s=f.plus(p.times(r))).comparedTo(e);)f=r,r=s,h=d.plus(p.times(s=h)),d=s,t=l.minus(p.times(s=t)),l=s;return s=n(e.minus(f),r,0,1),d=d.plus(s.times(h)),f=f.plus(s.times(r)),d.s=h.s=y.s,m=n(h,r,i*=2,N).minus(y).abs().comparedTo(n(d,f,i,N).minus(y).abs())<1?[h,r]:[d,f],L=o,m},A.toNumber=function(){return+K(this)},A.toPrecision=function(e,t){return null!=e&&g(e,1,h),V(this,e,t,2)},A.toString=function(e){var t,n=this,f=n.s,r=n.e;return null===r?f?(t="Infinity",f<0&&(t="-"+t)):t="NaN":(null==e?t=r<=M||r>=R?v(b(n.c),r):w(b(n.c),r,"0"):10===e&&G?t=w(b((n=Y(new q(n),x+r+1,N)).c),n.e,"0"):(g(e,2,$.length,"Base"),t=k(w(b(n.c),r,"0"),10,e,f,!0)),f<0&&n.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return K(this)},A._isBigNumber=!0,null!=t&&q.set(t),q}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"eth-lattice-keyring>gridplus-sdk>borc>bignumber.js",file:"node_modules/borc/node_modules/bignumber.js/bignumber.js"}],[3346,{"bignumber.js":3345},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f=e("bignumber.js").BigNumber;n.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},n.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},n.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},n.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},n.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},n.SHIFT32=Math.pow(2,32),n.SHIFT16=Math.pow(2,16),n.MAX_SAFE_HIGH=2097151,n.NEG_ONE=new f(-1),n.TEN=new f(10),n.TWO=new f(2),n.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/constants.js"}],[3347,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){"use asm";var f=new e.Uint8Array(n);var r=t.pushInt;var s=t.pushInt32;var a=t.pushInt32Neg;var i=t.pushInt64;var o=t.pushInt64Neg;var c=t.pushFloat;var l=t.pushFloatSingle;var u=t.pushFloatDouble;var d=t.pushTrue;var h=t.pushFalse;var p=t.pushUndefined;var b=t.pushNull;var m=t.pushInfinity;var g=t.pushInfinityNeg;var y=t.pushNaN;var v=t.pushNaNNeg;var w=t.pushArrayStart;var k=t.pushArrayStartFixed;var S=t.pushArrayStartFixed32;var E=t.pushArrayStartFixed64;var T=t.pushObjectStart;var _=t.pushObjectStartFixed;var C=t.pushObjectStartFixed32;var P=t.pushObjectStartFixed64;var I=t.pushByteString;var O=t.pushByteStringStart;var A=t.pushUtf8String;var j=t.pushUtf8StringStart;var x=t.pushSimpleUnassigned;var N=t.pushTagStart;var M=t.pushTagStart4;var R=t.pushTagStart8;var D=t.pushTagUnassigned;var L=t.pushBreak;var B=e.Math.pow;var U=0;var F=0;var H=0;function $(e){e=e|0;U=0;F=e;while((U|0)<(F|0)){H=Je[f[U]&255](f[U]|0)|0;if((H|0)>0){break}}return H|0}function G(e){e=e|0;if(((U|0)+(e|0)|0)<(F|0)){return 0}return 1}function q(e){e=e|0;return f[e|0]<<8|f[e+1|0]|0}function V(e){e=e|0;return f[e|0]<<24|f[e+1|0]<<16|f[e+2|0]<<8|f[e+3|0]|0}function z(e){e=e|0;r(e|0);U=U+1|0;return 0}function W(e){e=e|0;if(G(1)|0){return 1}r(f[U+1|0]|0);U=U+2|0;return 0}function Y(e){e=e|0;if(G(2)|0){return 1}r(q(U+1|0)|0);U=U+3|0;return 0}function K(e){e=e|0;if(G(4)|0){return 1}s(q(U+1|0)|0,q(U+3|0)|0);U=U+5|0;return 0}function J(e){e=e|0;if(G(8)|0){return 1}i(q(U+1|0)|0,q(U+3|0)|0,q(U+5|0)|0,q(U+7|0)|0);U=U+9|0;return 0}function Z(e){e=e|0;r(-1-(e-32|0)|0);U=U+1|0;return 0}function X(e){e=e|0;if(G(1)|0){return 1}r(-1-(f[U+1|0]|0)|0);U=U+2|0;return 0}function Q(e){e=e|0;var t=0;if(G(2)|0){return 1}t=q(U+1|0)|0;r(-1-(t|0)|0);U=U+3|0;return 0}function ee(e){e=e|0;if(G(4)|0){return 1}a(q(U+1|0)|0,q(U+3|0)|0);U=U+5|0;return 0}function te(e){e=e|0;if(G(8)|0){return 1}o(q(U+1|0)|0,q(U+3|0)|0,q(U+5|0)|0,q(U+7|0)|0);U=U+9|0;return 0}function ne(e){e=e|0;var t=0;var n=0;var f=0;f=e-64|0;if(G(f|0)|0){return 1}t=U+1|0;n=(U+1|0)+(f|0)|0;I(t|0,n|0);U=n|0;return 0}function fe(e){e=e|0;var t=0;var n=0;var r=0;if(G(1)|0){return 1}r=f[U+1|0]|0;t=U+2|0;n=(U+2|0)+(r|0)|0;if(G(r+1|0)|0){return 1}I(t|0,n|0);U=n|0;return 0}function re(e){e=e|0;var t=0;var n=0;var f=0;if(G(2)|0){return 1}f=q(U+1|0)|0;t=U+3|0;n=(U+3|0)+(f|0)|0;if(G(f+2|0)|0){return 1}I(t|0,n|0);U=n|0;return 0}function se(e){e=e|0;var t=0;var n=0;var f=0;if(G(4)|0){return 1}f=V(U+1|0)|0;t=U+5|0;n=(U+5|0)+(f|0)|0;if(G(f+4|0)|0){return 1}I(t|0,n|0);U=n|0;return 0}function ae(e){e=e|0;return 1}function ie(e){e=e|0;O();U=U+1|0;return 0}function oe(e){e=e|0;var t=0;var n=0;var f=0;f=e-96|0;if(G(f|0)|0){return 1}t=U+1|0;n=(U+1|0)+(f|0)|0;A(t|0,n|0);U=n|0;return 0}function ce(e){e=e|0;var t=0;var n=0;var r=0;if(G(1)|0){return 1}r=f[U+1|0]|0;t=U+2|0;n=(U+2|0)+(r|0)|0;if(G(r+1|0)|0){return 1}A(t|0,n|0);U=n|0;return 0}function le(e){e=e|0;var t=0;var n=0;var f=0;if(G(2)|0){return 1}f=q(U+1|0)|0;t=U+3|0;n=(U+3|0)+(f|0)|0;if(G(f+2|0)|0){return 1}A(t|0,n|0);U=n|0;return 0}function ue(e){e=e|0;var t=0;var n=0;var f=0;if(G(4)|0){return 1}f=V(U+1|0)|0;t=U+5|0;n=(U+5|0)+(f|0)|0;if(G(f+4|0)|0){return 1}A(t|0,n|0);U=n|0;return 0}function de(e){e=e|0;return 1}function he(e){e=e|0;j();U=U+1|0;return 0}function pe(e){e=e|0;k(e-128|0);U=U+1|0;return 0}function be(e){e=e|0;if(G(1)|0){return 1}k(f[U+1|0]|0);U=U+2|0;return 0}function me(e){e=e|0;if(G(2)|0){return 1}k(q(U+1|0)|0);U=U+3|0;return 0}function ge(e){e=e|0;if(G(4)|0){return 1}S(q(U+1|0)|0,q(U+3|0)|0);U=U+5|0;return 0}function ye(e){e=e|0;if(G(8)|0){return 1}E(q(U+1|0)|0,q(U+3|0)|0,q(U+5|0)|0,q(U+7|0)|0);U=U+9|0;return 0}function ve(e){e=e|0;w();U=U+1|0;return 0}function we(e){e=e|0;var t=0;t=e-160|0;if(G(t|0)|0){return 1}_(t|0);U=U+1|0;return 0}function ke(e){e=e|0;if(G(1)|0){return 1}_(f[U+1|0]|0);U=U+2|0;return 0}function Se(e){e=e|0;if(G(2)|0){return 1}_(q(U+1|0)|0);U=U+3|0;return 0}function Ee(e){e=e|0;if(G(4)|0){return 1}C(q(U+1|0)|0,q(U+3|0)|0);U=U+5|0;return 0}function Te(e){e=e|0;if(G(8)|0){return 1}P(q(U+1|0)|0,q(U+3|0)|0,q(U+5|0)|0,q(U+7|0)|0);U=U+9|0;return 0}function _e(e){e=e|0;T();U=U+1|0;return 0}function Ce(e){e=e|0;N(e-192|0|0);U=U+1|0;return 0}function Pe(e){e|0;N(e|0);U=U+1|0;return 0}function Ie(e){e|0;N(e|0);U=U+1|0;return 0}function Oe(e){e|0;N(e|0);U=U+1|0;return 0}function Ae(e){e|0;N(e|0);U=U+1|0;return 0}function je(e){e=e|0;N(e-192|0|0);U=U+1|0;return 0}function xe(e){e|0;N(e|0);U=U+1|0;return 0}function Ne(e){e|0;N(e|0);U=U+1|0;return 0}function Me(e){e|0;N(e|0);U=U+1|0;return 0}function Re(e){e=e|0;if(G(1)|0){return 1}N(f[U+1|0]|0);U=U+2|0;return 0}function De(e){e=e|0;if(G(2)|0){return 1}N(q(U+1|0)|0);U=U+3|0;return 0}function Le(e){e=e|0;if(G(4)|0){return 1}M(q(U+1|0)|0,q(U+3|0)|0);U=U+5|0;return 0}function Be(e){e=e|0;if(G(8)|0){return 1}R(q(U+1|0)|0,q(U+3|0)|0,q(U+5|0)|0,q(U+7|0)|0);U=U+9|0;return 0}function Ue(e){e=e|0;x((e|0)-224|0);U=U+1|0;return 0}function Fe(e){e=e|0;h();U=U+1|0;return 0}function He(e){e=e|0;d();U=U+1|0;return 0}function $e(e){e=e|0;b();U=U+1|0;return 0}function Ge(e){e=e|0;p();U=U+1|0;return 0}function qe(e){e=e|0;if(G(1)|0){return 1}x(f[U+1|0]|0);U=U+2|0;return 0}function Ve(e){e=e|0;var t=0;var n=0;var r=1.0;var s=0.0;var a=0.0;var i=0.0;if(G(2)|0){return 1}t=f[U+1|0]|0;n=f[U+2|0]|0;if((t|0)&0x80){r=-1.0}s=+(((t|0)&0x7C)>>2);a=+(((t|0)&0x03)<<8|n);if(+s==0.0){c(+(+r*+5.9604644775390625e-8*+a))}else if(+s==31.0){if(+r==1.0){if(+a>0.0){y()}else{m()}}else{if(+a>0.0){v()}else{g()}}}else{c(+(+r*B(+2,+(+s-25.0))*+(1024.0+a)))}U=U+3|0;return 0}function ze(e){e=e|0;if(G(4)|0){return 1}l(f[U+1|0]|0,f[U+2|0]|0,f[U+3|0]|0,f[U+4|0]|0);U=U+5|0;return 0}function We(e){e=e|0;if(G(8)|0){return 1}u(f[U+1|0]|0,f[U+2|0]|0,f[U+3|0]|0,f[U+4|0]|0,f[U+5|0]|0,f[U+6|0]|0,f[U+7|0]|0,f[U+8|0]|0);U=U+9|0;return 0}function Ye(e){e=e|0;return 1}function Ke(e){e=e|0;L();U=U+1|0;return 0}var Je=[z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,W,Y,K,J,Ye,Ye,Ye,Ye,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,X,Q,ee,te,Ye,Ye,Ye,Ye,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,fe,re,se,ae,Ye,Ye,Ye,ie,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,ce,le,ue,de,Ye,Ye,Ye,he,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,be,me,ge,ye,Ye,Ye,Ye,ve,we,we,we,we,we,we,we,we,we,we,we,we,we,we,we,we,we,we,we,we,we,we,we,we,ke,Se,Ee,Te,Ye,Ye,Ye,_e,Ce,Ce,Ce,Ce,Ce,Ce,je,je,je,je,je,je,je,je,je,je,je,je,je,je,je,je,je,je,Re,De,Le,Be,Ye,Ye,Ye,Ye,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Ue,Fe,He,$e,Ge,qe,Ve,ze,We,Ye,Ye,Ye,Ke];return{parse:$}}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/decoder.asm.js"}],[3348,{"./constants":3346,"./decoder.asm":3347,"./simple":3352,"./tagged":3353,"./utils":3354,"bignumber.js":3345,buffer:3392,ieee754:3923,"iso-url":3954},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Buffer:f}=e("buffer"),r=e("ieee754"),s=e("bignumber.js").BigNumber,a=e("./decoder.asm"),i=e("./utils"),o=e("./constants"),c=e("./simple"),l=e("./tagged"),{URL:u}=e("iso-url");class d{constructor(e){!(e=e||{}).size||e.size<65536?e.size=65536:e.size=i.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=f.from(this._heap),this._reset(),this._knownTags=Object.assign({0:e=>new Date(e),1:e=>new Date(1e3*e),2:e=>i.arrayBufferToBignumber(e),3:e=>o.NEG_ONE.minus(i.arrayBufferToBignumber(e)),4:e=>o.TEN.pow(e[0]).times(e[1]),5:e=>o.TWO.pow(e[0]).times(e[1]),32:e=>new u(e),35:e=>new RegExp(e)},e.tags),this.parser=a(global,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){const e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case o.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case o.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case o.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case o.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case o.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case o.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length))}this._currentParent&&this._currentParent.type===o.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,0===e.length&&this._closeParent())}_push(e,t){const n=this._currentParent;switch(n.values++,n.type){case o.PARENT.ARRAY:case o.PARENT.BYTE_STRING:case o.PARENT.UTF8_STRING:n.length>-1?this._ref[this._ref.length-n.length]=e:this._ref.push(e),this._dec();break;case o.PARENT.OBJECT:null!=n.tmpKey?(this._ref[n.tmpKey]=e,n.tmpKey=null,this._dec()):(n.tmpKey=e,"string"!=typeof n.tmpKey&&(n.type=o.PARENT.MAP,n.ref=i.buildMap(n.ref)));break;case o.PARENT.MAP:null!=n.tmpKey?(this._ref.set(n.tmpKey,e),n.tmpKey=null,this._dec()):n.tmpKey=e;break;case o.PARENT.TAG:this._ref.push(e),t||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,t,n){this._parents[this._depth]={type:t,length:n,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:o.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,t){const n=this._knownTags[e];return n?n(t):new l(e,t)}createMap(e,t){return e}createObject(e,t){return e}createArray(e,t){return e}createByteString(e,t){return f.concat(e)}createByteStringFromHeap(e,t){return e===t?f.alloc(0):f.from(this._heap.slice(e,t))}createInt(e){return e}createInt32(e,t){return i.buildInt32(e,t)}createInt64(e,t,n,f){return i.buildInt64(e,t,n,f)}createFloat(e){return e}createFloatSingle(e,t,n,f){return r.read([e,t,n,f],0,!1,23,4)}createFloatDouble(e,t,n,f,s,a,i,o){return r.read([e,t,n,f,s,a,i,o],0,!1,52,8)}createInt32Neg(e,t){return-1-i.buildInt32(e,t)}createInt64Neg(e,t,n,f){const r=i.buildInt32(e,t),a=i.buildInt32(n,f);return r>o.MAX_SAFE_HIGH?o.NEG_ONE.minus(new s(r).times(o.SHIFT32).plus(a)):-1-(r*o.SHIFT32+a)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){return undefined}createInfinity(){return Infinity}createInfinityNeg(){return-Infinity}createNaN(){return NaN}createNaNNeg(){return-NaN}createUtf8String(e,t){return e.join("")}createUtf8StringFromHeap(e,t){return e===t?"":this._buffer.toString("utf8",e,t)}createSimpleUnassigned(e){return new c(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,t){this._push(this.createInt32(e,t))}pushInt64(e,t,n,f){this._push(this.createInt64(e,t,n,f))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,t,n,f){this._push(this.createFloatSingle(e,t,n,f))}pushFloatDouble(e,t,n,f,r,s,a,i){this._push(this.createFloatDouble(e,t,n,f,r,s,a,i))}pushInt32Neg(e,t){this._push(this.createInt32Neg(e,t))}pushInt64Neg(e,t,n,f){this._push(this.createInt64Neg(e,t,n,f))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],o.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,t){const n=i.buildInt32(e,t);this._createArrayStartFixed(n)}pushArrayStartFixed64(e,t,n,f){const r=i.buildInt64(e,t,n,f);this._createArrayStartFixed(r)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,t){const n=i.buildInt32(e,t);this._createObjectStartFixed(n)}pushObjectStartFixed64(e,t,n,f){const r=i.buildInt64(e,t,n,f);this._createObjectStartFixed(r)}pushByteStringStart(){this._parents[this._depth]={type:o.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,t){this._push(this.createByteStringFromHeap(e,t))}pushUtf8StringStart(){this._parents[this._depth]={type:o.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,t){this._push(this.createUtf8StringFromHeap(e,t))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:o.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,t){this.pushTagStart(i.buildInt32(e,t))}pushTagStart8(e,t,n,f){this.pushTagStart(i.buildInt64(e,t,n,f))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){0!==e?this._createParent({},o.PARENT.OBJECT,e):this._push(this.createObject({}))}_createArrayStartFixed(e){0!==e?this._createParent(new Array(e),o.PARENT.ARRAY,e):this._push(this.createArray([]))}_decode(e){if(0===e.byteLength)throw new Error("Input too short");this._reset(),this._heap8.set(e);const t=this.parser.parse(e.byteLength);if(this._depth>1){for(;0===this._currentParent.length;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(t>0)throw new Error("Failed to parse");if(0===this._res.length)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,t){"string"==typeof e&&(e=f.from(e,t||"hex"));return new d({size:e.length}).decodeFirst(e)}static decodeAll(e,t){"string"==typeof e&&(e=f.from(e,t||"hex"));return new d({size:e.length}).decodeAll(e)}}d.decodeFirst=d.decode,t.exports=d}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/decoder.js"}],[3349,{"./decoder":3348,"./utils":3354,buffer:3392},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Buffer:f}=e("buffer"),r=e("./decoder"),s=e("./utils");class a extends r{createTag(e,t){return`${e}(${t})`}createInt(e){return super.createInt(e).toString()}createInt32(e,t){return super.createInt32(e,t).toString()}createInt64(e,t,n,f){return super.createInt64(e,t,n,f).toString()}createInt32Neg(e,t){return super.createInt32Neg(e,t).toString()}createInt64Neg(e,t,n,f){return super.createInt64Neg(e,t,n,f).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const t=super.createFloat(e);return s.isNegativeZero(e)?"-0_1":`${t}_1`}createFloatSingle(e,t,n,f){return`${super.createFloatSingle(e,t,n,f)}_2`}createFloatDouble(e,t,n,f,r,s,a,i){return`${super.createFloatDouble(e,t,n,f,r,s,a,i)}_3`}createByteString(e,t){const n=e.join(", ");return-1===t?`(_ ${n})`:`h'${n}`}createByteStringFromHeap(e,t){return`h'${f.from(super.createByteStringFromHeap(e,t)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,t){const n=super.createArray(e,t);return-1===t?`[_ ${n.join(", ")}]`:`[${n.join(", ")}]`}createMap(e,t){const n=super.createMap(e),f=Array.from(n.keys()).reduce(i(n),"");return-1===t?`{_ ${f}}`:`{${f}}`}createObject(e,t){const n=super.createObject(e),f=Object.keys(n).reduce(i(n),"");return-1===t?`{_ ${f}}`:`{${f}}`}createUtf8String(e,t){const n=e.join(", ");return-1===t?`(_ ${n})`:`"${n}"`}createUtf8StringFromHeap(e,t){return`"${f.from(super.createUtf8StringFromHeap(e,t)).toString("utf8")}"`}static diagnose(e,t){"string"==typeof e&&(e=f.from(e,t||"hex"));return(new a).decodeFirst(e)}}function i(e){return(t,n)=>t?`${t}, ${n}: ${e[n]}`:`${n}: ${e[n]}`}t.exports=a}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/diagnose.js"}],[335,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});t.exports={names:f}}}},{package:"@ensdomains/content-hash>multihashes",file:"node_modules/@ensdomains/content-hash/node_modules/multihashes/src/constants.js"}],[3350,{"./constants":3346,"./utils":3354,"bignumber.js":3345,buffer:3392,"iso-url":3954},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Buffer:f}=e("buffer"),{URL:r}=e("iso-url"),s=e("bignumber.js").BigNumber,a=e("./utils"),i=e("./constants"),o=i.MT,c=i.NUMBYTES,l=i.SHIFT32,u=i.SYMS,d=i.TAG,h=i.MT.SIMPLE_FLOAT<<5|i.NUMBYTES.TWO,p=i.MT.SIMPLE_FLOAT<<5|i.NUMBYTES.FOUR,b=i.MT.SIMPLE_FLOAT<<5|i.NUMBYTES.EIGHT,m=i.MT.SIMPLE_FLOAT<<5|i.SIMPLE.TRUE,g=i.MT.SIMPLE_FLOAT<<5|i.SIMPLE.FALSE,y=i.MT.SIMPLE_FLOAT<<5|i.SIMPLE.UNDEFINED,v=i.MT.SIMPLE_FLOAT<<5|i.SIMPLE.NULL,w=new s("0x20000000000000"),k=f.from("f97e00","hex"),S=f.from("f9fc00","hex"),E=f.from("f97c00","hex");class T{constructor(e){e=e||{},this.streaming="function"==typeof e.stream,this.onData=e.stream,this.semanticTypes=[[r,this._pushUrl],[s,this._pushBigNumber]];const t=e.genTypes||[],n=t.length;for(let e=0;e<n;e++)this.addSemanticType(t[e][0],t[e][1]);this._reset()}addSemanticType(e,t){const n=this.semanticTypes.length;for(let f=0;f<n;f++){if(this.semanticTypes[f][0]===e){const e=this.semanticTypes[f][1];return this.semanticTypes[f][1]=t,e}}return this.semanticTypes.push([e,t]),null}push(e){return!e||(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize()),!0)}pushWrite(e,t,n){return this.result[this.offset]=e,this.resultMethod[this.offset]=t,this.resultLength[this.offset]=n,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(k)}_pushInfinity(e){const t=e<0?S:E;return this.push(t)}_pushFloat(e){const t=f.allocUnsafe(2);if(a.writeHalf(t,e)&&a.parseHalf(t)===e)return this._pushUInt8(h)&&this.push(t);const n=f.allocUnsafe(4);return n.writeFloatBE(e,0),n.readFloatBE(0)===e?this._pushUInt8(p)&&this.push(n):this._pushUInt8(b)&&this._pushDoubleBE(e)}_pushInt(e,t,n){const f=t<<5;return e<24?this._pushUInt8(f|e):e<=255?this._pushUInt8(f|c.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(f|c.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(f|c.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(f|c.EIGHT)&&this._pushUInt32BE(Math.floor(e/l))&&this._pushUInt32BE(e%l):t===o.NEG_INT?this._pushFloat(n):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,o.NEG_INT,e):this._pushInt(e,o.POS_INT)}_pushNumber(e){switch(!1){case e==e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const t=f.byteLength(e,"utf8");return this._pushInt(t,o.UTF8_STRING)&&this.pushWrite(e,5,t)}_pushBoolean(e){return this._pushUInt8(e?m:g)}_pushUndefined(e){return this._pushUInt8(y)}_pushArray(e,t){const n=t.length;if(!e._pushInt(n,o.ARRAY))return!1;for(let f=0;f<n;f++)if(!e.pushAny(t[f]))return!1;return!0}_pushTag(e){return this._pushInt(e,o.TAG)}_pushDate(e,t){return e._pushTag(d.DATE_EPOCH)&&e.pushAny(Math.round(t/1e3))}_pushBuffer(e,t){return e._pushInt(t.length,o.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(d.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,o.ARRAY))return!1;for(const n of t)if(!e.pushAny(n))return!1;return!0}_pushUrl(e,t){return e._pushTag(d.URI)&&e.pushAny(t.format())}_pushBigint(e){let t=d.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),t=d.NEG_BIGINT);let n=e.toString(16);n.length%2&&(n="0"+n);const r=f.from(n,"hex");return this._pushTag(t)&&this._pushBuffer(this,r)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-Infinity:Infinity);if(t.isInteger())return e._pushBigint(t);if(!e._pushTag(d.DECIMAL_FRAC)||!e._pushInt(2,o.ARRAY))return!1;const n=t.decimalPlaces(),f=t.multipliedBy(new s(10).pow(n));return!!e._pushIntNum(-n)&&(f.abs().isLessThan(w)?e._pushIntNum(f.toNumber()):e._pushBigint(f))}_pushMap(e,t){return!!e._pushInt(t.size,o.MAP)&&this._pushRawMap(t.size,Array.from(t))}_pushObject(e){if(!e)return this._pushUInt8(v);const t=this.semanticTypes.length;for(let n=0;n<t;n++)if(e instanceof this.semanticTypes[n][0])return this.semanticTypes[n][1].call(e,this,e);const n=e.encodeCBOR;if("function"==typeof n)return n.call(e,this);const f=Object.keys(e),r=f.length;return!!this._pushInt(r,o.MAP)&&this._pushRawMap(r,f.map((t=>[t,e[t]])))}_pushRawMap(e,t){t=t.map((function(e){return e[0]=T.encode(e[0]),e})).sort(a.keySorter);for(let n=0;n<e;n++){if(!this.push(t[n][0]))return!1;if(!this.pushAny(t[n][1]))return!1}return!0}write(e){return this.pushAny(e)}pushAny(e){const t=function(e){return{}.toString.call(e).slice(8,-1)}(e);switch(t){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,f.isBuffer(e)?e:f.from(e));case"Null":return this._pushUInt8(v);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case u.NULL:return this._pushObject(null);case u.UNDEFINED:return this._pushUndefined(undefined);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(0===this.offset)return null;const e=this.result,t=this.resultLength,n=this.resultMethod,r=this.offset;let s=0,a=0;for(;a<r;a++)s+=t[a];const i=f.allocUnsafe(s);let o=0,c=0;for(a=0;a<r;a++){switch(c=t[a],n[a]){case 0:e[a].copy(i,o);break;case 1:i.writeUInt8(e[a],o,!0);break;case 2:i.writeUInt16BE(e[a],o,!0);break;case 3:i.writeUInt32BE(e[a],o,!0);break;case 4:i.writeDoubleBE(e[a],o,!0);break;case 5:i.write(e[a],o,c,"utf8");break;default:throw new Error("unkown method")}o+=c}const l=i;return this._reset(),l}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const t=new T;if(!t.pushAny(e))throw new Error("Failed to encode input");return t.finalize()}}t.exports=T}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/encoder.js"}],[3351,{"./decoder":3348,"./diagnose":3349,"./encoder":3350,"./simple":3352,"./tagged":3353},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){n.Diagnose=e("./diagnose"),n.Decoder=e("./decoder"),n.Encoder=e("./encoder"),n.Simple=e("./simple"),n.Tagged=e("./tagged"),n.decodeAll=n.Decoder.decodeAll,n.decodeFirst=n.Decoder.decodeFirst,n.diagnose=n.Diagnose.diagnose,n.encode=n.Encoder.encode,n.decode=n.Decoder.decode,n.leveldb={decode:n.Decoder.decodeAll,encode:n.Encoder.encode,buffer:!0,name:"cbor"}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/index.js"}],[3352,{"./constants":3346},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f=e("./constants"),r=f.MT,s=f.SIMPLE,a=f.SYMS;class i{constructor(e){if("number"!=typeof e)throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(0|e)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,r.SIMPLE_FLOAT)}static isSimple(e){return e instanceof i}static decode(e,t){switch(null==t&&(t=!0),e){case s.FALSE:return!1;case s.TRUE:return!0;case s.NULL:return t?null:a.NULL;case s.UNDEFINED:return t?undefined:a.UNDEFINED;case-1:if(!t)throw new Error("Invalid BREAK");return a.BREAK;default:return new i(e)}}}t.exports=i}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/simple.js"}],[3353,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){class f{constructor(e,t,n){if(this.tag=e,this.value=t,this.err=n,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let t,n;if(n=null!=e?e[this.tag]:undefined,"function"!=typeof n&&(n=f["_tag"+this.tag],"function"!=typeof n))return this;try{return n.call(f,this.value)}catch(e){return t=e,this.err=t,this}}}t.exports=f}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/tagged.js"}],[3354,{"./constants":3346,"bignumber.js":3345,buffer:3392},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Buffer:f}=e("buffer"),r=e("bignumber.js").BigNumber,s=e("./constants"),a=s.SHIFT32,i=s.SHIFT16;n.parseHalf=function(e){const t=128&e[0]?-1:1,n=(124&e[0])>>2,f=(3&e[0])<<8|e[1];return n?31===n?t*(f?0/0:Infinity):t*Math.pow(2,n-25)*(1024+f):5.960464477539063e-8*t*f},n.arrayBufferToBignumber=function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r++)n+=(f=e[r])<16?"0"+f.toString(16):f.toString(16);var f;return new r(n,16)},n.buildMap=e=>{const t=new Map,n=Object.keys(e),f=n.length;for(let r=0;r<f;r++)t.set(n[r],e[n[r]]);return t},n.buildInt32=(e,t)=>e*i+t,n.buildInt64=(e,t,f,s)=>{const i=n.buildInt32(e,t),o=n.buildInt32(f,s);return i>2097151?new r(i).times(a).plus(o):i*a+o},n.writeHalf=function(e,t){const n=f.allocUnsafe(4);n.writeFloatBE(t,0);const r=n.readUInt32BE(0);if(8191&r)return!1;let s=r>>16&32768;const a=r>>23&255,i=8388607&r;if(a>=113&&a<=142)s+=(a-112<<10)+(i>>13);else{if(!(a>=103&&a<113))return!1;if(i&(1<<126-a)-1)return!1;s+=i+8388608>>126-a}return e.writeUInt16BE(s,0),!0},n.keySorter=function(e,t){const n=e[0].byteLength,f=t[0].byteLength;return n>f?1:f>n?-1:e[0].compare(t[0])},n.isNegativeZero=e=>0===e&&1/e<0,n.nextPowerOf2=e=>{let t=0;if(e&&!(e&e-1))return e;for(;0!==e;)e>>=1,t+=1;return 1<<t}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/utils.js"}],[336,{"./constants":335,buffer:3392,multibase:332,varint:339,"web-encoding":4936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Buffer:f}=e("buffer"),r=e("multibase"),s=e("varint"),{names:a}=e("./constants"),{TextDecoder:i}=e("web-encoding"),o=new i,c={};for(const e in a)c[a[e]]=e;function l(e){n.decode(e)}n.names=a,n.codes=Object.freeze(c),n.toHexString=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return(f.isBuffer(e)?e:f.from(e.buffer,e.byteOffset,e.byteLength)).toString("hex")},n.fromHexString=function(e){return f.from(e,"hex")},n.toB58String=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return o.decode(r.encode("base58btc",e)).slice(1)},n.fromB58String=function(e){const t=e instanceof Uint8Array?o.decode(e):e;return r.decode("z"+t)},n.decode=function(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");let t=f.isBuffer(e)?e:f.from(e.buffer,e.byteOffset,e.byteLength);if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");const r=s.decode(t);if(!n.isValidCode(r))throw new Error(`multihash unknown function code: 0x${r.toString(16)}`);t=t.slice(s.decode.bytes);const a=s.decode(t);if(a<0)throw new Error(`multihash invalid length: ${a}`);if(t=t.slice(s.decode.bytes),t.length!==a)throw new Error(`multihash length inconsistent: 0x${t.toString("hex")}`);return{code:r,name:c[r],length:a,digest:t}},n.encode=function(e,t,r){if(!e||t===undefined)throw new Error("multihash encode requires at least two args: digest, code");const a=n.coerceCode(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==r&&(r=e.length),r&&e.length!==r)throw new Error("digest length should be equal to specified length.");const i=s.encode(a),o=s.encode(r),c=f.alloc(i.length+o.length+e.length);return c.set(i,0),c.set(o,i.length),c.set(e,i.length+o.length),c},n.coerceCode=function(e){let t=e;if("string"==typeof e){if(a[e]===undefined)throw new Error(`Unrecognized hash function named: ${e}`);t=a[e]}if("number"!=typeof t)throw new Error(`Hash function code should be a number. Got: ${t}`);if(c[t]===undefined&&!n.isAppCode(t))throw new Error(`Unrecognized function code: ${t}`);return t},n.isAppCode=function(e){return e>0&&e<16},n.isValidCode=function(e){return!!n.isAppCode(e)||!!c[e]},n.validate=l,n.prefix=function(e){return l(e),f.from(e.buffer,e.byteOffset,2)}}}},{package:"@ensdomains/content-hash>multihashes",file:"node_modules/@ensdomains/content-hash/node_modules/multihashes/src/index.js"}],[337,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function e(t,n){var s,a=0,i=0,o=n=n||0,c=t.length;do{if(o>=c)throw e.bytes=0,new RangeError("Could not decode varint");s=t[o++],a+=i<28?(s&r)<<i:(s&r)*Math.pow(2,i),i+=7}while(s>=f);return e.bytes=o-n,a};var f=128,r=127}}},{package:"@ensdomains/content-hash>multihashes>varint",file:"node_modules/@ensdomains/content-hash/node_modules/varint/decode.js"}],[338,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function e(t,n,a){n=n||[];var i=a=a||0;for(;t>=s;)n[a++]=255&t|f,t/=128;for(;t&r;)n[a++]=255&t|f,t>>>=7;return n[a]=0|t,e.bytes=a-i+1,n};var f=128,r=-128,s=Math.pow(2,31)}}},{package:"@ensdomains/content-hash>multihashes>varint",file:"node_modules/@ensdomains/content-hash/node_modules/varint/encode.js"}],[339,{"./decode.js":337,"./encode.js":338,"./length.js":340},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={encode:e("./encode.js"),decode:e("./decode.js"),encodingLength:e("./length.js")}}}},{package:"@ensdomains/content-hash>multihashes>varint",file:"node_modules/@ensdomains/content-hash/node_modules/varint/index.js"}],[3397,{buffer:3392},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){var n=Object.prototype.toString,f=void 0!==e&&"function"==typeof e.alloc&&"function"==typeof e.allocUnsafe&&"function"==typeof e.from;t.exports=function(t,r,s){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return a=t,"ArrayBuffer"===n.call(a).slice(8,-1)?function(t,n,r){n>>>=0;var s=t.byteLength-n;if(s<0)throw new RangeError("'offset' is out of bounds");if(r===undefined)r=s;else if((r>>>=0)>s)throw new RangeError("'length' is out of bounds");return f?e.from(t.slice(n,n+r)):new e(new Uint8Array(t.slice(n,n+r)))}(t,r,s):"string"==typeof t?function(t,n){if("string"==typeof n&&""!==n||(n="utf8"),!e.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return f?e.from(t,n):new e(t,n)}(t,r):f?e.from(t):new e(t);var a}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"terser>source-map-support>buffer-from",file:"node_modules/buffer-from/index.js"}],[34,{"webextension-polyfill":4954},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getNotificationImage=async function(){return await r.default.runtime.getURL("../../images/icon-64.png")};var f,r=(f=e("webextension-polyfill"))&&f.__esModule?f:{default:f}}}},{package:"$root$",file:"app/scripts/controllers/push-notifications/get-notification-image.ts"}],[340,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=Math.pow(2,7),r=Math.pow(2,14),s=Math.pow(2,21),a=Math.pow(2,28),i=Math.pow(2,35),o=Math.pow(2,42),c=Math.pow(2,49),l=Math.pow(2,56),u=Math.pow(2,63);t.exports=function(e){return e<f?1:e<r?2:e<s?3:e<a?4:e<i?5:e<o?6:e<c?7:e<l?8:e<u?9:10}}}},{package:"@ensdomains/content-hash>multihashes>varint",file:"node_modules/@ensdomains/content-hash/node_modules/varint/length.js"}],[341,{cids:3412},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f=e("cids");n.cidForWeb=e=>{let t=new f(e);0===t.version&&(t=t.toV1());let n=t.toString("base32");if(n.length>63){const e=t.toString("base36");if(e.length<=63)return e;throw new TypeError("CID is longer than DNS limit of 63 characters and is not compatible with public gateways")}return n};n.cidV0ToV1Base32=e=>{let t=new f(e);return 0===t.version&&(t=t.toV1()),t.toString("base32")}}}},{package:"@ensdomains/content-hash",file:"node_modules/@ensdomains/content-hash/src/helpers.js"}],[3411,{multihashes:4203},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f=e("multihashes"),r={checkCIDComponents:function(e){if(null==e)return"null values are not valid CIDs";if(0!==e.version&&1!==e.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof e.codec)return"codec must be string";if(0===e.version){if("dag-pb"!==e.codec)return"codec must be 'dag-pb' for CIDv0";if("base58btc"!==e.multibaseName)return"multibaseName must be 'base58btc' for CIDv0"}if(!(e.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{f.validate(e.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};t.exports=r}}},{package:"@ensdomains/content-hash>cids",file:"node_modules/cids/src/cid-util.js"}],[3412,{"./cid-util":3411,multibase:4161,multicodec:4171,multihashes:4203,"uint8arrays/concat":4862,"uint8arrays/equals":4863,"uint8arrays/to-string":4865},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f=e("multihashes"),r=e("multibase"),s=e("multicodec"),a=e("./cid-util"),i=e("uint8arrays/concat"),o=e("uint8arrays/to-string"),c=e("uint8arrays/equals"),l=s.nameToCode,u=Object.keys(l).reduce(((e,t)=>(e[l[t]]=t,e)),{}),d=Symbol.for("@ipld/js-cid/CID");class h{constructor(e,t,n,a){if(this.version,this.codec,this.multihash,Object.defineProperty(this,d,{value:!0}),h.isCID(e)){const t=e;return this.version=t.version,this.codec=t.codec,this.multihash=t.multihash,void(this.multibaseName=t.multibaseName||(0===t.version?"base58btc":"base32"))}if("string"==typeof e){const t=r.isEncoded(e);if(t){const n=r.decode(e);this.version=parseInt(n[0].toString(),16),this.codec=s.getCodec(n.slice(1)),this.multihash=s.rmPrefix(n.slice(1)),this.multibaseName=t}else this.version=0,this.codec="dag-pb",this.multihash=f.fromB58String(e),this.multibaseName="base58btc";return h.validateCID(this),void Object.defineProperty(this,"string",{value:e})}if(e instanceof Uint8Array){const t=parseInt(e[0].toString(),16);if(1===t){const n=e;this.version=t,this.codec=s.getCodec(n.slice(1)),this.multihash=s.rmPrefix(n.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";h.validateCID(this)}else this.version=e,"number"==typeof t&&(t=u[t]),this.codec=t,this.multihash=n,this.multibaseName=a||(0===e?"base58btc":"base32"),h.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(0===this.version)e=this.multihash;else{if(1!==this.version)throw new Error("unsupported version");{const t=s.getCodeVarint(this.codec);e=i([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=s.getCodeVarint(this.codec),t=f.prefix(this.multihash);return i([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return l[this.codec]}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=f.decode(this.multihash);if("sha2-256"!==e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(32!==t)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new h(0,this.codec,this.multihash)}toV1(){return new h(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(e=this.multibaseName){if(this.string&&0!==this.string.length&&e===this.multibaseName)return this.string;let t;if(0===this.version){if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=f.toB58String(this.multihash)}else{if(1!==this.version)throw new Error("unsupported version");t=o(r.encode(e,this.bytes))}return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&c(this.multihash,e.multihash)}static validateCID(e){const t=a.checkCIDComponents(e);if(t)throw new Error(t)}static isCID(e){return e instanceof h||Boolean(e&&e[d])}}h.codecs=l,t.exports=h}}},{package:"@ensdomains/content-hash>cids",file:"node_modules/cids/src/index.js"}],[342,{"./helpers":341,"./profiles":343,multicodec:4171,multihashes:336},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const f=e("multicodec"),r=e("multihashes"),{hexStringToBuffer:s,profiles:a}=e("./profiles"),{cidForWeb:i,cidV0ToV1Base32:o}=e("./helpers");t.exports={helpers:{cidForWeb:i,cidV0ToV1Base32:o},decode:function(e){const t=s(e),n=f.getCodec(t),r=f.rmPrefix(t);let i=a[n];return i||(i=a.default),i.decode(r)},fromIpfs:function(e){return this.encode("ipfs-ns",e)},fromSkylink:function(e){return this.encode("skynet-ns",e)},fromSwarm:function(e){return this.encode("swarm-ns",e)},fromArweave:function(e){return this.encode("arweave-ns",e)},encode:function(e,t){let n=a[e];n||(n=a.default);const s=n.encode(t);return r.toHexString(f.addPrefix(e,s))},getCodec:function(e){let t=s(e);return f.getCodec(t)}}}}},{package:"@ensdomains/content-hash",file:"node_modules/@ensdomains/content-hash/src/index.js"}],[343,{buffer:3392,cids:3412,"js-base64":3958,multihashes:336},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){const f=e("cids"),r=e("multihashes"),s=e("js-base64"),a=e=>{let t=e.slice(0,2),n=e.slice(2),f="";return f="0x"===t?n:e,r.fromHexString(f)},i=e=>{try{const{multihash:t}=e;if(t.length<38){const e=r.decode(t);if("identity"===e.name&&e.length<36)return!1}return!0}catch(e){return!1}},o={skynet:e=>s.toUint8Array(e),swarm:e=>{const t=r.encode(a(e),"keccak-256");return new f(1,"swarm-manifest",t).bytes},ipfs:e=>new f(e).toV1().bytes,ipns:e=>{const t=new f(e);if(!i(t))throw Error("ipns-ns allows only valid cryptographic libp2p-key identifiers, try using ED25519 pubkey instead");return new f(1,"libp2p-key",t.multihash).bytes},utf8:e=>t.from(e,"utf8"),arweave:e=>s.toUint8Array(e)},c={hexMultiHash:e=>{const t=new f(e);return r.decode(t.multihash).digest.toString("hex")},ipfs:e=>{const t=new f(e).toV1();return t.toString("libp2p-key"===t.codec?"base36":"base32")},ipns:e=>{const t=new f(e).toV1();return i(t)?t.toString("base36"):(console.warn("[ensdomains/content-hash] use of non-cryptographic identifiers in ipns-ns is deprecated and will be removed, migrate to ED25519 libp2p-key"),String(r.decode(new f(e).multihash).digest))},utf8:e=>e.toString("utf8"),base64:e=>s.fromUint8Array(e,!0)},l={"skynet-ns":{encode:o.skynet,decode:c.base64},"swarm-ns":{encode:o.swarm,decode:c.hexMultiHash},"ipfs-ns":{encode:o.ipfs,decode:c.ipfs},"ipns-ns":{encode:o.ipns,decode:c.ipns},"arweave-ns":{encode:o.arweave,decode:c.base64},default:{encode:o.utf8,decode:c.utf8}};n.hexStringToBuffer=a,n.profiles=l}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ensdomains/content-hash",file:"node_modules/@ensdomains/content-hash/src/profiles.js"}],[344,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.chains=void 0,n.chains={mainnet:{name:"mainnet",chainId:1,networkId:1,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},depositContractAddress:"0x00000000219ab540356cBB839Cbe05303d7705Fa",hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{name:"paris",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1681338455",forkHash:"0xdce96c2d"},{name:"cancun",block:null,timestamp:"1710338135",forkHash:"0x9f3d2254"},{name:"prague",block:null}],bootstrapNodes:[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"65.108.70.101",port:30303,id:"2b252ab6a1d0f971d9722cb839a42cb81db019ba44c08754628ab4a823487071b5695317c8ccd085219c3a03af063495b2f1da8d18218da2d6a82981b45e6ffc",location:"eu-west-1-001",comment:"bootnode-hetzner-hel"},{ip:"157.90.35.166",port:30303,id:"4aeb4ab6c14b23e2c4cfdce879c04b0748a20d8e9b59e25ded2a08143e265c6c25936e74cbc8e641e3312ca288673d91f2f93f8e277de3cfa444ecdaaf982052",location:"eu-central-1-001",comment:"bootnode-hetzner-fsn"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},goerli:{name:"goerli",chainId:5,networkId:5,defaultHardfork:"shanghai",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{name:"paris",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1678832736",forkHash:"0xf9843abf"},{name:"cancun",block:null,timestamp:"1705473120",forkHash:"0x70cc14e2"}],bootstrapNodes:[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"18.218.250.66",port:30313,id:"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949",location:"",comment:"Upstream bootnode 4"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"},{ip:"51.15.116.226",port:30303,id:"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:30303,id:"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:40303,id:"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd",location:"",comment:"Goerli Initiative bootnode"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},sepolia:{name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{name:"paris",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"},{name:"cancun",block:null,timestamp:"1706655072",forkHash:"0x88cf81d9"}],bootstrapNodes:[{ip:"18.168.182.86",port:30303,id:"9246d00bc8fd1742e5ad2428b80fc4dc45d786283e05ef6edbd9002cbc335d40998444732fbe921cb88e1d2c73d1b1de53bae6a2237996e9bfe14f871baf7066",location:"",comment:"geth"},{ip:"52.14.151.177",port:30303,id:"ec66ddcf1a974950bd4c782789a7e04f8aa7110a72569b6e65fcd51e937e74eed303b1ea734e4d19cfaec9fbff9b6ee65bf31dcb50ba79acce9dd63a6aca61c7",location:"",comment:"besu"},{ip:"165.22.196.173",port:30303,id:"ce970ad2e9daa9e14593de84a8b49da3d54ccfdf83cbc4fe519cb8b36b5918ed4eab087dedd4a62479b8d50756b492d5f762367c8d20329a7854ec01547568a6",location:"",comment:"EF"},{ip:"65.108.95.67",port:30303,id:"075503b13ed736244896efcde2a992ec0b451357d46cb7a8132c0384721742597fc8f0d91bbb40bb52e7d6e66728d36a1fda09176294e4a30cfac55dcce26bc6",location:"",comment:"lodestar"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},holesky:{name:"holesky",chainId:17e3,networkId:17e3,defaultHardfork:"paris",consensus:{type:"pos",algorithm:"casper"},comment:"PoS test network to replace Goerli",url:"https://github.com/eth-clients/holesky/",genesis:{baseFeePerGas:"0x3B9ACA00",difficulty:"0x01",extraData:"0x",gasLimit:"0x17D7840",nonce:"0x0000000000001234",timestamp:"0x65156994"},hardforks:[{name:"chainstart",block:0,forkHash:"0xc61a6098"},{name:"homestead",block:0,forkHash:"0xc61a6098"},{name:"tangerineWhistle",block:0,forkHash:"0xc61a6098"},{name:"spuriousDragon",block:0,forkHash:"0xc61a6098"},{name:"byzantium",block:0,forkHash:"0xc61a6098"},{name:"constantinople",block:0,forkHash:"0xc61a6098"},{name:"petersburg",block:0,forkHash:"0xc61a6098"},{name:"istanbul",block:0,forkHash:"0xc61a6098"},{name:"muirGlacier",block:0,forkHash:"0xc61a6098"},{name:"berlin",block:0,forkHash:"0xc61a6098"},{name:"london",block:0,forkHash:"0xc61a6098"},{name:"paris",ttd:"0",block:0,forkHash:"0xc61a6098"},{name:"mergeForkIdTransition",block:0,forkHash:"0xc61a6098"},{name:"shanghai",block:null,timestamp:"1696000704",forkHash:"0xfd4f016b"},{name:"cancun",block:null,timestamp:"1707305664",forkHash:"0x9b192ad0"}],bootstrapNodes:[{ip:"146.190.13.128",port:30303,id:"ac906289e4b7f12df423d654c5a962b6ebe5b3a74cc9e06292a85221f9a64a6f1cfdd6b714ed6dacef51578f92b34c60ee91e9ede9c7f8fadc4d347326d95e2b",location:"",comment:"bootnode 1"},{ip:"178.128.136.233",port:30303,id:"a3435a0155a3e837c02f5e7f5662a2f1fbc25b48e4dc232016e1c51b544cb5b4510ef633ea3278c0e970fa8ad8141e2d4d0f9f95456c537ff05fdf9b31c15072",location:"",comment:"bootnode 2"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.holesky.ethdisco.net"]},kaustinen6:{name:"kaustinen6",chainId:69420,networkId:69420,defaultHardfork:"osaka",consensus:{type:"pos",algorithm:"casper"},comment:"Verkle kaustinen testnet 6 (likely temporary, do not hard-wire into production code)",url:"https://github.com/eth-clients/kaustinen/",genesis:{difficulty:"0x01",extraData:"0x",gasLimit:"0x17D7840",nonce:"0x0000000000001234",timestamp:"0x66190fbc"},hardforks:[{name:"chainstart",block:0},{name:"homestead",block:0},{name:"tangerineWhistle",block:0},{name:"spuriousDragon",block:0},{name:"byzantium",block:0},{name:"constantinople",block:0},{name:"petersburg",block:0},{name:"istanbul",block:0},{name:"berlin",block:0},{name:"london",block:0},{name:"paris",ttd:"0",block:0},{name:"mergeForkIdTransition",block:0},{name:"shanghai",block:null,timestamp:"0"},{name:"osaka",block:null,timestamp:"1712848500"}],bootstrapNodes:[],dnsNetworks:[]}}}}},{package:"@trezor/connect-web>@trezor/connect>@ethereumjs/common",file:"node_modules/@ethereumjs/common/dist/cjs/chains.js"}],[345,{"./chains.js":344,"./crc.js":346,"./eips.js":347,"./enums.js":348,"./hardforks.js":349,"./utils.js":353,"@ethereumjs/util":363,events:3678},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Common=void 0;const f=e("@ethereumjs/util"),r=e("events"),s=e("./chains.js"),a=e("./crc.js"),i=e("./eips.js"),o=e("./enums.js"),c=e("./hardforks.js"),l=e("./utils.js");class u{constructor(e){this._eips=[],this._paramsCache={},this._activatedEIPsCache=[],this.events=new r.EventEmitter,this._customChains=e.customChains??[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??o.Hardfork.Shanghai,this.HARDFORK_CHANGES=this.hardforks().map((e=>[e.name,c.hardforks[e.name]??(this._chainParams.customHardforks&&this._chainParams.customHardforks[e.name])])),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==undefined&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips),this.customCrypto=e.customCrypto??{},0===Object.keys(this._paramsCache).length&&(this._buildParamsCache(),this._buildActivatedEIPsCache())}static custom(e,t={}){const n=t.baseChain??"mainnet",f={...u._getChainParams(n)};if(f.name="custom-chain","string"!=typeof e)return new u({chain:{...f,...e},...t});if(e===o.CustomChain.PolygonMainnet)return u.custom({name:o.CustomChain.PolygonMainnet,chainId:137,networkId:137},t);if(e===o.CustomChain.PolygonMumbai)return u.custom({name:o.CustomChain.PolygonMumbai,chainId:80001,networkId:80001},t);if(e===o.CustomChain.ArbitrumOne)return u.custom({name:o.CustomChain.ArbitrumOne,chainId:42161,networkId:42161},t);if(e===o.CustomChain.xDaiChain)return u.custom({name:o.CustomChain.xDaiChain,chainId:100,networkId:100},t);if(e===o.CustomChain.OptimisticKovan)return u.custom({name:o.CustomChain.OptimisticKovan,chainId:69,networkId:69},t);if(e===o.CustomChain.OptimisticEthereum)return u.custom({name:o.CustomChain.OptimisticEthereum,chainId:10,networkId:10},{hardfork:o.Hardfork.Berlin,...t});throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:t,eips:n,genesisHash:f,hardfork:r,mergeForkIdPostMerge:s,customCrypto:a}){const i=(0,l.parseGethGenesis)(e,t,s),o=new u({chain:i.name??"custom",customChains:[i],eips:n,hardfork:r??i.hardfork,customCrypto:a});return f!==undefined&&o.setForkHashes(f),o}static isSupportedChainId(e){const t=this.getInitializedChains();return Boolean(t.names[e.toString()])}static _getChainParams(e,t){const n=this.getInitializedChains(t);if("number"==typeof e||"bigint"==typeof e){if(e=e.toString(),n.names[e]){return n[n.names[e]]}throw new Error(`Chain with ID ${e} not supported`)}if(n[e]!==undefined)return n[e];throw new Error(`Chain with name ${e} not supported`)}setChain(e){if("number"==typeof e||"bigint"==typeof e||"string"==typeof e)this._chainParams=u._getChainParams(e,this._customChains);else{if("object"!=typeof e)throw new Error("Wrong input format");{if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const t=["networkId","genesis","hardforks","bootstrapNodes"];for(const n of t)if(!(n in e))throw new Error(`Missing required chain parameter: ${n}`);this._chainParams=e}}for(const e of this.hardforks())if(e.block===undefined)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let t=!1;for(const n of this.HARDFORK_CHANGES)n[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this._buildParamsCache(),this._buildActivatedEIPsCache(),this.events.emit("hardforkChanged",e)),t=!0);if(!t)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkBy(e){const t=(0,f.toType)(e.blockNumber,f.TypeOutput.BigInt),n=(0,f.toType)(e.td,f.TypeOutput.BigInt),r=(0,f.toType)(e.timestamp,f.TypeOutput.BigInt),s=this.hardforks().filter((e=>null!==e.block||null!==e.ttd&&e.ttd!==undefined||e.timestamp!==undefined)),a=s.findIndex((e=>null!==e.ttd&&e.ttd!==undefined));if(s.slice(a+1).findIndex((e=>null!==e.ttd&&e.ttd!==undefined))>=0)throw Error("More than one merge hardforks found with ttd specified");let i=s.findIndex((e=>t!==undefined&&null!==e.block&&BigInt(e.block)>t||r!==undefined&&e.timestamp!==undefined&&BigInt(e.timestamp)>r));if(-1===i)i=s.length;else if(0===i)throw Error("Must have at least one hardfork at block 0");if(r===undefined){i-=s.slice(0,i).reverse().findIndex((e=>null!==e.block||e.ttd!==undefined))}if(i-=1,null===s[i].block&&s[i].timestamp===undefined)(n===undefined||null===n||BigInt(s[i].ttd)>n)&&(i-=1);else if(a>=0&&n!==undefined&&null!==n){if(i>=a&&BigInt(s[a].ttd)>n)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(i<a&&BigInt(s[a].ttd)<n)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const o=i;for(;i<s.length-1&&(s[i].block===s[i+1].block&&s[i].timestamp===s[i+1].timestamp);i++);if(r!==undefined){if(s.slice(0,o).reduce(((e,t)=>Math.max(Number(t.timestamp??"0"),e)),0)>r)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(s.slice(i+1).reduce(((e,t)=>Math.min(Number(t.timestamp??r),e)),Number(r))<r)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return s[i].name}setHardforkBy(e){const t=this.getHardforkBy(e);return this.setHardfork(t),t}_getHardfork(e){const t=this.hardforks();for(const n of t)if(n.name===e)return n;return null}setEIPs(e=[]){for(const t of e){if(!(t in i.EIPs))throw new Error(`${t} not supported`);const e=this.gteHardfork(i.EIPs[t].minimumHardfork);if(!e)throw new Error(`${t} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${e}`)}this._eips=e,this._buildParamsCache(),this._buildActivatedEIPsCache();for(const t of e)if(i.EIPs[t].requiredEIPs!==undefined)for(const n of i.EIPs[t].requiredEIPs)if(!e.includes(n)&&!this.isActivatedEIP(n))throw new Error(`${t} requires EIP ${n}, but is not included in the EIP list`)}_mergeWithParamsCache(e){this._paramsCache.gasConfig={...this._paramsCache.gasConfig,...e.gasConfig},this._paramsCache.gasPrices={...this._paramsCache.gasPrices,...e.gasPrices},this._paramsCache.pow={...this._paramsCache.pow,...e.pow},this._paramsCache.sharding={...this._paramsCache.sharding,...e.sharding},this._paramsCache.vm={...this._paramsCache.vm,...e.vm}}_buildParamsCache(){this._paramsCache={};const e=this.hardfork();for(const t of this.HARDFORK_CHANGES){if("eips"in t[1]){const e=t[1].eips;for(const t of e){if(!(t in i.EIPs))throw new Error(`${t} not supported`);this._mergeWithParamsCache(i.EIPs[t])}}else this._mergeWithParamsCache(t[1]);if(t[0]===e)break}for(const e of this._eips){if(!(e in i.EIPs))throw new Error(`${e} not supported`);this._mergeWithParamsCache(i.EIPs[e])}}_buildActivatedEIPsCache(){this._activatedEIPsCache=[];for(const e of this.HARDFORK_CHANGES){const t=e[1];this.gteHardfork(t.name)&&"eips"in t&&(this._activatedEIPsCache=this._activatedEIPsCache.concat(t.eips))}this._activatedEIPsCache=this._activatedEIPsCache.concat(this._eips)}param(e,t){let n=null;return this._paramsCache[e]!==undefined&&this._paramsCache[e][t]!==undefined&&(n=this._paramsCache[e][t].v),BigInt(n??0)}paramByHardfork(e,t,n){let f=null;for(const r of this.HARDFORK_CHANGES){if("eips"in r[1]){const n=r[1].eips;for(const r of n){const n=this.paramByEIP(e,t,r);f="bigint"==typeof n?n:f}}else r[1][e]!==undefined&&r[1][e][t]!==undefined&&(f=r[1][e][t].v);if(r[0]===n)break}return BigInt(f??0)}paramByEIP(e,t,n){if(!(n in i.EIPs))throw new Error(`${n} not supported`);const f=i.EIPs[n];if(!(e in f))return undefined;if(f[e][t]===undefined)return undefined;const r=f[e][t].v;return BigInt(r)}paramByBlock(e,t,n,f,r){const s=this.getHardforkBy({blockNumber:n,td:f,timestamp:r});return this.paramByHardfork(e,t,s)}isActivatedEIP(e){return!!this._activatedEIPsCache.includes(e)}hardforkIsActiveOnBlock(e,t){t=(0,f.toType)(t,f.TypeOutput.BigInt),e=e??this._hardfork;const n=this.hardforkBlock(e);return"bigint"==typeof n&&n!==f.BIGINT_0&&t>=n}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,t){e=e??this._hardfork;const n=this.hardforks();let f=-1,r=-1,s=0;for(const a of n)a.name===e&&(f=s),a.name===t&&(r=s),s+=1;return f>=r&&-1!==r}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){e=e??this._hardfork;const t=this._getHardfork(e)?.block;return t===undefined||null===t?null:BigInt(t)}hardforkTimestamp(e){e=e??this._hardfork;const t=this._getHardfork(e)?.timestamp;return t===undefined||null===t?null:BigInt(t)}eipBlock(e){for(const t of this.HARDFORK_CHANGES){const n=t[1];if("eips"in n&&n.eips.includes(e))return this.hardforkBlock(t[0])}return null}eipTimestamp(e){for(const t of this.HARDFORK_CHANGES){const n=t[1];if("eips"in n&&n.eips.includes(e))return this.hardforkTimestamp(t[0])}return null}hardforkTTD(e){e=e??this._hardfork;const t=this._getHardfork(e)?.ttd;return t===undefined||null===t?null:BigInt(t)}nextHardforkBlockOrTimestamp(e){e=e??this._hardfork;const t=this.hardforks();let n=t.findIndex((t=>t.name===e));if(e===o.Hardfork.Paris&&(n-=1),n<0)return null;let f=t[n].timestamp??t[n].block;f=null!==f&&f!==undefined?Number(f):null;const r=t.slice(n+1).find((e=>{let t=e.timestamp??e.block;return t=null!==t&&t!==undefined?Number(t):null,e.name!==o.Hardfork.Paris&&null!==t&&t!==undefined&&t!==f}));if(r===undefined)return null;const s=r.timestamp??r.block;return null===s||s===undefined?null:BigInt(s)}_calcForkHash(e,t){let n=new Uint8Array(0),r=0;for(const t of this.hardforks()){const{block:s,timestamp:a,name:i}=t;let c=a??s;if(c=null!==c?Number(c):null,"number"==typeof c&&0!==c&&c!==r&&i!==o.Hardfork.Paris){const e=(0,f.hexToBytes)(`0x${c.toString(16).padStart(16,"0")}`);n=(0,f.concatBytes)(n,e),r=c}if(t.name===e)break}const s=(0,f.concatBytes)(t,n);return(0,f.bytesToHex)((0,f.intToBytes)((0,a.crc32)(s)>>>0))}forkHash(e,t){e=e??this._hardfork;const n=this._getHardfork(e);if(null===n||null===n?.block&&n?.timestamp===undefined&&n?.ttd===undefined){throw new Error("No fork hash calculation possible for future hardfork")}if(null!==n?.forkHash&&n?.forkHash!==undefined)return n.forkHash;if(!t)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(e,t)}hardforkForForkHash(e){const t=this.hardforks().filter((t=>t.forkHash===e));return t.length>=1?t[t.length-1]:null}setForkHashes(e){for(const t of this.hardforks()){const n=t.timestamp??t.block;null!==t.forkHash&&t.forkHash!==undefined||(null===n||n===undefined)&&void 0===t.ttd||(t.forkHash=this.forkHash(t.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){const e=this._chainParams.hardforks;return this._chainParams.customHardforks!==undefined&&this._chainParams.customHardforks,e}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.type),n[0]===e)break;return t??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.algorithm),n[0]===e)break;return t??this._chainParams.consensus.algorithm}consensusConfig(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES){if("consensus"in n[1]){const e=n[1],f=e.consensus.algorithm;t=e.consensus[f]}if(n[0]===e)break}return t??this._chainParams.consensus[this.consensusAlgorithm()]??{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.events=new r.EventEmitter,e}static getInitializedChains(e){const t={};for(const[e,n]of Object.entries(o.Chain))t[n]=e.toLowerCase();const n={...s.chains};if(e)for(const f of e){const{name:e}=f;t[f.chainId.toString()]=e,n[e]=f}return n.names=t,n}}n.Common=u}}},{package:"@trezor/connect-web>@trezor/connect>@ethereumjs/common",file:"node_modules/@ethereumjs/common/dist/cjs/common.js"}],[3451,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f=Object.prototype.toString;t.exports=function(e){switch(f.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":e===undefined?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":null!=(t=e)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))?"buffer":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e));var t}}}},{package:"@segment/loosely-validate-event>component-type",file:"node_modules/component-type/index.js"}],[346,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.crc32=void 0;let f=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(f=new Int32Array(f));n.crc32=(e,t)=>((e,t)=>{let n=0===t?0:~t;for(let t=0;t<e.length;t++)n=f[255&(n^e[t])]^n>>>8;return~n})(e,t)>>>0}}},{package:"@trezor/connect-web>@trezor/connect>@ethereumjs/common",file:"node_modules/@ethereumjs/common/dist/cjs/crc.js"}],[347,{"./enums.js":348},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EIPs=void 0;const f=e("./enums.js");var r;!function(e){e.Stagnant="stagnant",e.Draft="draft",e.Review="review",e.Final="final"}(r||(r={})),n.EIPs={1153:{comment:"Transient storage opcodes",url:"https://eips.ethereum.org/EIPS/eip-1153",status:r.Review,minimumHardfork:f.Hardfork.Chainstart,requiredEIPs:[],gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}}},1559:{comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:r.Final,minimumHardfork:f.Hardfork.Berlin,requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}}},2565:{comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:r.Final,minimumHardfork:f.Hardfork.Byzantium,requiredEIPs:[],gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}}},2537:{comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:f.Hardfork.Chainstart,requiredEIPs:[],gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:500,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:800,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:45e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:65e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:43e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:75e3,d:"Gas cost of BLS12-381 map field element to G2"}},vm:{},pow:{}},2718:{comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:r.Final,minimumHardfork:f.Hardfork.Chainstart,requiredEIPs:[]},2929:{comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:r.Final,minimumHardfork:f.Hardfork.Chainstart,requiredEIPs:[],gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}}},2930:{comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:r.Final,minimumHardfork:f.Hardfork.Istanbul,requiredEIPs:[2718,2929],gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}}},2935:{comment:"Save historical block hashes in state (Verkle related usage, UNSTABLE)",url:"https://github.com/gballet/EIPs/pull/3/commits/2e9ac09a142b0d9fb4db0b8d4609f92e5d9990c5",status:r.Draft,minimumHardfork:f.Hardfork.Chainstart,requiredEIPs:[],vm:{historyStorageAddress:{v:BigInt("0x0aae40965e6800cd9b1f4b05ff21581047e3f91e"),d:"The address where the historical blockhashes are stored"},historyServeWindow:{v:BigInt(8192),d:"The amount of blocks to be served by the historical blockhash contract"}}},3074:{comment:"AUTH and AUTHCALL opcodes",url:"https://github.com/ethereum/EIPs/commit/eca4416ff3c025fcb6ec8cd4eac481e74e108481",status:r.Review,minimumHardfork:f.Hardfork.London,requiredEIPs:[],gasPrices:{auth:{v:3100,d:"Gas cost of the AUTH opcode"},authcall:{v:0,d:"Gas cost of the AUTHCALL opcode"},authcallValueTransfer:{v:6700,d:"Paid for CALL when the value transfer is non-zero"}}},3198:{comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:r.Final,minimumHardfork:f.Hardfork.London,requiredEIPs:[],gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}}},3529:{comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:r.Final,minimumHardfork:f.Hardfork.Berlin,requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}}},3540:{comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:r.Review,minimumHardfork:f.Hardfork.London,requiredEIPs:[3541]},3541:{comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:r.Final,minimumHardfork:f.Hardfork.Berlin,requiredEIPs:[]},3554:{comment:"Difficulty Bomb Delay to December 1st 2021",url:"https://eips.ethereum.org/EIPS/eip-3554",status:r.Final,minimumHardfork:f.Hardfork.MuirGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},3607:{comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:r.Final,minimumHardfork:f.Hardfork.Chainstart,requiredEIPs:[]},3651:{comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:r.Review,minimumHardfork:f.Hardfork.London,requiredEIPs:[2929]},3670:{comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:f.Hardfork.London,requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},3675:{comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:r.Final,minimumHardfork:f.Hardfork.London,requiredEIPs:[]},3855:{comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:r.Review,minimumHardfork:f.Hardfork.Chainstart,requiredEIPs:[],gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}}},3860:{comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:r.Review,minimumHardfork:f.Hardfork.SpuriousDragon,requiredEIPs:[],gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}}},4345:{comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:r.Final,minimumHardfork:f.Hardfork.London,requiredEIPs:[],pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},4399:{comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:r.Review,minimumHardfork:f.Hardfork.London,requiredEIPs:[],gasPrices:{prevrandao:{v:2,d:"Base fee of the PREVRANDAO opcode (previously DIFFICULTY)"}}},4788:{comment:"Beacon block root in the EVM",url:"https://eips.ethereum.org/EIPS/eip-4788",status:r.Draft,minimumHardfork:f.Hardfork.Cancun,requiredEIPs:[],gasPrices:{},vm:{historicalRootsLength:{v:8191,d:"The modulo parameter of the beaconroot ring buffer in the beaconroot statefull precompile"}}},4844:{comment:"Shard Blob Transactions",url:"https://eips.ethereum.org/EIPS/eip-4844",status:r.Draft,minimumHardfork:f.Hardfork.Paris,requiredEIPs:[1559,2718,2930,4895],gasConfig:{blobGasPerBlob:{v:131072,d:"The base fee for blob gas per blob"},targetBlobGasPerBlock:{v:393216,d:"The target blob gas consumed per block"},maxblobGasPerBlock:{v:786432,d:"The max blob gas allowable per block"},blobGasPriceUpdateFraction:{v:3338477,d:"The denominator used in the exponential when calculating a blob gas price"}},gasPrices:{simpleGasPerBlob:{v:12e3,d:"The basic gas fee for each blob"},minBlobGasPrice:{v:1,d:"The minimum fee per blob gas"},kzgPointEvaluationGasPrecompilePrice:{v:5e4,d:"The fee associated with the point evaluation precompile"},blobhash:{v:3,d:"Base fee of the BLOBHASH opcode"}},sharding:{blobCommitmentVersionKzg:{v:1,d:"The number indicated a versioned hash is a KZG commitment"},fieldElementsPerBlob:{v:4096,d:"The number of field elements allowed per blob"}}},4895:{comment:"Beacon chain push withdrawals as operations",url:"https://eips.ethereum.org/EIPS/eip-4895",status:r.Review,minimumHardfork:f.Hardfork.Paris,requiredEIPs:[]},5133:{comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:r.Draft,minimumHardfork:f.Hardfork.GrayGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},5656:{comment:"MCOPY - Memory copying instruction",url:"https://eips.ethereum.org/EIPS/eip-5656",status:r.Draft,minimumHardfork:f.Hardfork.Shanghai,requiredEIPs:[],gasPrices:{mcopy:{v:3,d:"Base fee of the MCOPY opcode"}}},6110:{comment:"Supply validator deposits on chain",url:"https://eips.ethereum.org/EIPS/eip-6110",status:r.Draft,minimumHardfork:f.Hardfork.Cancun,requiredEIPs:[7685]},6780:{comment:"SELFDESTRUCT only in same transaction",url:"https://eips.ethereum.org/EIPS/eip-6780",status:r.Draft,minimumHardfork:f.Hardfork.London,requiredEIPs:[]},6800:{comment:"Ethereum state using a unified verkle tree (experimental)",url:"https://github.com/ethereum/EIPs/pull/6800",status:r.Draft,minimumHardfork:f.Hardfork.London,requiredEIPs:[],gasPrices:{create:{v:1e3,d:"Base fee of the CREATE opcode"},coldsload:{v:0,d:"Gas cost of the first read of storage from a given location (per transaction)"}},vm:{historyStorageAddress:{v:BigInt("0xfffffffffffffffffffffffffffffffffffffffe"),d:"The address where the historical blockhashes are stored"}}},7002:{comment:"Execution layer triggerable withdrawals (experimental)",url:"https://github.com/ethereum/EIPs/blob/3b5fcad6b35782f8aaeba7d4ac26004e8fbd720f/EIPS/eip-7002.md",status:r.Draft,minimumHardfork:f.Hardfork.Paris,requiredEIPs:[7685],vm:{withdrawalRequestType:{v:BigInt(1),d:"The withdrawal request type for EIP-7685"},excessWithdrawalsRequestStorageSlot:{v:BigInt(0),d:"The storage slot of the excess withdrawals"},withdrawalsRequestCountStorage:{v:BigInt(1),d:"The storage slot of the withdrawal request count"},withdrawalsRequestQueueHeadStorageSlot:{v:BigInt(2),d:"The storage slot of the withdrawal request head of the queue"},withdrawalsRequestTailHeadStorageSlot:{v:BigInt(3),d:"The storage slot of the withdrawal request tail of the queue"},withdrawalsRequestQueueStorageOffset:{v:BigInt(4),d:"The storage slot of the withdrawal request queue offset"},maxWithdrawalRequestsPerBlock:{v:BigInt(16),d:"The max withdrawal requests per block"},targetWithdrawalRequestsPerBlock:{v:BigInt(2),d:"The target withdrawal requests per block"},minWithdrawalRequestFee:{v:BigInt(1),d:"The minimum withdrawal request fee (in wei)"},withdrawalRequestFeeUpdateFraction:{v:BigInt(17),d:"The withdrawal request fee update fraction (used in the fake exponential)"},systemAddress:{v:BigInt("0xfffffffffffffffffffffffffffffffffffffffe"),d:"The system address to perform operations on the withdrawal requests predeploy address"},withdrawalRequestPredeployAddress:{v:BigInt("0x00A3ca265EBcb825B45F985A16CEFB49958cE017"),d:"Address of the validator excess address"}}},7251:{comment:"Execution layer triggered consolidations (experimental)",url:"https://eips.ethereum.org/EIPS/eip-7251",status:r.Draft,minimumHardfork:f.Hardfork.Paris,requiredEIPs:[7685],vm:{consolidationRequestType:{v:BigInt(2),d:"The withdrawal request type for EIP-7685"},systemAddress:{v:BigInt("0xfffffffffffffffffffffffffffffffffffffffe"),d:"The system address to perform operations on the consolidation requests predeploy address"},consolidationRequestPredeployAddress:{v:BigInt("0x00b42dbF2194e931E80326D950320f7d9Dbeac02"),d:"Address of the consolidations contract"}}},7516:{comment:"BLOBBASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-7516",status:r.Draft,minimumHardfork:f.Hardfork.Paris,requiredEIPs:[4844],gasPrices:{blobbasefee:{v:2,d:"Gas cost of the BLOBBASEFEE opcode"}}},7685:{comment:"General purpose execution layer requests",url:"https://eips.ethereum.org/EIPS/eip-7685",status:r.Draft,minimumHardfork:f.Hardfork.Cancun,requiredEIPs:[3675],gasPrices:{}},7702:{comment:"Set EOA account code for one transaction",url:"https://github.com/ethereum/EIPs/blob/62419ca3f45375db00b04a368ea37c0bfb05386a/EIPS/eip-7702.md",status:r.Review,minimumHardfork:f.Hardfork.Cancun,requiredEIPs:[2718,2929,2930],gasPrices:{perAuthBaseCost:{v:2500,d:"Gas cost of each authority item"}}},7709:{comment:"Use historical block hashes saved in state for BLOCKHASH",url:"https://eips.ethereum.org/EIPS/eip-7709",status:r.Draft,minimumHardfork:f.Hardfork.Chainstart,requiredEIPs:[2935]}}}}},{package:"@trezor/connect-web>@trezor/connect>@ethereumjs/common",file:"node_modules/@ethereumjs/common/dist/cjs/eips.js"}],[348,{"@ethereumjs/util":363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CustomChain=n.ConsensusAlgorithm=n.ConsensusType=n.Hardfork=n.ChainGenesis=n.Chain=void 0;const f=e("@ethereumjs/util");var r;!function(e){e[e.Mainnet=1]="Mainnet",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia",e[e.Holesky=17e3]="Holesky",e[e.Kaustinen6=69420]="Kaustinen6"}(r=n.Chain||(n.Chain={})),n.ChainGenesis={[r.Mainnet]:{name:"mainnet",blockNumber:f.BIGINT_0,stateRoot:(0,f.hexToBytes)("0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544")},[r.Goerli]:{name:"goerli",blockNumber:f.BIGINT_0,stateRoot:(0,f.hexToBytes)("0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008")},[r.Sepolia]:{name:"sepolia",blockNumber:f.BIGINT_0,stateRoot:(0,f.hexToBytes)("0x5eb6e371a698b8d68f665192350ffcecbbbf322916f4b51bd79bb6887da3f494")},[r.Holesky]:{name:"holesky",blockNumber:f.BIGINT_0,stateRoot:(0,f.hexToBytes)("0x69d8c9d72f6fa4ad42d4702b433707212f90db395eb54dc20bc85de253788783")},[r.Kaustinen6]:{name:"kaustinen6",blockNumber:f.BIGINT_0,stateRoot:(0,f.hexToBytes)("0x1fbf85345a3cbba9a6d44f991b721e55620a22397c2a93ee8d5011136ac300ee")}},function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Paris="paris",e.Shanghai="shanghai",e.Cancun="cancun",e.Prague="prague",e.Osaka="osaka"}(n.Hardfork||(n.Hardfork={})),function(e){e.ProofOfStake="pos",e.ProofOfWork="pow",e.ProofOfAuthority="poa"}(n.ConsensusType||(n.ConsensusType={})),function(e){e.Ethash="ethash",e.Clique="clique",e.Casper="casper"}(n.ConsensusAlgorithm||(n.ConsensusAlgorithm={})),function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum"}(n.CustomChain||(n.CustomChain={}))}}},{package:"@trezor/connect-web>@trezor/connect>@ethereumjs/common",file:"node_modules/@ethereumjs/common/dist/cjs/enums.js"}],[349,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f;Object.defineProperty(n,"__esModule",{value:!0}),n.hardforks=n.Status=void 0,function(e){e.Draft="draft",e.Review="review",e.Final="final"}(f=n.Status||(n.Status={})),n.hardforks={chainstart:{name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:f.Final,gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},keccak256:{v:30,d:"Base fee of the SHA3 opcode"},keccak256Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:BigInt("5000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},homestead:{name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:f.Final,gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}}},dao:{name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:f.Final},tangerineWhistle:{name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:f.Final,gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}}},spuriousDragon:{name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:f.Final,gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}}},byzantium:{name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:f.Final,gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},pow:{minerReward:{v:BigInt("3000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople:{name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:f.Final,gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},pow:{minerReward:{v:BigInt("2000000000000000000"),d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg:{name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:f.Final,gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}}},istanbul:{name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:f.Final,gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}}},muirGlacier:{name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:f.Final,pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin:{name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:f.Final,eips:[2565,2929,2718,2930]},london:{name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:f.Final,eips:[1559,3198,3529,3541]},arrowGlacier:{name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:f.Final,eips:[4345]},grayGlacier:{name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:f.Final,eips:[5133]},paris:{name:"paris",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:f.Final,consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},mergeForkIdTransition:{name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:f.Final,eips:[]},shanghai:{name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:f.Final,eips:[3651,3855,3860,4895]},cancun:{name:"cancun",comment:"Next feature hardfork after shanghai, includes proto-danksharding EIP 4844 blobs (still WIP hence not for production use), transient storage opcodes, parent beacon block root availability in EVM, selfdestruct only in same transaction, and blob base fee opcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/cancun.md",status:f.Final,eips:[1153,4844,4788,5656,6780,7516]},prague:{name:"prague",comment:"Next feature hardfork after cancun, internally used for pectra testing/implementation (incomplete/experimental)",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/prague.md",status:f.Draft,eips:[2537,2935,3074,6110,7002,7251,7685]},osaka:{name:"osaka",comment:"Next feature hardfork after prague, internally used for verkle testing/implementation (incomplete/experimental)",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/osaka.md",status:f.Draft,eips:[2935,6800]}}}}},{package:"@trezor/connect-web>@trezor/connect>@ethereumjs/common",file:"node_modules/@ethereumjs/common/dist/cjs/hardforks.js"}],[3490,{"./cipher-core":3492,"./core":3493,"./enc-base64":3494,"./evpkdf":3497,"./md5":3502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r;f=this,r=function(e){return function(){var t=e,n=t.lib.BlockCipher,f=t.algo,r=[],s=[],a=[],i=[],o=[],c=[],l=[],u=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,f=0;for(t=0;t<256;t++){var p=f^f<<1^f<<2^f<<3^f<<4;p=p>>>8^255&p^99,r[n]=p,s[p]=n;var b=e[n],m=e[b],g=e[m],y=257*e[p]^16843008*p;a[n]=y<<24|y>>>8,i[n]=y<<16|y>>>16,o[n]=y<<8|y>>>24,c[n]=y,y=16843009*g^65537*m^257*b^16843008*n,l[p]=y<<24|y>>>8,u[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,h[p]=y,n?(n=b^e[e[e[g^b]]],f^=e[e[f]]):n=f=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],b=f.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,f=4*((this._nRounds=n+6)+1),s=this._keySchedule=[],a=0;a<f;a++)a<n?s[a]=t[a]:(c=s[a-1],a%n?n>6&&a%n==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=p[a/n|0]<<24),s[a]=s[a-n]^c);for(var i=this._invKeySchedule=[],o=0;o<f;o++){if(a=f-o,o%4)var c=s[a];else c=s[a-4];i[o]=o<4||a<=4?c:l[r[c>>>24]]^u[r[c>>>16&255]]^d[r[c>>>8&255]]^h[r[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,i,o,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,u,d,h,s),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,f,r,s,a,i){for(var o=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],u=e[t+2]^n[2],d=e[t+3]^n[3],h=4,p=1;p<o;p++){var b=f[c>>>24]^r[l>>>16&255]^s[u>>>8&255]^a[255&d]^n[h++],m=f[l>>>24]^r[u>>>16&255]^s[d>>>8&255]^a[255&c]^n[h++],g=f[u>>>24]^r[d>>>16&255]^s[c>>>8&255]^a[255&l]^n[h++],y=f[d>>>24]^r[c>>>16&255]^s[l>>>8&255]^a[255&u]^n[h++];c=b,l=m,u=g,d=y}b=(i[c>>>24]<<24|i[l>>>16&255]<<16|i[u>>>8&255]<<8|i[255&d])^n[h++],m=(i[l>>>24]<<24|i[u>>>16&255]<<16|i[d>>>8&255]<<8|i[255&c])^n[h++],g=(i[u>>>24]<<24|i[d>>>16&255]<<16|i[c>>>8&255]<<8|i[255&l])^n[h++],y=(i[d>>>24]<<24|i[c>>>16&255]<<16|i[l>>>8&255]<<8|i[255&u])^n[h++],e[t]=b,e[t+1]=m,e[t+2]=g,e[t+3]=y},keySize:8});t.AES=n._createHelper(b)}(),e.AES},"object"==typeof n?t.exports=n=r(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(f.CryptoJS)}}},{package:"@metamask/ppom-validator>crypto-js",file:"node_modules/crypto-js/aes.js"}],[3491,{"./cipher-core":3492,"./core":3493,"./enc-base64":3494,"./evpkdf":3497,"./md5":3502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r;f=this,r=function(e){return function(){var t=e,n=t.lib.BlockCipher,f=t.algo;const r=16,s=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var i={pbox:[],sbox:[]};function o(e,t){let n=t>>24&255,f=t>>16&255,r=t>>8&255,s=255&t,a=e.sbox[0][n]+e.sbox[1][f];return a^=e.sbox[2][r],a+=e.sbox[3][s],a}function c(e,t,n){let f,s=t,a=n;for(let t=0;t<r;++t)s^=e.pbox[t],a=o(e,s)^a,f=s,s=a,a=f;return f=s,s=a,a=f,a^=e.pbox[r],s^=e.pbox[r+1],{left:s,right:a}}var l=f.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;!function(e,t,n){for(let t=0;t<4;t++){e.sbox[t]=[];for(let n=0;n<256;n++)e.sbox[t][n]=a[t][n]}let f=0;for(let a=0;a<r+2;a++)e.pbox[a]=s[a]^t[f],f++,f>=n&&(f=0);let i=0,o=0,l=0;for(let t=0;t<r+2;t+=2)l=c(e,i,o),i=l.left,o=l.right,e.pbox[t]=i,e.pbox[t+1]=o;for(let t=0;t<4;t++)for(let n=0;n<256;n+=2)l=c(e,i,o),i=l.left,o=l.right,e.sbox[t][n]=i,e.sbox[t][n+1]=o}(i,t,n)}},encryptBlock:function(e,t){var n=c(i,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=function(e,t,n){let f,s=t,a=n;for(let t=r+1;t>1;--t)s^=e.pbox[t],a=o(e,s)^a,f=s,s=a,a=f;return f=s,s=a,a=f,a^=e.pbox[1],s^=e.pbox[0],{left:s,right:a}}(i,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=n._createHelper(l)}(),e.Blowfish},"object"==typeof n?t.exports=n=r(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(f.CryptoJS)}}},{package:"@metamask/ppom-validator>crypto-js",file:"node_modules/crypto-js/blowfish.js"}],[3492,{"./core":3493,"./evpkdf":3497},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var f,r;f=this,r=function(e){var t,n,f,r,s,a,i,o,c,l,u,d,h,p,b,m,g,y;e.lib.Cipher||(n=(t=e).lib,f=n.Base,r=n.WordArray,s=n.BufferedBlockAlgorithm,(a=t.enc).Utf8,i=a.Base64,o=t.algo.EvpKDF,c=n.Cipher=s.extend({cfg:f.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:m}return function(t){return{encrypt:function(n,f,r){return e(f).encrypt(t,n,f,r)},decrypt:function(n,f,r){return e(f).decrypt(t,n,f,r)}}}}()}),n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),l=t.mode={},u=n.BlockCipherMode=f.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=l.CBC=function(){var e=u.extend();function t(e,t,n){var f,r=this._iv;r?(f=r,this._iv=void 0):f=this._prevBlock;for(var s=0;s<n;s++)e[t+s]^=f[s]}return e.Encryptor=e.extend({processBlock:function(e,n){var f=this._cipher,r=f.blockSize;t.call(this,e,n,r),f.encryptBlock(e,n),this._prevBlock=e.slice(n,n+r)}}),e.Decryptor=e.extend({processBlock:function(e,n){var f=this._cipher,r=f.blockSize,s=e.slice(n,n+r);f.decryptBlock(e,n),t.call(this,e,n,r),this._prevBlock=s}}),e}(),h=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,f=n-e.sigBytes%n,s=f<<24|f<<16|f<<8|f,a=[],i=0;i<f;i+=4)a.push(s);var o=r.create(a,f);e.concat(o)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:d,padding:h}),reset:function(){var e;c.reset.call(this);var t=this.cfg,n=t.iv,f=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=f.createEncryptor:(e=f.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(f,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),p=n.CipherParams=f.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),b=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?r.create([1398893684,1701076831]).concat(n).concat(t):t).toString(i)},parse:function(e){var t,n=i.parse(e),f=n.words;return 1398893684==f[0]&&1701076831==f[1]&&(t=r.create(f.slice(2,4)),f.splice(0,4),n.sigBytes-=16),p.create({ciphertext:n,salt:t})}},m=n.SerializableCipher=f.extend({cfg:f.extend({format:b}),encrypt:function(e,t,n,f){f=this.cfg.extend(f);var r=e.createEncryptor(n,f),s=r.finalize(t),a=r.cfg;return p.create({ciphertext:s,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:f.format})},decrypt:function(e,t,n,f){return f=this.cfg.extend(f),t=this._parse(t,f.format),e.createDecryptor(n,f).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),g=(t.kdf={}).OpenSSL={execute:function(e,t,n,f,s){if(f||(f=r.random(8)),s)a=o.create({keySize:t+n,hasher:s}).compute(e,f);else var a=o.create({keySize:t+n}).compute(e,f);var i=r.create(a.words.slice(t),4*n);return a.sigBytes=4*t,p.create({key:a,iv:i,salt:f})}},y=n.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:g}),encrypt:function(e,t,n,f){var r=(f=this.cfg.extend(f)).kdf.execute(n,e.keySize,e.ivSize,f.salt,f.hasher);f.iv=r.iv;var s=m.encrypt.call(this,e,t,r.key,f);return s.mixIn(r),s},decrypt:function(e,t,n,f){f=this.cfg.extend(f),t=this._parse(t,f.format);var r=f.kdf.execute(n,e.keySize,e.ivSize,t.salt,f.hasher);return f.iv=r.iv,m.decrypt.call(this,e,t,r.key,f)}}))},"object"==typeof n?t.exports=n=r(e("./core"),e("./evpkdf")):"function"==typeof define&&define.amd?define(["./core","./evpkdf"],r):r(f.CryptoJS)}}},{package:"@metamask/ppom-validator>crypto-js",file:"node_modules/crypto-js/cipher-core.js"}]],[],{});